(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[351],{41351:function(t,n,o){"use strict";var r=o(23963);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(o(81949)),a=r(o(5957)),l=p(o(2265)),s=p(o(52810));o(40273);var u=r(o(81626)),c=o(94758),d=o(10245),h=r(o(40164));function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(f=function(t){return t?o:n})(t)}function p(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=f(n);if(o&&o.has(t))return o.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var l=i?Object.getOwnPropertyDescriptor(t,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=t[a]}return r.default=t,o&&o.set(t,r),r}function g(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,r)}return o}function m(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?g(Object(o),!0).forEach(function(n){(0,i.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}l.default.createElement;var y={routeNode:u.default},v={animated:!0,type:"default"};n.default=function(t){var n,o,r,i,u,f,p,g,b,E,x,w,S=(0,s.useNodesState)(t.initialNodes),_=(0,a.default)(S,3),C=_[0],N=_[1],M=_[2],k=(0,s.useEdgesState)(t.initialEdges),P=(0,a.default)(k,3),O=P[0],I=(P[1],P[2]),D=(0,l.useState)(),A=D[0],R=D[1];(0,l.useEffect)(function(){R(C[0].id)},[]),(0,l.useEffect)(function(){N(t.initialNodes.map(function(t){return m(m({},t),{},{data:m(m({},t.data),{},{selected:t.id===A})})}))},[A,N,t.initialNodes]);var z=(0,l.useMemo)(function(){return C.find(function(t){return t.id===A})},[A,C]),B=(0,l.useMemo)(function(){var t,n,o;return null!=z&&null!==(t=z.data)&&void 0!==t&&t.link&&(null==z?void 0:null===(n=z.data)||void 0===n?void 0:n.nextFiles.some(function(t){return t.name.match("page")||t.name.match("route")}))?null==z?void 0:null===(o=z.data)||void 0===o?void 0:o.link:""},[z]);return l.default.createElement("div",{className:h.default.flow,"data-menu":void 0!==A?"true":"false"},l.default.createElement("div",{className:h.default.sideDashBoard},l.default.createElement("div",{className:h.default.sideDashHeader},l.default.createElement("p",null,"Route information"),l.default.createElement("div",{onClick:function(){R(void 0)},style:{cursor:"pointer"}},l.default.createElement(c.CloseIcon,{color:"#ccc"}))),l.default.createElement("div",{className:h.default.sideDashGroup},l.default.createElement("p",{className:h.default.sideDashGroupHeader},"Name:"),l.default.createElement("p",{className:h.default.sideDashGroupItem},null==z?void 0:null===(n=z.data)||void 0===n?void 0:n.name)),l.default.createElement("div",{className:h.default.sideDashGroup},l.default.createElement("p",{className:h.default.sideDashGroupHeader},"Link:"),l.default.createElement("div",{className:h.default.sideDashGroupItem},l.default.createElement("span",{className:h.default.sideDashGroupLink,dangerouslySetInnerHTML:{__html:""!==B?null==z?void 0:null===(o=z.data)||void 0===o?void 0:o.link.replace(/\//g,"/<wbr>").replace(/\./g,".<wbr>").replace(/\-/g,"-<wbr>"):"None"}}),l.default.createElement("a",{href:B,style:{marginLeft:"auto"},target:"_blank",rel:"noreferrer",className:h.default.sideDashGroupLinkIcon,"data-valid":""!==B?"true":"false"},l.default.createElement(c.ExternalLinkIcon,{color:""!==B?"#000":"#ccc"})))),l.default.createElement("div",{className:h.default.sideDashGroup},l.default.createElement("p",{className:h.default.sideDashGroupHeader},"Path:"),l.default.createElement("p",{className:h.default.sideDashGroupItem},null==z?void 0:null===(r=z.data)||void 0===r?void 0:r.path)),l.default.createElement("div",{className:h.default.sideDashGroup},l.default.createElement("p",{className:h.default.sideDashGroupHeader},"Type:"),l.default.createElement("p",{className:h.default.sideDashGroupItem},null==z?void 0:null===(i=z.data)||void 0===i?void 0:i.type)),l.default.createElement("div",{className:h.default.sideDashGroup},l.default.createElement("p",{className:h.default.sideDashGroupHeader},"NextJS files:"),null==z?void 0:null===(u=z.data)||void 0===u?void 0:null===(f=u.nextFiles)||void 0===f?void 0:f.map(function(t){return l.default.createElement("div",{key:t.name,className:h.default.sideDashGroupItem},t.name,".",t.extension,t.isClient?l.default.createElement("span",{className:h.default.sideDashGroupItemRightTag},"client"):l.default.createElement("span",{className:h.default.sideDashGroupItemRightTag},"RSC"))}),(null==z?void 0:null===(p=z.data)||void 0===p?void 0:null===(g=p.nextFiles)||void 0===g?void 0:g.length)===0?l.default.createElement("p",{className:h.default.sideDashGroupItem+" "+h.default.sideDashGroupItemError},"None"):null),l.default.createElement("div",{className:h.default.sideDashGroup},l.default.createElement("p",{className:h.default.sideDashGroupHeader},"Other files:"),null==z?void 0:null===(b=z.data)||void 0===b?void 0:null===(E=b.otherFiles)||void 0===E?void 0:E.map(function(t){return l.default.createElement("div",{key:t.name,className:h.default.sideDashGroupItem},t.name,".",t.extension,t.isClient?l.default.createElement("span",{className:h.default.sideDashGroupItemRightTag},"client"):l.default.createElement("span",{className:h.default.sideDashGroupItemRightTag},"RSC"))}),(null==z?void 0:null===(x=z.data)||void 0===x?void 0:null===(w=x.otherFiles)||void 0===w?void 0:w.length)===0?l.default.createElement("p",{className:h.default.sideDashGroupItem},"None"):null),l.default.createElement("div",{className:h.default.sideDashFooter},l.default.createElement("p",null,"v1.1.3"),l.default.createElement("a",{href:"https://github.com/DiiiaZoTe/next-route-visualizer"},l.default.createElement("span",null,"Github"),l.default.createElement(c.GithubLogo,null)))),l.default.createElement(s.default,{nodes:C,onNodesChange:M,edges:O,onNodeClick:function(t,n){return console.log(n),A===n.id?R(void 0):R(n.id)},onEdgesChange:I,nodeTypes:y,defaultEdgeOptions:v,zoomOnDoubleClick:!1,fitView:!0,snapToGrid:!0,proOptions:{hideAttribution:!0},className:h.default.reactFlow},l.default.createElement(s.Background,{color:"#fafafa",variant:s.BackgroundVariant.Lines,gap:[d.NODE_WIDTH,d.NODE_HEIGHT],lineWidth:d.NODE_BORDER}),l.default.createElement(s.MiniMap,{nodeColor:function(t){var n;return(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.color)||"#ccc"},nodeStrokeWidth:3,zoomable:!0,pannable:!0,position:"bottom-right"}),l.default.createElement(s.Panel,{position:"top-left",className:h.default.flowPanel},l.default.createElement("button",{type:"button",onClick:function(){window.location.reload()},className:h.default.refreshButton},l.default.createElement("span",{className:h.default.refreshIcon},l.default.createElement(c.RefreshIcon,{color:"#000"}))))))}},81626:function(t,n,o){"use strict";var r=o(23963);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(o(81949)),a=function(t,n){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=d(void 0);if(o&&o.has(t))return o.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var l=i?Object.getOwnPropertyDescriptor(t,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=t[a]}return r.default=t,o&&o.set(t,r),r}(o(2265)),l=o(52810),s=o(10245),u=o(94758),c=r(o(23108));function d(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(d=function(t){return t?o:n})(t)}function h(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,r)}return o}function f(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?h(Object(o),!0).forEach(function(n){(0,i.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}a.default.createElement;var p={minWidth:"0px",minHeight:"0px",width:"".concat(s.HANDLE_SIZE,"px"),height:"".concat(s.HANDLE_SIZE,"px"),background:"transparent"},g={display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",flexGrow:1,width:"".concat(s.NODE_WIDTH,"px"),height:"".concat(s.NODE_HEIGHT,"px"),padding:"1rem",fontSize:"1.2rem",boxSizing:"border-box"},m={textAlign:"center",fontWeight:"bolder"},y={position:"absolute",top:"-".concat(25,"px"),left:"-".concat(25,"px"),width:"calc(100% + ".concat(50,"px)"),height:"calc(100% + ".concat(50,"px)"),border:"".concat(2*s.NODE_BORDER,"px solid #000"),borderRadius:"".concat(s.NODE_BORDER_RADIUS+5,"px")},v=(0,a.memo)(function(t){t.id;var n,o,r,i,d,h,v=t.data;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{style:g},a.default.createElement("p",{style:f({color:v.borderColor},m),className:c.default.truncateText},v.name),a.default.createElement("div",{className:c.default.nodeIconsContainer},null!==(n=v.nextFiles)&&void 0!==n&&n.find(function(t){return t.name.match("page")})?a.default.createElement(u.FilesPageIcon,{color:v.borderColor}):null,null!==(o=v.nextFiles)&&void 0!==o&&o.find(function(t){return t.name.match("error")||t.name.match("error")})?a.default.createElement(u.FilesErrorIcon,{color:v.borderColor}):null,null!==(r=v.nextFiles)&&void 0!==r&&r.find(function(t){return t.name.match("layout")||t.name.match("template")})?a.default.createElement(u.FilesLayoutIcon,{color:v.borderColor}):null,null!==(i=v.nextFiles)&&void 0!==i&&i.find(function(t){return t.name.match("route")})?a.default.createElement(u.FilesRouteIcon,{color:v.borderColor}):null,null!==(d=v.nextFiles)&&void 0!==d&&d.find(function(t){return t.name.match("loading")})?a.default.createElement(u.FilesLoadingIcon,{color:v.borderColor}):null)),a.default.createElement(l.Handle,{type:"target",position:l.Position.Top,style:f(f({},p),{},{top:"".concat(-s.HANDLE_SIZE,"px")}),id:"Normal"}),a.default.createElement(l.Handle,{type:"source",position:l.Position.Right,style:f(f({},p),{},{right:"".concat(-s.HANDLE_SIZE,"px")}),id:"Group"}),a.default.createElement(l.Handle,{type:"target",position:l.Position.Left,style:f(f({},p),{},{left:"".concat(-s.HANDLE_SIZE,"px")}),id:"Group"}),a.default.createElement(l.Handle,{type:"source",position:l.Position.Bottom,style:f(f({},p),{},{bottom:"".concat(-s.HANDLE_SIZE,"px")}),id:"Normal"}),a.default.createElement("div",{style:f(f({},y),{},{borderColor:v.borderColor}),className:c.default.nodeSelected,"data-selected":v.selected?"true":"false"}),null===(h=v.nextFiles)||void 0===h?void 0:h.map(function(t){return t.name.startsWith("page")?t.isClient?a.default.createElement("p",{className:c.default.nodeClientServerType,style:{background:v.borderColor}},"CLIENT"):a.default.createElement("p",{className:c.default.nodeClientServerType,style:{background:v.borderColor}},"SERVER"):null}))});n.default=v},94758:function(t,n,o){"use strict";var r=o(23963);Object.defineProperty(n,"__esModule",{value:!0}),n.RefreshIcon=n.GithubLogo=n.FilesRouteIcon=n.FilesPageIcon=n.FilesLoadingIcon=n.FilesLayoutIcon=n.FilesErrorIcon=n.ExternalLinkIcon=n.CloseIcon=void 0;var i=r(o(2265));i.default.createElement,n.ExternalLinkIcon=function(t){var n=t.color;return i.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:null!=n?n:"#000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i.default.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.default.createElement("polyline",{points:"15 3 21 3 21 9"}),i.default.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))},n.RefreshIcon=function(t){var n=t.color;return i.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:null!=n?n:"#000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i.default.createElement("path",{d:"M21.1679 8C19.6247 4.46819 16.1006 2 11.9999 2C6.81459 2 2.55104 5.94668 2.04932 11"}),i.default.createElement("path",{d:"M17 8H21.4C21.7314 8 22 7.73137 22 7.4V3"}),i.default.createElement("path",{d:"M2.88146 16C4.42458 19.5318 7.94874 22 12.0494 22C17.2347 22 21.4983 18.0533 22 13"}),i.default.createElement("path",{d:"M7.04932 16H2.64932C2.31795 16 2.04932 16.2686 2.04932 16.6V21"}))},n.FilesPageIcon=function(t){var n=t.color;return i.default.createElement("svg",{width:"24",height:"24",fill:null!=n?n:"#000",viewBox:"0 0 16 16"},i.default.createElement("path",{d:"M8.188 10H7V6.5h1.188a1.75 1.75 0 1 1 0 3.5z"}),i.default.createElement("path",{d:"M4 0h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm5.5 1.5v2a1 1 0 0 0 1 1h2l-3-3zM7 5.5a1 1 0 0 0-1 1V13a.5.5 0 0 0 1 0v-2h1.188a2.75 2.75 0 0 0 0-5.5H7z"}))},n.FilesErrorIcon=function(t){var n=t.color;return i.default.createElement("svg",{width:"24",height:"24",fill:null!=n?n:"#000",viewBox:"0 0 16 16"},i.default.createElement("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM5.884 6.68 8 9.219l2.116-2.54a.5.5 0 1 1 .768.641L8.651 10l2.233 2.68a.5.5 0 0 1-.768.64L8 10.781l-2.116 2.54a.5.5 0 0 1-.768-.641L7.349 10 5.116 7.32a.5.5 0 1 1 .768-.64z"}))},n.FilesLayoutIcon=function(t){var n=t.color;return i.default.createElement("svg",{width:"24",height:"24",fill:null!=n?n:"#000",viewBox:"0 0 16 16"},i.default.createElement("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM5.057 6h5.886L11 8h-.5c-.18-1.096-.356-1.192-1.694-1.235l-.298-.01v5.09c0 .47.1.582.903.655v.5H6.59v-.5c.799-.073.898-.184.898-.654V6.755l-.293.01C5.856 6.808 5.68 6.905 5.5 8H5l.057-2z"}))},n.FilesRouteIcon=function(t){var n=t.color;return i.default.createElement("svg",{width:"24",height:"24",fill:null!=n?n:"#000",viewBox:"0 0 16 16"},i.default.createElement("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm-3 2v.634l.549-.317a.5.5 0 1 1 .5.866L7 7l.549.317a.5.5 0 1 1-.5.866L6.5 7.866V8.5a.5.5 0 0 1-1 0v-.634l-.549.317a.5.5 0 1 1-.5-.866L5 7l-.549-.317a.5.5 0 0 1 .5-.866l.549.317V5.5a.5.5 0 1 1 1 0zm-2 4.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zm0 2h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1z"}))},n.FilesLoadingIcon=function(t){var n=t.color;return i.default.createElement("svg",{width:"24",height:"24",fill:null!=n?n:"#000",viewBox:"0 0 16 16"},i.default.createElement("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm-1 4v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 11.293V7.5a.5.5 0 0 1 1 0z"}))},n.CloseIcon=function(t){var n=t.color;return i.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",stroke:null!=n?n:"#000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))},n.GithubLogo=function(){return i.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 98 96"},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",fill:"#24292f"}))}},10245:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NODE_WIDTH=n.NODE_SPACING_Y=n.NODE_SPACING_X=n.NODE_SIZE=n.NODE_HEIGHT=n.NODE_BORDER_RADIUS=n.NODE_BORDER=n.NEXT_FILES=n.HANDLE_SIZE=n.FALLBACK_BASE_URL=n.ALLOWED_EXTENSIONS=void 0,n.ALLOWED_EXTENSIONS=[".tsx",".ts",".js",".jsx"],n.NEXT_FILES=["page.","layout.","template.","error.","not-found.","route.","loading."],n.FALLBACK_BASE_URL="http://localhost:3000",n.NODE_SIZE=160,n.NODE_SPACING_X=160,n.NODE_SPACING_Y=160,n.NODE_WIDTH=160,n.NODE_HEIGHT=160,n.NODE_BORDER=2,n.NODE_BORDER_RADIUS=10,n.HANDLE_SIZE=5},52810:function(t,n,o){!function(t,n,o){"use strict";function r(t){if("string"==typeof t||"number"==typeof t)return""+t;let n="";if(Array.isArray(t))for(let o,i=0;i<t.length;i++)""!==(o=r(t[i]))&&(n+=(n&&" ")+o);else for(let o in t)t[o]&&(n+=(n&&" ")+o);return n}var i,a,l,s,u={},c={},d={},h={get exports(){return d},set exports(e){d=e}},f={};({get exports(){return u},set exports(e){u=e}}).exports=function(){if(s)return c;s=1;var t=(l||(l=1,h.exports=function(){if(a)return f;a=1;var t="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},o=n.useState,r=n.useEffect,i=n.useLayoutEffect,l=n.useDebugValue;function s(n){var o=n.getSnapshot;n=n.value;try{var r=o();return!t(n,r)}catch(t){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,n){return n()}:function(t,n){var a=n(),u=o({inst:{value:a,getSnapshot:n}}),c=u[0].inst,d=u[1];return i(function(){c.value=a,c.getSnapshot=n,s(c)&&d({inst:c})},[t,a,n]),r(function(){return s(c)&&d({inst:c}),t(function(){s(c)&&d({inst:c})})},[t]),l(a),a};return f.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u,f}()),d),o="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},r=t.useSyncExternalStore,i=n.useRef,u=n.useEffect,p=n.useMemo,g=n.useDebugValue;return c.useSyncExternalStoreWithSelector=function(t,n,a,l,s){var c=i(null);if(null===c.current){var d={hasValue:!1,value:null};c.current=d}else d=c.current;var h=r(t,(c=p(function(){function t(t){if(!u){if(u=!0,r=t,t=l(t),void 0!==s&&d.hasValue){var n=d.value;if(s(n,t))return i=n}return i=t}if(n=i,o(r,t))return n;var a=l(t);return void 0!==s&&s(n,a)?n:(r=t,i=a)}var r,i,u=!1,c=void 0===a?null:a;return[function(){return t(n())},null===c?void 0:function(){return t(c())}]},[n,a,l,s]))[0],c[1]);return u(function(){d.hasValue=!0,d.value=h},[h]),g(h),h},c}();var p=(e8=u)&&e8.__esModule&&Object.prototype.hasOwnProperty.call(e8,"default")?e8.default:e8;let g=t=>{let n;let o=new Set,r=(t,r)=>{let i="function"==typeof t?t(n):t;if(!Object.is(i,n)){let t=n;n=(null!=r?r:"object"!=typeof i)?i:Object.assign({},n,i),o.forEach(o=>o(n,t))}},i=()=>n,a={setState:r,getState:i,subscribe:t=>(o.add(t),()=>o.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}};return n=t(r,i,a),a},{useSyncExternalStoreWithSelector:m}=p;function y(t,o=t.getState,r){let i=m(t.subscribe,t.getState,t.getServerState||t.getState,o,r);return n.useDebugValue(i),i}let v=(t,n)=>{let o=t?g(t):g,r=(t,r=n)=>y(o,t,r);return Object.assign(r,o),r};function b(t,n){if(Object.is(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(let[o,r]of t)if(!Object.is(r,n.get(o)))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(let o of t)if(!n.has(o))return!1;return!0}let o=Object.keys(t);if(o.length!==Object.keys(n).length)return!1;for(let r=0;r<o.length;r++)if(!Object.prototype.hasOwnProperty.call(n,o[r])||!Object.is(t[o[r]],n[o[r]]))return!1;return!0}var E={value:()=>{}};function x(){for(var t,n=0,o=arguments.length,r={};n<o;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw Error("illegal type: "+t);r[t]=[]}return new w(r)}function w(t){this._=t}function S(t,n,o){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=E,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=o&&t.push({name:n,value:o}),t}w.prototype=x.prototype={constructor:w,on:function(t,n){var o,r=this._,i=(t+"").trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");if(o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),t&&!r.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:n}}),a=-1,l=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw Error("invalid callback: "+n);for(;++a<l;)if(o=(t=i[a]).type)r[o]=S(r[o],t.name,n);else if(null==n)for(o in r)r[o]=S(r[o],t.name,null);return this}for(;++a<l;)if((o=(t=i[a]).type)&&(o=function(t,n){for(var o,r=0,i=t.length;r<i;++r)if((o=t[r]).name===n)return o.value}(r[o],t.name)))return o},copy:function(){var t={},n=this._;for(var o in n)t[o]=n[o].slice();return new w(t)},call:function(t,n){if((o=arguments.length-2)>0)for(var o,r,i=Array(o),a=0;a<o;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(a=0,o=(r=this._[t]).length;a<o;++a)r[a].value.apply(n,i)},apply:function(t,n,o){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,o)}};var _="http://www.w3.org/1999/xhtml",C={svg:"http://www.w3.org/2000/svg",xhtml:_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function N(t){var n=t+="",o=n.indexOf(":");return o>=0&&"xmlns"!==(n=t.slice(0,o))&&(t=t.slice(o+1)),C.hasOwnProperty(n)?{space:C[n],local:t}:t}function M(t){var n=N(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,o=this.namespaceURI;return o===_&&n.documentElement.namespaceURI===_?n.createElement(t):n.createElementNS(o,t)}})(n)}function k(){}function P(t){return null==t?k:function(){return this.querySelector(t)}}function O(){return[]}function I(t){return null==t?O:function(){return this.querySelectorAll(t)}}function D(t){return function(){return this.matches(t)}}function A(t){return function(n){return n.matches(t)}}var R=Array.prototype.find;function z(){return this.firstElementChild}var B=Array.prototype.filter;function T(){return Array.from(this.children)}function L(t){return Array(t.length)}function $(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function H(t,n,o,r,i,a){for(var l,s=0,u=n.length,c=a.length;s<c;++s)(l=n[s])?(l.__data__=a[s],r[s]=l):o[s]=new $(t,a[s]);for(;s<u;++s)(l=n[s])&&(i[s]=l)}function V(t,n,o,r,i,a,l){var s,u,c,d=new Map,h=n.length,f=a.length,p=Array(h);for(s=0;s<h;++s)(u=n[s])&&(p[s]=c=l.call(u,u.__data__,s,n)+"",d.has(c)?i[s]=u:d.set(c,u));for(s=0;s<f;++s)c=l.call(t,a[s],s,a)+"",(u=d.get(c))?(r[s]=u,u.__data__=a[s],d.delete(c)):o[s]=new $(t,a[s]);for(s=0;s<h;++s)(u=n[s])&&d.get(p[s])===u&&(i[s]=u)}function X(t){return t.__data__}function Y(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function F(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function j(t,n){return t.style.getPropertyValue(n)||F(t).getComputedStyle(t,null).getPropertyValue(n)}function W(t){return t.trim().split(/^|\s+/)}function G(t){return t.classList||new Z(t)}function Z(t){this._node=t,this._names=W(t.getAttribute("class")||"")}function K(t,n){for(var o=G(t),r=-1,i=n.length;++r<i;)o.add(n[r])}function U(t,n){for(var o=G(t),r=-1,i=n.length;++r<i;)o.remove(n[r])}function q(){this.textContent=""}function J(){this.innerHTML=""}function Q(){this.nextSibling&&this.parentNode.appendChild(this)}function ee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function et(){return null}function en(){var t=this.parentNode;t&&t.removeChild(this)}function eo(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function er(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ei(t){return function(){var n=this.__on;if(n){for(var o,r=0,i=-1,a=n.length;r<a;++r)o=n[r],t.type&&o.type!==t.type||o.name!==t.name?n[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?n.length=i:delete this.__on}}}function ea(t,n,o){return function(){var r,i=this.__on,a=function(t){n.call(this,t,this.__data__)};if(i){for(var l=0,s=i.length;l<s;++l)if((r=i[l]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=o),void(r.value=n)}this.addEventListener(t.type,a,o),r={type:t.type,name:t.name,value:n,listener:a,options:o},i?i.push(r):this.__on=[r]}}function el(t,n,o){var r=F(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,o):(i=r.document.createEvent("Event"),o?(i.initEvent(n,o.bubbles,o.cancelable),i.detail=o.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}$.prototype={constructor:$,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Z.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var es=[null];function eu(t,n){this._groups=t,this._parents=n}function ec(){return new eu([[document.documentElement]],es)}function ed(t){return"string"==typeof t?new eu([[document.querySelector(t)]],[document.documentElement]):new eu([[t]],es)}function eh(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var o=n.ownerSVGElement||n;if(o.createSVGPoint){var r=o.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}eu.prototype=ec.prototype={constructor:eu,select:function(t){"function"!=typeof t&&(t=P(t));for(var n=this._groups,o=n.length,r=Array(o),i=0;i<o;++i)for(var a,l,s=n[i],u=s.length,c=r[i]=Array(u),d=0;d<u;++d)(a=s[d])&&(l=t.call(a,a.__data__,d,s))&&("__data__"in a&&(l.__data__=a.__data__),c[d]=l);return new eu(r,this._parents)},selectAll:function(t){var n;t="function"==typeof t?(n=t,function(){var t;return t=n.apply(this,arguments),null==t?[]:Array.isArray(t)?t:Array.from(t)}):I(t);for(var o=this._groups,r=o.length,i=[],a=[],l=0;l<r;++l)for(var s,u=o[l],c=u.length,d=0;d<c;++d)(s=u[d])&&(i.push(t.call(s,s.__data__,d,u)),a.push(s));return new eu(i,a)},selectChild:function(t){var n;return this.select(null==t?z:(n="function"==typeof t?t:A(t),function(){return R.call(this.children,n)}))},selectChildren:function(t){var n;return this.selectAll(null==t?T:(n="function"==typeof t?t:A(t),function(){return B.call(this.children,n)}))},filter:function(t){"function"!=typeof t&&(t=D(t));for(var n=this._groups,o=n.length,r=Array(o),i=0;i<o;++i)for(var a,l=n[i],s=l.length,u=r[i]=[],c=0;c<s;++c)(a=l[c])&&t.call(a,a.__data__,c,l)&&u.push(a);return new eu(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,X);var o=n?V:H,r=this._parents,i=this._groups;"function"!=typeof t&&(v=t,t=function(){return v});for(var a=i.length,l=Array(a),s=Array(a),u=Array(a),c=0;c<a;++c){var d=r[c],h=i[c],f=h.length,p="object"==typeof(b=t.call(d,d&&d.__data__,c,r))&&"length"in b?b:Array.from(b),g=p.length,m=s[c]=Array(g),y=l[c]=Array(g);o(d,h,m,y,u[c]=Array(f),p,n);for(var v,b,E,x,w=0,S=0;w<g;++w)if(E=m[w]){for(w>=S&&(S=w+1);!(x=y[S])&&++S<g;);E._next=x||null}}return(l=new eu(l,r))._enter=s,l._exit=u,l},enter:function(){return new eu(this._enter||this._groups.map(L),this._parents)},exit:function(){return new eu(this._exit||this._groups.map(L),this._parents)},join:function(t,n,o){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==o?a.remove():o(a),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,o=this._groups,r=n._groups,i=o.length,a=r.length,l=Math.min(i,a),s=Array(i),u=0;u<l;++u)for(var c,d=o[u],h=r[u],f=d.length,p=s[u]=Array(f),g=0;g<f;++g)(c=d[g]||h[g])&&(p[g]=c);for(;u<i;++u)s[u]=o[u];return new eu(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,o=t.length;++n<o;)for(var r,i=t[n],a=i.length-1,l=i[a];--a>=0;)(r=i[a])&&(l&&4^r.compareDocumentPosition(l)&&l.parentNode.insertBefore(r,l),l=r);return this},sort:function(t){function n(n,o){return n&&o?t(n.__data__,o.__data__):!n-!o}t||(t=Y);for(var o=this._groups,r=o.length,i=Array(r),a=0;a<r;++a){for(var l,s=o[a],u=s.length,c=i[a]=Array(u),d=0;d<u;++d)(l=s[d])&&(c[d]=l);c.sort(n)}return new eu(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var l=r[i];if(l)return l}return null},size:function(){let t=0;for(let n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,o=0,r=n.length;o<r;++o)for(var i,a=n[o],l=0,s=a.length;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a);return this},attr:function(t,n){var o=N(t);if(arguments.length<2){var r=this.node();return o.local?r.getAttributeNS(o.space,o.local):r.getAttribute(o)}return this.each((null==n?o.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?o.local?function(t,n){return function(){var o=n.apply(this,arguments);null==o?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,o)}}:function(t,n){return function(){var o=n.apply(this,arguments);null==o?this.removeAttribute(t):this.setAttribute(t,o)}}:o.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(o,n))},style:function(t,n,o){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,o){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,o)}}:function(t,n,o){return function(){this.style.setProperty(t,n,o)}})(t,n,null==o?"":o)):j(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var o=n.apply(this,arguments);null==o?delete this[t]:this[t]=o}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var o=W(t+"");if(arguments.length<2){for(var r=G(this.node()),i=-1,a=o.length;++i<a;)if(!r.contains(o[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?K:U)(this,t)}}:n?function(t){return function(){K(this,t)}}:function(t){return function(){U(this,t)}})(o,n))},text:function(t){return arguments.length?this.each(null==t?q:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?J:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Q)},lower:function(){return this.each(ee)},append:function(t){var n="function"==typeof t?t:M(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var o="function"==typeof t?t:M(t),r=null==n?et:"function"==typeof n?n:P(n);return this.select(function(){return this.insertBefore(o.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(en)},clone:function(t){return this.select(t?er:eo)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,o){var r,i,a=(t+"").trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}}),l=a.length;if(!(arguments.length<2)){for(s=n?ea:ei,r=0;r<l;++r)this.each(s(a[r],n,o));return this}var s=this.node().__on;if(s){for(var u,c=0,d=s.length;c<d;++c)for(r=0,u=s[c];r<l;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value}},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return el(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return el(this,t,n)}})(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,i=t[n],a=0,l=i.length;a<l;++a)(r=i[a])&&(yield r)}};let ef={passive:!1},ep={capture:!0,passive:!1};function eg(t){t.stopImmediatePropagation()}function em(t){t.preventDefault(),t.stopImmediatePropagation()}function ey(t){var n=t.document.documentElement,o=ed(t).on("dragstart.drag",em,ep);"onselectstart"in n?o.on("selectstart.drag",em,ep):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function ev(t,n){var o=t.document.documentElement,r=ed(t).on("dragstart.drag",null);n&&(r.on("click.drag",em,ep),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in o?r.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}var eb=t=>()=>t;function eE(t,{sourceEvent:n,subject:o,target:r,identifier:i,active:a,x:l,y:s,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}function ex(t){return!t.ctrlKey&&!t.button}function ew(){return this.parentNode}function eS(t,n){return null==n?{x:t.x,y:t.y}:n}function e_(){return navigator.maxTouchPoints||"ontouchstart"in this}function eC(){var t,n,o,r,i=ex,a=ew,l=eS,s=e_,u={},c=x("start","drag","end"),d=0,h=0;function f(t){t.on("mousedown.drag",p).filter(s).on("touchstart.drag",y).on("touchmove.drag",v,ef).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(l,s){if(!r&&i.call(this,l,s)){var u=E(this,a.call(this,l,s),l,s,"mouse");u&&(ed(l.view).on("mousemove.drag",g,ep).on("mouseup.drag",m,ep),ey(l.view),eg(l),o=!1,t=l.clientX,n=l.clientY,u("start",l))}}function g(r){if(em(r),!o){var i=r.clientX-t,a=r.clientY-n;o=i*i+a*a>h}u.mouse("drag",r)}function m(t){ed(t.view).on("mousemove.drag mouseup.drag",null),ev(t.view,o),em(t),u.mouse("end",t)}function y(t,n){if(i.call(this,t,n)){var o,r,l=t.changedTouches,s=a.call(this,t,n),u=l.length;for(o=0;o<u;++o)(r=E(this,s,t,n,l[o].identifier,l[o]))&&(eg(t),r("start",t,l[o]))}}function v(t){var n,o,r=t.changedTouches,i=r.length;for(n=0;n<i;++n)(o=u[r[n].identifier])&&(em(t),o("drag",t,r[n]))}function b(t){var n,o,i=t.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),n=0;n<a;++n)(o=u[i[n].identifier])&&(eg(t),o("end",t,i[n]))}function E(t,n,o,r,i,a){var s,h,p,g=c.copy(),m=eh(a||o,n);if(null!=(p=l.call(t,new eE("beforestart",{sourceEvent:o,target:f,identifier:i,active:d,x:m[0],y:m[1],dx:0,dy:0,dispatch:g}),r)))return s=p.x-m[0]||0,h=p.y-m[1]||0,function o(a,l,c){var y,v=m;switch(a){case"start":u[i]=o,y=d++;break;case"end":delete u[i],--d;case"drag":m=eh(c||l,n),y=d}g.call(a,t,new eE(a,{sourceEvent:l,subject:p,target:f,identifier:i,active:y,x:m[0]+s,y:m[1]+h,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:g}),r)}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:eb(!!t),f):i},f.container=function(t){return arguments.length?(a="function"==typeof t?t:eb(t),f):a},f.subject=function(t){return arguments.length?(l="function"==typeof t?t:eb(t),f):l},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:eb(!!t),f):s},f.on=function(){var t=c.on.apply(c,arguments);return t===c?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}function eN(t,n,o){t.prototype=n.prototype=o,o.constructor=t}function eM(t,n){var o=Object.create(t.prototype);for(var r in n)o[r]=n[r];return o}function ek(){}eE.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var eP="\\s*([+-]?\\d+)\\s*",eO="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eI="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eD=/^#([0-9a-f]{3,8})$/,eA=RegExp(`^rgb\\(${eP},${eP},${eP}\\)$`),eR=RegExp(`^rgb\\(${eI},${eI},${eI}\\)$`),ez=RegExp(`^rgba\\(${eP},${eP},${eP},${eO}\\)$`),eB=RegExp(`^rgba\\(${eI},${eI},${eI},${eO}\\)$`),eT=RegExp(`^hsl\\(${eO},${eI},${eI}\\)$`),eL=RegExp(`^hsla\\(${eO},${eI},${eI},${eO}\\)$`),e$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function eH(){return this.rgb().formatHex()}function eV(){return this.rgb().formatRgb()}function eX(t){var n,o;return t=(t+"").trim().toLowerCase(),(n=eD.exec(t))?(o=n[1].length,n=parseInt(n[1],16),6===o?eY(n):3===o?new eW(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===o?eF(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===o?eF(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=eA.exec(t))?new eW(n[1],n[2],n[3],1):(n=eR.exec(t))?new eW(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=ez.exec(t))?eF(n[1],n[2],n[3],n[4]):(n=eB.exec(t))?eF(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=eT.exec(t))?eJ(n[1],n[2]/100,n[3]/100,1):(n=eL.exec(t))?eJ(n[1],n[2]/100,n[3]/100,n[4]):e$.hasOwnProperty(t)?eY(e$[t]):"transparent"===t?new eW(NaN,NaN,NaN,0):null}function eY(t){return new eW(t>>16&255,t>>8&255,255&t,1)}function eF(t,n,o,r){return r<=0&&(t=n=o=NaN),new eW(t,n,o,r)}function ej(t,n,o,r){var i;return 1==arguments.length?((i=t)instanceof ek||(i=eX(i)),i?new eW((i=i.rgb()).r,i.g,i.b,i.opacity):new eW):new eW(t,n,o,null==r?1:r)}function eW(t,n,o,r){this.r=+t,this.g=+n,this.b=+o,this.opacity=+r}function eG(){return`#${eq(this.r)}${eq(this.g)}${eq(this.b)}`}function eZ(){let t=eK(this.opacity);return`${1===t?"rgb(":"rgba("}${eU(this.r)}, ${eU(this.g)}, ${eU(this.b)}${1===t?")":`, ${t})`}`}function eK(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function eU(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function eq(t){return((t=eU(t))<16?"0":"")+t.toString(16)}function eJ(t,n,o,r){return r<=0?t=n=o=NaN:o<=0||o>=1?t=n=NaN:n<=0&&(t=NaN),new e0(t,n,o,r)}function eQ(t){if(t instanceof e0)return new e0(t.h,t.s,t.l,t.opacity);if(t instanceof ek||(t=eX(t)),!t)return new e0;if(t instanceof e0)return t;var n=(t=t.rgb()).r/255,o=t.g/255,r=t.b/255,i=Math.min(n,o,r),a=Math.max(n,o,r),l=NaN,s=a-i,u=(a+i)/2;return s?(l=n===a?(o-r)/s+6*(o<r):o===a?(r-n)/s+2:(n-o)/s+4,s/=u<.5?a+i:2-a-i,l*=60):s=u>0&&u<1?0:l,new e0(l,s,u,t.opacity)}function e0(t,n,o,r){this.h=+t,this.s=+n,this.l=+o,this.opacity=+r}function e1(t){return(t=(t||0)%360)<0?t+360:t}function e2(t){return Math.max(0,Math.min(1,t||0))}function e5(t,n,o){return 255*(t<60?n+(o-n)*t/60:t<180?o:t<240?n+(o-n)*(240-t)/60:n)}eN(ek,eX,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eH,formatHex:eH,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return eQ(this).formatHsl()},formatRgb:eV,toString:eV}),eN(eW,ej,eM(ek,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new eW(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new eW(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new eW(eU(this.r),eU(this.g),eU(this.b),eK(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eG,formatHex:eG,formatHex8:function(){return`#${eq(this.r)}${eq(this.g)}${eq(this.b)}${eq(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:eZ,toString:eZ})),eN(e0,function(t,n,o,r){return 1==arguments.length?eQ(t):new e0(t,n,o,null==r?1:r)},eM(ek,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new e0(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new e0(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,o=this.l,r=o+(o<.5?o:1-o)*n,i=2*o-r;return new eW(e5(t>=240?t-240:t+120,i,r),e5(t,i,r),e5(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new e0(e1(this.h),e2(this.s),e2(this.l),eK(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=eK(this.opacity);return`${1===t?"hsl(":"hsla("}${e1(this.h)}, ${100*e2(this.s)}%, ${100*e2(this.l)}%${1===t?")":`, ${t})`}`}}));var e3=t=>()=>t;function e4(t,n){var o=n-t;return o?function(n){return t+n*o}:e3(isNaN(t)?n:t)}var e6=function t(n){var o,r=1==(o=+(o=n))?e4:function(t,n){var r,i,a;return n-t?(r=t,i=n,r=Math.pow(r,a=o),i=Math.pow(i,a)-r,a=1/a,function(t){return Math.pow(r+t*i,a)}):e3(isNaN(t)?n:t)};function i(t,n){var o=r((t=ej(t)).r,(n=ej(n)).r),i=r(t.g,n.g),a=r(t.b,n.b),l=e4(t.opacity,n.opacity);return function(n){return t.r=o(n),t.g=i(n),t.b=a(n),t.opacity=l(n),t+""}}return i.gamma=t,i}(1);function e7(t,n){return t=+t,n=+n,function(o){return t*(1-o)+n*o}}var e8,e9,te=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tt=RegExp(te.source,"g"),tn=180/Math.PI,to={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tr(t,n,o,r,i,a){var l,s,u;return(l=Math.sqrt(t*t+n*n))&&(t/=l,n/=l),(u=t*o+n*r)&&(o-=t*u,r-=n*u),(s=Math.sqrt(o*o+r*r))&&(o/=s,r/=s,u/=s),t*r<n*o&&(t=-t,n=-n,u=-u,l=-l),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*tn,skewX:Math.atan(u)*tn,scaleX:l,scaleY:s}}function ti(t,n,o,r){function i(t){return t.length?t.pop()+" ":""}return function(a,l){var s,u,c,d,h=[],f=[];return a=t(a),l=t(l),function(t,r,i,a,l,s){if(t!==i||r!==a){var u=l.push("translate(",null,n,null,o);s.push({i:u-4,x:e7(t,i)},{i:u-2,x:e7(r,a)})}else(i||a)&&l.push("translate("+i+n+a+o)}(a.translateX,a.translateY,l.translateX,l.translateY,h,f),(s=a.rotate)!==(u=l.rotate)?(s-u>180?u+=360:u-s>180&&(s+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:e7(s,u)})):u&&h.push(i(h)+"rotate("+u+r),(c=a.skewX)!==(d=l.skewX)?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:e7(c,d)}):d&&h.push(i(h)+"skewX("+d+r),function(t,n,o,r,a,l){if(t!==o||n!==r){var s=a.push(i(a)+"scale(",null,",",null,")");l.push({i:s-4,x:e7(t,o)},{i:s-2,x:e7(n,r)})}else 1===o&&1===r||a.push(i(a)+"scale("+o+","+r+")")}(a.scaleX,a.scaleY,l.scaleX,l.scaleY,h,f),a=l=null,function(t){for(var n,o=-1,r=f.length;++o<r;)h[(n=f[o]).i]=n.x(t);return h.join("")}}}var ta=ti(function(t){let n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?to:tr(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),tl=ti(function(t){return null==t?to:(e9||(e9=document.createElementNS("http://www.w3.org/2000/svg","g")),e9.setAttribute("transform",t),(t=e9.transform.baseVal.consolidate())?tr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):to)},", ",")",")");function ts(t){return((t=Math.exp(t))+1/t)/2}var tu,tc,td=function t(n,o,r){function i(t,i){var a,l,s=t[0],u=t[1],c=t[2],d=i[0],h=i[1],f=i[2],p=d-s,g=h-u,m=p*p+g*g;if(m<1e-12)l=Math.log(f/c)/n,a=function(t){return[s+t*p,u+t*g,c*Math.exp(n*t*l)]};else{var y=Math.sqrt(m),v=(f*f-c*c+r*m)/(2*c*o*y),b=(f*f-c*c-r*m)/(2*f*o*y),E=Math.log(Math.sqrt(v*v+1)-v);l=(Math.log(Math.sqrt(b*b+1)-b)-E)/n,a=function(t){var r,i,a=t*l,d=ts(E),h=c/(o*y)*(((i=Math.exp(2*(i=n*a+E)))-1)/(i+1)*d-((r=Math.exp(r=E))-1/r)/2);return[s+h*p,u+h*g,c*d/ts(n*a+E)]}}return a.duration=1e3*l*n/Math.SQRT2,a}return i.rho=function(n){var o=Math.max(.001,+n),r=o*o;return t(o,r,r*r)},i}(Math.SQRT2,2,4),th=0,tf=0,tp=0,tg=0,tm=0,ty=0,tv="object"==typeof performance&&performance.now?performance:Date,tb="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tE(){return tm||(tb(tx),tm=tv.now()+ty)}function tx(){tm=0}function tw(){this._call=this._time=this._next=null}function tS(t,n,o){var r=new tw;return r.restart(t,n,o),r}function t_(){tm=(tg=tv.now())+ty,th=tf=0;try{!function(){tE(),++th;for(var t,n=tu;n;)(t=tm-n._time)>=0&&n._call.call(void 0,t),n=n._next;--th}()}finally{th=0,function(){for(var t,n,o=tu,r=1/0;o;)o._call?(r>o._time&&(r=o._time),t=o,o=o._next):(n=o._next,o._next=null,o=t?t._next=n:tu=n);tc=t,tN(r)}(),tm=0}}function tC(){var t=tv.now(),n=t-tg;n>1e3&&(ty-=n,tg=t)}function tN(t){th||(tf&&(tf=clearTimeout(tf)),t-tm>24?(t<1/0&&(tf=setTimeout(t_,t-tv.now()-ty)),tp&&(tp=clearInterval(tp))):(tp||(tg=tv.now(),tp=setInterval(tC,1e3)),th=1,tb(t_)))}function tM(t,n,o){var r=new tw;return n=null==n?0:+n,r.restart(o=>{r.stop(),t(o+n)},n,o),r}tw.prototype=tS.prototype={constructor:tw,restart:function(t,n,o){if("function"!=typeof t)throw TypeError("callback is not a function");o=(null==o?tE():+o)+(null==n?0:+n),this._next||tc===this||(tc?tc._next=this:tu=this,tc=this),this._call=t,this._time=o,tN()},stop:function(){this._call&&(this._call=null,this._time=1/0,tN())}};var tk=x("start","end","cancel","interrupt"),tP=[];function tO(t,n,o,r,i,a){var l=t.__transition;if(l){if(o in l)return}else t.__transition={};!function(t,n,o){var r,i=t.__transition;function a(u){var c,d,h,f;if(1!==o.state)return s();for(c in i)if((f=i[c]).name===o.name){if(3===f.state)return tM(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<n&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[c])}if(tM(function(){3===o.state&&(o.state=4,o.timer.restart(l,o.delay,o.time),l(u))}),o.state=2,o.on.call("start",t,t.__data__,o.index,o.group),2===o.state){for(o.state=3,r=Array(h=o.tween.length),c=0,d=-1;c<h;++c)(f=o.tween[c].value.call(t,t.__data__,o.index,o.group))&&(r[++d]=f);r.length=d+1}}function l(n){for(var i=n<o.duration?o.ease.call(null,n/o.duration):(o.timer.restart(s),o.state=5,1),a=-1,l=r.length;++a<l;)r[a].call(t,i);5===o.state&&(o.on.call("end",t,t.__data__,o.index,o.group),s())}function s(){for(var r in o.state=6,o.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=o,o.timer=tS(function(t){o.state=1,o.timer.restart(a,o.delay,o.time),o.delay<=t&&a(t-o.delay)},0,o.time)}(t,o,{name:n,index:r,group:i,on:tk,tween:tP,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function tI(t,n){var o=tA(t,n);if(o.state>0)throw Error("too late; already scheduled");return o}function tD(t,n){var o=tA(t,n);if(o.state>3)throw Error("too late; already running");return o}function tA(t,n){var o=t.__transition;if(!o||!(o=o[n]))throw Error("transition not found");return o}function tR(t,n){var o,r,i,a=t.__transition,l=!0;if(a){for(i in n=null==n?null:n+"",a)(o=a[i]).name===n?(r=o.state>2&&o.state<5,o.state=6,o.timer.stop(),o.on.call(r?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete a[i]):l=!1;l&&delete t.__transition}}function tz(t,n,o){var r=t._id;return t.each(function(){var t=tD(this,r);(t.value||(t.value={}))[n]=o.apply(this,arguments)}),function(t){return tA(t,r).value[n]}}function tB(t,n){var o;return("number"==typeof n?e7:n instanceof eX?e6:(o=eX(n))?(n=o,e6):function(t,n){var o,r,i,a,l,s=te.lastIndex=tt.lastIndex=0,u=-1,c=[],d=[];for(t+="",n+="";(i=te.exec(t))&&(a=tt.exec(n));)(l=a.index)>s&&(l=n.slice(s,l),c[u]?c[u]+=l:c[++u]=l),(i=i[0])===(a=a[0])?c[u]?c[u]+=a:c[++u]=a:(c[++u]=null,d.push({i:u,x:e7(i,a)})),s=tt.lastIndex;return s<n.length&&(l=n.slice(s),c[u]?c[u]+=l:c[++u]=l),c.length<2?d[0]?(o=d[0].x,function(t){return o(t)+""}):(r=n,function(){return r}):(n=d.length,function(t){for(var o,r=0;r<n;++r)c[(o=d[r]).i]=o.x(t);return c.join("")})})(t,n)}var tT=ec.prototype.constructor;function tL(t){return function(){this.style.removeProperty(t)}}var t$=0;function tH(t,n,o,r){this._groups=t,this._parents=n,this._name=o,this._id=r}var tV=ec.prototype;tH.prototype={constructor:tH,select:function(t){var n=this._name,o=this._id;"function"!=typeof t&&(t=P(t));for(var r=this._groups,i=r.length,a=Array(i),l=0;l<i;++l)for(var s,u,c=r[l],d=c.length,h=a[l]=Array(d),f=0;f<d;++f)(s=c[f])&&(u=t.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,tO(h[f],n,o,f,h,tA(s,o)));return new tH(a,this._parents,n,o)},selectAll:function(t){var n=this._name,o=this._id;"function"!=typeof t&&(t=I(t));for(var r=this._groups,i=r.length,a=[],l=[],s=0;s<i;++s)for(var u,c=r[s],d=c.length,h=0;h<d;++h)if(u=c[h]){for(var f,p=t.call(u,u.__data__,h,c),g=tA(u,o),m=0,y=p.length;m<y;++m)(f=p[m])&&tO(f,n,o,m,p,g);a.push(p),l.push(u)}return new tH(a,l,n,o)},selectChild:tV.selectChild,selectChildren:tV.selectChildren,filter:function(t){"function"!=typeof t&&(t=D(t));for(var n=this._groups,o=n.length,r=Array(o),i=0;i<o;++i)for(var a,l=n[i],s=l.length,u=r[i]=[],c=0;c<s;++c)(a=l[c])&&t.call(a,a.__data__,c,l)&&u.push(a);return new tH(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw Error();for(var n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),l=Array(r),s=0;s<a;++s)for(var u,c=n[s],d=o[s],h=c.length,f=l[s]=Array(h),p=0;p<h;++p)(u=c[p]||d[p])&&(f[p]=u);for(;s<r;++s)l[s]=n[s];return new tH(l,this._parents,this._name,this._id)},selection:function(){return new tT(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,o=++t$,r=this._groups,i=r.length,a=0;a<i;++a)for(var l,s=r[a],u=s.length,c=0;c<u;++c)if(l=s[c]){var d=tA(l,n);tO(l,t,o,c,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new tH(r,this._parents,t,o)},call:tV.call,nodes:tV.nodes,node:tV.node,size:tV.size,empty:tV.empty,each:tV.each,on:function(t,n){var o,r,i,a=this._id;return arguments.length<2?tA(this.node(),a).on.on(t):this.each((i=(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})?tI:tD,function(){var l=i(this,a),s=l.on;s!==o&&(r=(o=s).copy()).on(t,n),l.on=r}))},attr:function(t,n){var o=N(t),r="transform"===o?tl:tB;return this.attrTween(t,"function"==typeof n?(o.local?function(t,n,o){var r,i,a;return function(){var l,s,u=o(this);if(null!=u)return(l=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:l===r&&s===i?a:(i=s,a=n(r=l,u));this.removeAttributeNS(t.space,t.local)}}:function(t,n,o){var r,i,a;return function(){var l,s,u=o(this);if(null!=u)return(l=this.getAttribute(t))===(s=u+"")?null:l===r&&s===i?a:(i=s,a=n(r=l,u));this.removeAttribute(t)}})(o,r,tz(this,"attr."+t,n)):null==n?(o.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(o):(o.local?function(t,n,o){var r,i,a=o+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===a?null:l===r?i:i=n(r=l,o)}}:function(t,n,o){var r,i,a=o+"";return function(){var l=this.getAttribute(t);return l===a?null:l===r?i:i=n(r=l,o)}})(o,r,n))},attrTween:function(t,n){var o="attr."+t;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==n)return this.tween(o,null);if("function"!=typeof n)throw Error();var r=N(t);return this.tween(o,(r.local?function(t,n){var o,r;function i(){var i=n.apply(this,arguments);return i!==r&&(o=(r=i)&&function(n){this.setAttributeNS(t.space,t.local,i.call(this,n))}),o}return i._value=n,i}:function(t,n){var o,r;function i(){var i=n.apply(this,arguments);return i!==r&&(o=(r=i)&&function(n){this.setAttribute(t,i.call(this,n))}),o}return i._value=n,i})(r,n))},style:function(t,n,o){var r,i,a,l,s,u,c,d,h,f,p,g,m,y,v,b,E,x,w,S,_,C="transform"==(t+="")?ta:tB;return null==n?this.styleTween(t,(r=t,function(){var t=j(this,r),n=(this.style.removeProperty(r),j(this,r));return t===n?null:t===i&&n===a?l:l=C(i=t,a=n)})).on("end.style."+t,tL(t)):"function"==typeof n?this.styleTween(t,(s=t,u=tz(this,"style."+t,n),function(){var t=j(this,s),n=u(this),o=n+"";return null==n&&(this.style.removeProperty(s),o=n=j(this,s)),t===o?null:t===c&&o===d?h:(d=o,h=C(c=t,n))})).each((f=this._id,E="end."+(b="style."+(p=t)),function(){var t=tD(this,f),n=t.on,o=null==t.value[b]?v||(v=tL(p)):void 0;n===g&&y===o||(m=(g=n).copy()).on(E,y=o),t.on=m})):this.styleTween(t,(x=t,_=n+"",function(){var t=j(this,x);return t===_?null:t===w?S:S=C(w=t,n)}),o).on("end.style."+t,null)},styleTween:function(t,n,o){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw Error();return this.tween(r,function(t,n,o){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&function(n){this.style.setProperty(t,a.call(this,n),o)}),r}return a._value=n,a}(t,n,null==o?"":o))},text:function(t){var n,o;return this.tween("text","function"==typeof t?(n=tz(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(o=null==t?"":t+"",function(){this.textContent=o}))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();return this.tween(n,function(t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(t){this.textContent=r.call(this,t)}),n}return r._value=t,r}(t))},remove:function(){var t;return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var o in this.__transition)if(+o!==t)return;n&&n.removeChild(this)}))},tween:function(t,n){var o=this._id;if(t+="",arguments.length<2){for(var r,i=tA(this.node(),o).tween,a=0,l=i.length;a<l;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var o,r;return function(){var i=tD(this,t),a=i.tween;if(a!==o){for(var l=0,s=(r=o=a).length;l<s;++l)if(r[l].name===n){(r=r.slice()).splice(l,1);break}}i.tween=r}}:function(t,n,o){var r,i;if("function"!=typeof o)throw Error();return function(){var a=tD(this,t),l=a.tween;if(l!==r){i=(r=l).slice();for(var s={name:n,value:o},u=0,c=i.length;u<c;++u)if(i[u].name===n){i[u]=s;break}u===c&&i.push(s)}a.tween=i}})(o,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){tI(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){tI(this,t).delay=n}})(n,t)):tA(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){tD(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){tD(this,t).duration=n}})(n,t)):tA(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw Error();return function(){tD(this,t).ease=n}}(n,t)):tA(this.node(),n).ease},easeVarying:function(t){var n;if("function"!=typeof t)throw Error();return this.each((n=this._id,function(){var o=t.apply(this,arguments);if("function"!=typeof o)throw Error();tD(this,n).ease=o}))},end:function(){var t,n,o=this,r=o._id,i=o.size();return new Promise(function(a,l){var s={value:l},u={value:function(){0==--i&&a()}};o.each(function(){var o=tD(this,r),i=o.on;i!==t&&((n=(t=i).copy())._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),o.on=n}),0===i&&a()})},[Symbol.iterator]:tV[Symbol.iterator]};var tX={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};ec.prototype.interrupt=function(t){return this.each(function(){tR(this,t)})},ec.prototype.transition=function(t){var n,o;t instanceof tH?(n=t._id,t=t._name):(n=++t$,(o=tX).time=tE(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var l,s=r[a],u=s.length,c=0;c<u;++c)(l=s[c])&&tO(l,t,n,c,s,o||function(t,n){for(var o;!(o=t.__transition)||!(o=o[n]);)if(!(t=t.parentNode))throw Error(`transition ${n} not found`);return o}(l,n));return new tH(r,this._parents,t,n)};var tY=t=>()=>t;function tF(t,{sourceEvent:n,target:o,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function tj(t,n,o){this.k=t,this.x=n,this.y=o}tj.prototype={constructor:tj,scale:function(t){return 1===t?this:new tj(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new tj(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tW=new tj(1,0,0);function tG(t){t.stopImmediatePropagation()}function tZ(t){t.preventDefault(),t.stopImmediatePropagation()}function tK(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function tU(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function tq(){return this.__zoom||tW}function tJ(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function tQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function t0(t,n,o){var r=t.invertX(n[0][0])-o[0][0],i=t.invertX(n[1][0])-o[1][0],a=t.invertY(n[0][1])-o[0][1],l=t.invertY(n[1][1])-o[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l))}function t1(){var t,n,o,r=tK,i=tU,a=t0,l=tJ,s=tQ,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,h=td,f=x("start","zoom","end"),p=0,g=10;function m(t){t.property("__zoom",tq).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",N).filter(s).on("touchstart.zoom",M).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,n){return(n=Math.max(u[0],Math.min(u[1],n)))===t.k?t:new tj(n,t.x,t.y)}function v(t,n,o){var r=n[0]-o[0]*t.k,i=n[1]-o[1]*t.k;return r===t.x&&i===t.y?t:new tj(t.k,r,i)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function E(t,n,o,r){t.on("start.zoom",function(){w(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(r).end()}).tween("zoom",function(){var t=arguments,a=w(this,t).event(r),l=i.apply(this,t),s=null==o?b(l):"function"==typeof o?o.apply(this,t):o,u=Math.max(l[1][0]-l[0][0],l[1][1]-l[0][1]),c=this.__zoom,d="function"==typeof n?n.apply(this,t):n,f=h(c.invert(s).concat(u/c.k),d.invert(s).concat(u/d.k));return function(t){if(1===t)t=d;else{var n=f(t),o=u/n[2];t=new tj(o,s[0]-n[0]*o,s[1]-n[1]*o)}a.zoom(null,t)}})}function w(t,n,o){return!o&&t.__zooming||new S(t,n)}function S(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,n),this.taps=0}function _(t,...n){if(r.apply(this,arguments)){var o=w(this,n).event(t),i=this.__zoom,s=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,l.apply(this,arguments)))),d=eh(t);if(o.wheel)o.mouse[0][0]===d[0]&&o.mouse[0][1]===d[1]||(o.mouse[1]=i.invert(o.mouse[0]=d)),clearTimeout(o.wheel);else{if(i.k===s)return;o.mouse=[d,i.invert(d)],tR(this),o.start()}tZ(t),o.wheel=setTimeout(function(){o.wheel=null,o.end()},150),o.zoom("mouse",a(v(y(i,s),o.mouse[0],o.mouse[1]),o.extent,c))}}function C(t,...n){if(!o&&r.apply(this,arguments)){var i=t.currentTarget,l=w(this,n,!0).event(t),s=ed(t.view).on("mousemove.zoom",function(t){if(tZ(t),!l.moved){var n=t.clientX-d,o=t.clientY-h;l.moved=n*n+o*o>p}l.event(t).zoom("mouse",a(v(l.that.__zoom,l.mouse[0]=eh(t,i),l.mouse[1]),l.extent,c))},!0).on("mouseup.zoom",function(t){s.on("mousemove.zoom mouseup.zoom",null),ev(t.view,l.moved),tZ(t),l.event(t).end()},!0),u=eh(t,i),d=t.clientX,h=t.clientY;ey(t.view),tG(t),l.mouse=[u,this.__zoom.invert(u)],tR(this),l.start()}}function N(t,...n){if(r.apply(this,arguments)){var o=this.__zoom,l=eh(t.changedTouches?t.changedTouches[0]:t,this),s=o.invert(l),u=o.k*(t.shiftKey?.5:2),h=a(v(y(o,u),l,s),i.apply(this,n),c);tZ(t),d>0?ed(this).transition().duration(d).call(E,h,l,t):ed(this).call(m.transform,h,l,t)}}function M(o,...i){if(r.apply(this,arguments)){var a,l,s,u,c=o.touches,d=c.length,h=w(this,i,o.changedTouches.length===d).event(o);for(tG(o),l=0;l<d;++l)u=[u=eh(s=c[l],this),this.__zoom.invert(u),s.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,a=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),a&&(h.taps<2&&(n=u[0],t=setTimeout(function(){t=null},500)),tR(this),h.start())}}function k(t,...n){if(this.__zooming){var o,r,i,l,s=w(this,n).event(t),u=t.changedTouches,d=u.length;for(tZ(t),o=0;o<d;++o)i=eh(r=u[o],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var h=s.touch0[0],f=s.touch0[1],p=s.touch1[0],g=s.touch1[1],m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m,b=(b=g[0]-f[0])*b+(b=g[1]-f[1])*b;r=y(r,Math.sqrt(m/b)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],l=[(f[0]+g[0])/2,(f[1]+g[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],l=s.touch0[1]}s.zoom("touch",a(v(r,i,l),s.extent,c))}}function P(t,...r){if(this.__zooming){var i,a,l=w(this,r).event(t),s=t.changedTouches,u=s.length;for(tG(t),o&&clearTimeout(o),o=setTimeout(function(){o=null},500),i=0;i<u;++i)a=s[i],l.touch0&&l.touch0[2]===a.identifier?delete l.touch0:l.touch1&&l.touch1[2]===a.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(a=eh(a,this),Math.hypot(n[0]-a[0],n[1]-a[1])<g)){var c=ed(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return m.transform=function(t,n,o,r){var i=t.selection?t.selection():t;i.property("__zoom",tq),t!==i?E(t,n,o,r):i.interrupt().each(function(){w(this,arguments).event(r).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},m.scaleBy=function(t,n,o,r){m.scaleTo(t,function(){var t=this.__zoom.k,o="function"==typeof n?n.apply(this,arguments):n;return t*o},o,r)},m.scaleTo=function(t,n,o,r){m.transform(t,function(){var t=i.apply(this,arguments),r=this.__zoom,l=null==o?b(t):"function"==typeof o?o.apply(this,arguments):o,s=r.invert(l),u="function"==typeof n?n.apply(this,arguments):n;return a(v(y(r,u),l,s),t,c)},o,r)},m.translateBy=function(t,n,o,r){m.transform(t,function(){return a(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof o?o.apply(this,arguments):o),i.apply(this,arguments),c)},null,r)},m.translateTo=function(t,n,o,r,l){m.transform(t,function(){var t=i.apply(this,arguments),l=this.__zoom,s=null==r?b(t):"function"==typeof r?r.apply(this,arguments):r;return a(tW.translate(s[0],s[1]).scale(l.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof o?-o.apply(this,arguments):-o),t,c)},r,l)},S.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=ed(this.that).datum();f.call(t,this.that,new tF(t,{sourceEvent:this.sourceEvent,target:m,type:t,transform:this.that.__zoom,dispatch:f}),n)}},m.wheelDelta=function(t){return arguments.length?(l="function"==typeof t?t:tY(+t),m):l},m.filter=function(t){return arguments.length?(r="function"==typeof t?t:tY(!!t),m):r},m.touchable=function(t){return arguments.length?(s="function"==typeof t?t:tY(!!t),m):s},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:tY([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],m):[u[0],u[1]]},m.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(t){return arguments.length?(a=t,m):a},m.duration=function(t){return arguments.length?(d=+t,m):d},m.interpolate=function(t){return arguments.length?(h=t,m):h},m.on=function(){var t=f.on.apply(f,arguments);return t===f?m:t},m.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,m):Math.sqrt(p)},m.tapDistance=function(t){return arguments.length?(g=+t,m):g},m}tj.prototype;let t2=n.createContext(null),t5=t2.Provider,t3=t=>`Node type "${t}" not found. Using fallback type "default".`,t4=()=>"The React Flow parent container needs a width and a height to render the graph.",t6=()=>"Only child nodes can use a parent extent.",t7=t=>`Marker type "${t}" doesn't exist.`,t8=(t,n)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?n.targetHandle:n.sourceHandle}", edge id: ${n.id}.`,t9=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",ne=t=>`Edge type "${t}" not found. Using fallback type "default".`,nt=t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,nn="[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001";function no(t,o){let r=n.useContext(t2);if(null===r)throw Error(nn);return y(r,t,o)}let nr=()=>{let t=n.useContext(t2);if(null===t)throw Error(nn);return n.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},ni=t=>t.userSelectionActive?"none":"all";function na({position:t,children:o,className:i,style:a,...l}){let s=no(ni),u=`${t}`.split("-");return n.createElement("div",{className:r(["react-flow__panel",i,...u]),style:{...a,pointerEvents:s},...l},o)}function nl({proOptions:t,position:o="bottom-right"}){return t?.hideAttribution?null:n.createElement(na,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},n.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var ns=n.memo(({x:t,y:o,label:i,labelStyle:a={},labelShowBg:l=!0,labelBgStyle:s={},labelBgPadding:u=[2,4],labelBgBorderRadius:c=2,children:d,className:h,...f})=>{let p=n.useRef(null),[g,m]=n.useState({x:0,y:0,width:0,height:0}),y=r(["react-flow__edge-textwrapper",h]);return n.useEffect(()=>{if(p.current){let t=p.current.getBBox();m({x:t.x,y:t.y,width:t.width,height:t.height})}},[i]),void 0!==i&&i?n.createElement("g",{transform:`translate(${t-g.width/2} ${o-g.height/2})`,className:y,visibility:g.width?"visible":"hidden",...f},l&&n.createElement("rect",{width:g.width+2*u[0],x:-u[0],y:-u[1],height:g.height+2*u[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),n.createElement("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:p,style:a},i),d):null});let nu=t=>({width:t.offsetWidth,height:t.offsetHeight}),nc=(t,n=0,o=1)=>Math.min(Math.max(t,n),o),nd=(t={x:0,y:0},n)=>({x:nc(t.x,n[0][0],n[1][0]),y:nc(t.y,n[0][1],n[1][1])}),nh=(t,n,o)=>t<n?nc(Math.abs(t-n),1,50)/50:t>o?-nc(Math.abs(t-o),1,50)/50:0,nf=(t,n)=>[20*nh(t.x,35,n.width-35),20*nh(t.y,35,n.height-35)],np=t=>t.getRootNode?.()||window?.document,ng=(t,n)=>({x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x2,n.x2),y2:Math.max(t.y2,n.y2)}),nm=({x:t,y:n,width:o,height:r})=>({x:t,y:n,x2:t+o,y2:n+r}),ny=({x:t,y:n,x2:o,y2:r})=>({x:t,y:n,width:o-t,height:r-n}),nv=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),nb=(t,n)=>ny(ng(nm(t),nm(n))),nE=(t,n)=>Math.ceil(Math.max(0,Math.min(t.x+t.width,n.x+n.width)-Math.max(t.x,n.x))*Math.max(0,Math.min(t.y+t.height,n.y+n.height)-Math.max(t.y,n.y))),nx=t=>!isNaN(t)&&isFinite(t),nw=Symbol.for("internals"),nS=["Enter"," ","Escape"];function n_(t){let n=("nativeEvent"in t?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}let nC=t=>"clientX"in t,nN=(t,n)=>{let o=nC(t),r=o?t.clientX:t.touches?.[0].clientX,i=o?t.clientY:t.touches?.[0].clientY;return{x:r-(n?.left??0),y:i-(n?.top??0)}},nM=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0,nk=({id:t,path:o,labelX:r,labelY:i,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:g=20})=>n.createElement(n.Fragment,null,n.createElement("path",{id:t,style:h,d:o,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:p}),g&&n.createElement("path",{d:o,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),a&&nx(r)&&nx(i)?n.createElement(ns,{x:r,y:i,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d}):null);function nP(t,n,o){return void 0===o?o:r=>{let i=n().edges.find(n=>n.id===t);i&&o(r,{...i})}}function nO({sourceX:t,sourceY:n,targetX:o,targetY:r}){let i=Math.abs(o-t)/2,a=Math.abs(r-n)/2;return[o<t?o+i:o-i,r<n?r+a:r-a,i,a]}function nI({sourceX:t,sourceY:n,targetX:o,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:l,targetControlY:s}){let u=.125*t+.375*i+.375*l+.125*o,c=.125*n+.375*a+.375*s+.125*r;return[u,c,Math.abs(u-t),Math.abs(c-n)]}function nD({pos:n,x1:o,y1:r,x2:i,y2:a}){return n===t.Position.Left||n===t.Position.Right?[.5*(o+i),r]:[o,.5*(r+a)]}function nA({sourceX:n,sourceY:o,sourcePosition:r=t.Position.Bottom,targetX:i,targetY:a,targetPosition:l=t.Position.Top}){let[s,u]=nD({pos:r,x1:n,y1:o,x2:i,y2:a}),[c,d]=nD({pos:l,x1:i,y1:a,x2:n,y2:o}),[h,f,p,g]=nI({sourceX:n,sourceY:o,targetX:i,targetY:a,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${n},${o} C${s},${u} ${c},${d} ${i},${a}`,h,f,p,g]}nk.displayName="BaseEdge",t.ConnectionMode=void 0,(i_=t.ConnectionMode||(t.ConnectionMode={})).Strict="strict",i_.Loose="loose",t.PanOnScrollMode=void 0,(iC=t.PanOnScrollMode||(t.PanOnScrollMode={})).Free="free",iC.Vertical="vertical",iC.Horizontal="horizontal",t.SelectionMode=void 0,(iN=t.SelectionMode||(t.SelectionMode={})).Partial="partial",iN.Full="full",t.ConnectionLineType=void 0,(iM=t.ConnectionLineType||(t.ConnectionLineType={})).Bezier="default",iM.Straight="straight",iM.Step="step",iM.SmoothStep="smoothstep",iM.SimpleBezier="simplebezier",t.MarkerType=void 0,(ik=t.MarkerType||(t.MarkerType={})).Arrow="arrow",ik.ArrowClosed="arrowclosed",t.Position=void 0,(iP=t.Position||(t.Position={})).Left="left",iP.Top="top",iP.Right="right",iP.Bottom="bottom";let nR=n.memo(({sourceX:o,sourceY:r,targetX:i,targetY:a,sourcePosition:l=t.Position.Bottom,targetPosition:s=t.Position.Top,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:y,interactionWidth:v})=>{let[b,E,x]=nA({sourceX:o,sourceY:r,sourcePosition:l,targetX:i,targetY:a,targetPosition:s});return n.createElement(nk,{path:b,labelX:E,labelY:x,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:y,interactionWidth:v})});nR.displayName="SimpleBezierEdge";let nz={[t.Position.Left]:{x:-1,y:0},[t.Position.Right]:{x:1,y:0},[t.Position.Top]:{x:0,y:-1},[t.Position.Bottom]:{x:0,y:1}},nB=(t,n)=>Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));function nT({sourceX:n,sourceY:o,sourcePosition:r=t.Position.Bottom,targetX:i,targetY:a,targetPosition:l=t.Position.Top,borderRadius:s=5,centerX:u,centerY:c,offset:d=20}){let[h,f,p,g,m]=function({source:n,sourcePosition:o=t.Position.Bottom,target:r,targetPosition:i=t.Position.Top,center:a,offset:l}){let s=nz[o],u=nz[i],c={x:n.x+s.x*l,y:n.y+s.y*l},d={x:r.x+u.x*l,y:r.y+u.y*l},h=(({source:n,sourcePosition:o=t.Position.Bottom,target:r})=>o===t.Position.Left||o===t.Position.Right?n.x<r.x?{x:1,y:0}:{x:-1,y:0}:n.y<r.y?{x:0,y:1}:{x:0,y:-1})({source:c,sourcePosition:o,target:d}),f=0!==h.x?"x":"y",p=h[f],g,m,y=[],v={x:0,y:0},b={x:0,y:0},[E,x,w,S]=nO({sourceX:n.x,sourceY:n.y,targetX:r.x,targetY:r.y});if(s[f]*u[f]==-1){g=a.x??E,m=a.y??x;let t=[{x:g,y:c.y},{x:g,y:d.y}],n=[{x:c.x,y:m},{x:d.x,y:m}];y=s[f]===p?"x"===f?t:n:"x"===f?n:t}else{let t=[{x:c.x,y:d.y}],a=[{x:d.x,y:c.y}];if(y="x"===f?s.x===p?a:t:s.y===p?t:a,o===i){let t=Math.abs(n[f]-r[f]);if(t<=l){let o=Math.min(l-1,l-t);s[f]===p?v[f]=(c[f]>n[f]?-1:1)*o:b[f]=(d[f]>r[f]?-1:1)*o}}if(o!==i){let n="x"===f?"y":"x",o=s[f]===u[n],r=c[n]>d[n],i=c[n]<d[n];(1===s[f]&&(!o&&r||o&&i)||1!==s[f]&&(!o&&i||o&&r))&&(y="x"===f?t:a)}let h={x:c.x+v.x,y:c.y+v.y},E={x:d.x+b.x,y:d.y+b.y};Math.max(Math.abs(h.x-y[0].x),Math.abs(E.x-y[0].x))>=Math.max(Math.abs(h.y-y[0].y),Math.abs(E.y-y[0].y))?(g=(h.x+E.x)/2,m=y[0].y):(g=y[0].x,m=(h.y+E.y)/2)}return[[n,{x:c.x+v.x,y:c.y+v.y},...y,{x:d.x+b.x,y:d.y+b.y},r],g,m,w,S]}({source:{x:n,y:o},sourcePosition:r,target:{x:i,y:a},targetPosition:l,center:{x:u,y:c},offset:d});return[h.reduce((t,n,o)=>t+(o>0&&o<h.length-1?function(t,n,o,r){let i=Math.min(nB(t,n)/2,nB(n,o)/2,r),{x:a,y:l}=n;if(t.x===a&&a===o.x||t.y===l&&l===o.y)return`L${a} ${l}`;if(t.y===l)return`L ${a+i*(t.x<o.x?-1:1)},${l}Q ${a},${l} ${a},${l+i*(t.y<o.y?1:-1)}`;let s=t.x<o.x?1:-1;return`L ${a},${l+i*(t.y<o.y?-1:1)}Q ${a},${l} ${a+i*s},${l}`}(h[o-1],n,h[o+1],s):`${0===o?"M":"L"}${n.x} ${n.y}`),""),f,p,g,m]}let nL=n.memo(({sourceX:o,sourceY:r,targetX:i,targetY:a,label:l,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:f,sourcePosition:p=t.Position.Bottom,targetPosition:g=t.Position.Top,markerEnd:m,markerStart:y,pathOptions:v,interactionWidth:b})=>{let[E,x,w]=nT({sourceX:o,sourceY:r,sourcePosition:p,targetX:i,targetY:a,targetPosition:g,borderRadius:v?.borderRadius,offset:v?.offset});return n.createElement(nk,{path:E,labelX:x,labelY:w,label:l,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:y,interactionWidth:b})});nL.displayName="SmoothStepEdge";let n$=n.memo(t=>n.createElement(nL,{...t,pathOptions:n.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));function nH({sourceX:t,sourceY:n,targetX:o,targetY:r}){let[i,a,l,s]=nO({sourceX:t,sourceY:n,targetX:o,targetY:r});return[`M ${t},${n}L ${o},${r}`,i,a,l,s]}n$.displayName="StepEdge";let nV=n.memo(({sourceX:t,sourceY:o,targetX:r,targetY:i,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:g})=>{let[m,y,v]=nH({sourceX:t,sourceY:o,targetX:r,targetY:i});return n.createElement(nk,{path:m,labelX:y,labelY:v,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:g})});function nX(t,n){return t>=0?.5*t:25*n*Math.sqrt(-t)}function nY({pos:n,x1:o,y1:r,x2:i,y2:a,c:l}){switch(n){case t.Position.Left:return[o-nX(o-i,l),r];case t.Position.Right:return[o+nX(i-o,l),r];case t.Position.Top:return[o,r-nX(r-a,l)];case t.Position.Bottom:return[o,r+nX(a-r,l)]}}function nF({sourceX:n,sourceY:o,sourcePosition:r=t.Position.Bottom,targetX:i,targetY:a,targetPosition:l=t.Position.Top,curvature:s=.25}){let[u,c]=nY({pos:r,x1:n,y1:o,x2:i,y2:a,c:s}),[d,h]=nY({pos:l,x1:i,y1:a,x2:n,y2:o,c:s}),[f,p,g,m]=nI({sourceX:n,sourceY:o,targetX:i,targetY:a,sourceControlX:u,sourceControlY:c,targetControlX:d,targetControlY:h});return[`M${n},${o} C${u},${c} ${d},${h} ${i},${a}`,f,p,g,m]}nV.displayName="StraightEdge";let nj=n.memo(({sourceX:o,sourceY:r,targetX:i,targetY:a,sourcePosition:l=t.Position.Bottom,targetPosition:s=t.Position.Top,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:y,pathOptions:v,interactionWidth:b})=>{let[E,x,w]=nF({sourceX:o,sourceY:r,sourcePosition:l,targetX:i,targetY:a,targetPosition:s,curvature:v?.curvature});return n.createElement(nk,{path:E,labelX:x,labelY:w,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:y,interactionWidth:b})});nj.displayName="BezierEdge";let nW=n.createContext(null),nG=nW.Provider;nW.Consumer;let nZ=()=>n.useContext(nW),nK=t=>"id"in t&&"source"in t&&"target"in t,nU=t=>"id"in t&&!("source"in t)&&!("target"in t),nq=({source:t,sourceHandle:n,target:o,targetHandle:r})=>`reactflow__edge-${t}${n||""}-${o}${r||""}`,nJ=(t,n)=>void 0===t?"":"string"==typeof t?t:`${n?`${n}__`:""}${Object.keys(t).sort().map(n=>`${n}=${t[n]}`).join("&")}`,nQ=(t,n)=>{let o,r;return t.source&&t.target?(r=o=nK(t)?{...t}:{...t,id:nq(t)},n.some(t=>!(t.source!==r.source||t.target!==r.target||t.sourceHandle!==r.sourceHandle&&(t.sourceHandle||r.sourceHandle)||t.targetHandle!==r.targetHandle&&(t.targetHandle||r.targetHandle))))?n:n.concat(o):n},n0=(t,n,o,r={shouldReplaceId:!0})=>{let{id:i,...a}=t;if(!n.source||!n.target||!o.find(t=>t.id===i))return o;let l={...a,id:r.shouldReplaceId?nq(n):i,source:n.source,target:n.target,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle};return o.filter(t=>t.id!==i).concat(l)},n1=({x:t,y:n},[o,r,i],a,[l,s])=>{let u={x:(t-o)/i,y:(n-r)/i};return a?{x:l*Math.round(u.x/l),y:s*Math.round(u.y/s)}:u},n2=({x:t,y:n},[o,r,i])=>({x:t*i+o,y:n*i+r}),n5=(t,n=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};let o=(t.width??0)*n[0],r=(t.height??0)*n[1],i={x:t.position.x-o,y:t.position.y-r};return{...i,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-o,y:t.positionAbsolute.y-r}:i}},n3=(t,n=[0,0])=>0===t.length?{x:0,y:0,width:0,height:0}:ny(t.reduce((t,o)=>{let{x:r,y:i}=n5(o,n).positionAbsolute;return ng(t,nm({x:r,y:i,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),n4=(t,n,[o,r,i]=[0,0,1],a=!1,l=!1,s=[0,0])=>{let u={x:(n.x-o)/i,y:(n.y-r)/i,width:n.width/i,height:n.height/i},c=[];return t.forEach(t=>{let{width:n,height:o,selectable:r=!0,hidden:i=!1}=t;if(l&&!r||i)return!1;let{positionAbsolute:d}=n5(t,s),h=nE(u,{x:d.x,y:d.y,width:n||0,height:o||0});(void 0===n||void 0===o||null===n||null===o||a&&h>0||h>=(n||0)*(o||0)||t.dragging)&&c.push(t)}),c},n6=(t,n)=>{let o=t.map(t=>t.id);return n.filter(t=>o.includes(t.source)||o.includes(t.target))},n7=(t,n,o,r,i,a=.1)=>{let l=nc(Math.min(n/(t.width*(1+a)),o/(t.height*(1+a))),r,i);return{x:n/2-(t.x+t.width/2)*l,y:o/2-(t.y+t.height/2)*l,zoom:l}},n8=(t,n=0)=>t.transition().duration(n);function n9(t,n,o,r){return(n[o]||[]).reduce((n,i)=>(`${t.id}-${i.id}-${o}`!==r&&n.push({id:i.id||null,type:o,nodeId:t.id,x:(t.positionAbsolute?.x??0)+i.x+i.width/2,y:(t.positionAbsolute?.y??0)+i.y+i.height/2}),n),[])}let oe={source:null,target:null,sourceHandle:null,targetHandle:null},ot=()=>({handleDomNode:null,isValid:!1,connection:oe,endHandle:null});function on(n,o,r,i,a,l,s){let u="target"===a,c=s.querySelector(`.react-flow__handle[data-id="${n?.nodeId}-${n?.id}-${n?.type}"]`),d={...ot(),handleDomNode:c};if(c){let n=oo(void 0,c),a=c.getAttribute("data-nodeid"),s=c.getAttribute("data-handleid"),h=c.classList.contains("connectable"),f=c.classList.contains("connectableend"),p={source:u?a:r,sourceHandle:u?s:i,target:u?r:a,targetHandle:u?i:s};d.connection=p,h&&f&&(o===t.ConnectionMode.Strict?u&&"source"===n||!u&&"target"===n:a!==r||s!==i)&&(d.endHandle={nodeId:a,handleId:s,type:n},d.isValid=l(p))}return d}function oo(t,n){return t||(n?.classList.contains("target")?"target":n?.classList.contains("source")?"source":null)}function or(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function oi({event:t,handleId:n,nodeId:o,onConnect:r,isTarget:i,getState:a,setState:l,isValidConnection:s,edgeUpdaterType:u,onReconnectEnd:c}){let d=np(t.target),{connectionMode:h,domNode:f,autoPanOnConnect:p,connectionRadius:g,onConnectStart:m,panBy:y,getNodes:v,cancelConnection:b}=a(),E,x=0,{x:w,y:S}=nN(t),_=oo(u,d?.elementFromPoint(w,S)),C=f?.getBoundingClientRect();if(!C||!_)return;let N,M=nN(t,C),k=!1,P=null,O=!1,I=null,D=function({nodes:t,nodeId:n,handleId:o,handleType:r}){return t.reduce((t,i)=>{if(i[nw]){let{handleBounds:a}=i[nw],l=[],s=[];a&&(l=n9(i,a,"source",`${n}-${o}-${r}`),s=n9(i,a,"target",`${n}-${o}-${r}`)),t.push(...l,...s)}return t},[])}({nodes:v(),nodeId:o,handleId:n,handleType:_}),A=()=>{if(!p)return;let[t,n]=nf(M,C);y({x:t,y:n}),x=requestAnimationFrame(A)};function R(t){var r,u;let c;let{transform:f}=a();M=nN(t,C);let{handle:p,validHandleResult:m}=function(t,n,o,r,i,a){let{x:l,y:s}=nN(t),u=n.elementsFromPoint(l,s).find(t=>t.classList.contains("react-flow__handle"));if(u){let t=u.getAttribute("data-nodeid");if(t){let n=oo(void 0,u),r=u.getAttribute("data-handleid"),l=a({nodeId:t,id:r,type:n});if(l){let a=i.find(o=>o.nodeId===t&&o.type===n&&o.id===r);return{handle:{id:r,type:n,nodeId:t,x:a?.x||o.x,y:a?.y||o.y},validHandleResult:l}}}}let c=[],d=1/0;if(i.forEach(t=>{let n=Math.sqrt((t.x-o.x)**2+(t.y-o.y)**2);if(n<=r){let o=a(t);n<=d&&(n<d?c=[{handle:t,validHandleResult:o}]:n===d&&c.push({handle:t,validHandleResult:o}),d=n)}}),!c.length)return{handle:null,validHandleResult:ot()};if(1===c.length)return c[0];let h=c.some(({validHandleResult:t})=>t.isValid),f=c.some(({handle:t})=>"target"===t.type);return c.find(({handle:t,validHandleResult:n})=>f?"target"===t.type:!h||n.isValid)||c[0]}(t,d,n1(M,f,!1,[1,1]),g,D,t=>on(t,h,o,n,i?"target":"source",s,d));if(E=p,k||(A(),k=!0),I=m.handleDomNode,P=m.connection,O=m.isValid,l({connectionPosition:E&&O?n2({x:E.x,y:E.y},f):M,connectionStatus:(r=!!E,c=null,(u=O)?c="valid":r&&!u&&(c="invalid"),c),connectionEndHandle:m.endHandle}),!E&&!O&&!I)return or(N);P.source!==P.target&&I&&(or(N),N=I,I.classList.add("connecting","react-flow__handle-connecting"),I.classList.toggle("valid",O),I.classList.toggle("react-flow__handle-valid",O))}function z(t){(E||I)&&P&&O&&r?.(P),a().onConnectEnd?.(t),u&&c?.(t),or(N),b(),cancelAnimationFrame(x),k=!1,O=!1,P=null,I=null,d.removeEventListener("mousemove",R),d.removeEventListener("mouseup",z),d.removeEventListener("touchmove",R),d.removeEventListener("touchend",z)}l({connectionPosition:M,connectionStatus:null,connectionNodeId:o,connectionHandleId:n,connectionHandleType:_,connectionStartHandle:{nodeId:o,handleId:n,type:_},connectionEndHandle:null}),m?.(t,{nodeId:o,handleId:n,handleType:_}),d.addEventListener("mousemove",R),d.addEventListener("mouseup",z),d.addEventListener("touchmove",R),d.addEventListener("touchend",z)}let oa=()=>!0,ol=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),os=n.forwardRef(({type:o="source",position:i=t.Position.Top,isValidConnection:a,isConnectable:l=!0,isConnectableStart:s=!0,isConnectableEnd:u=!0,id:c,onConnect:d,children:h,className:f,onMouseDown:p,onTouchStart:g,...m},y)=>{let v=c||null,E="target"===o,x=nr(),w=nZ(),{connectOnClick:S,noPanClassName:_}=no(ol,b),{connecting:C,clickConnecting:N}=no(t=>{let{connectionStartHandle:n,connectionEndHandle:r,connectionClickStartHandle:i}=t;return{connecting:n?.nodeId===w&&n?.handleId===v&&n?.type===o||r?.nodeId===w&&r?.handleId===v&&r?.type===o,clickConnecting:i?.nodeId===w&&i?.handleId===v&&i?.type===o}},b);w||x.getState().onError?.("010",t9());let M=t=>{let{defaultEdgeOptions:n,onConnect:o,hasDefaultEdges:r}=x.getState(),i={...n,...t};if(r){let{edges:t,setEdges:n}=x.getState();n(nQ(i,t))}o?.(i),d?.(i)},k=t=>{if(!w)return;let n=nC(t);s&&(n&&0===t.button||!n)&&oi({event:t,handleId:v,nodeId:w,onConnect:M,isTarget:E,getState:x.getState,setState:x.setState,isValidConnection:a||x.getState().isValidConnection||oa}),n?p?.(t):g?.(t)};return n.createElement("div",{"data-handleid":v,"data-nodeid":w,"data-handlepos":i,"data-id":`${w}-${v}-${o}`,className:r(["react-flow__handle",`react-flow__handle-${i}`,"nodrag",_,f,{source:!E,target:E,connectable:l,connectablestart:s,connectableend:u,connecting:N,connectionindicator:l&&(s&&!C||u&&C)}]),onMouseDown:k,onTouchStart:k,onClick:S?t=>{let{onClickConnectStart:n,onClickConnectEnd:r,connectionClickStartHandle:i,connectionMode:l,isValidConnection:u}=x.getState();if(!w||!i&&!s)return;if(!i)return n?.(t,{nodeId:w,handleId:v,handleType:o}),void x.setState({connectionClickStartHandle:{nodeId:w,type:o,handleId:v}});let c=np(t.target),d=a||u||oa,{connection:h,isValid:f}=on({nodeId:w,id:v,type:o},l,i.nodeId,i.handleId||null,i.type,d,c);f&&M(h),r?.(t),x.setState({connectionClickStartHandle:null})}:void 0,ref:y,...m},h)});os.displayName="Handle";var ou=n.memo(os);let oc=({data:o,isConnectable:r,targetPosition:i=t.Position.Top,sourcePosition:a=t.Position.Bottom})=>n.createElement(n.Fragment,null,n.createElement(ou,{type:"target",position:i,isConnectable:r}),o?.label,n.createElement(ou,{type:"source",position:a,isConnectable:r}));oc.displayName="DefaultNode";var od=n.memo(oc);let oh=({data:o,isConnectable:r,sourcePosition:i=t.Position.Bottom})=>n.createElement(n.Fragment,null,o?.label,n.createElement(ou,{type:"source",position:i,isConnectable:r}));oh.displayName="InputNode";var of=n.memo(oh);let op=({data:o,isConnectable:r,targetPosition:i=t.Position.Top})=>n.createElement(n.Fragment,null,n.createElement(ou,{type:"target",position:i,isConnectable:r}),o?.label);op.displayName="OutputNode";var og=n.memo(op);let om=()=>null;om.displayName="GroupNode";let oy=t=>({selectedNodes:t.getNodes().filter(t=>t.selected),selectedEdges:t.edges.filter(t=>t.selected).map(t=>({...t}))}),ov=t=>t.id;function ob(t,n){return b(t.selectedNodes.map(ov),n.selectedNodes.map(ov))&&b(t.selectedEdges.map(ov),n.selectedEdges.map(ov))}let oE=n.memo(({onSelectionChange:t})=>{let o=nr(),{selectedNodes:r,selectedEdges:i}=no(oy,ob);return n.useEffect(()=>{let n={nodes:r,edges:i};t?.(n),o.getState().onSelectionChange.forEach(t=>t(n))},[r,i,t]),null});oE.displayName="SelectionListener";let ox=t=>!!t.onSelectionChange;function ow({onSelectionChange:t}){let o=no(ox);return t||o?n.createElement(oE,{onSelectionChange:t}):null}let oS=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function o_(t,o){n.useEffect(()=>{void 0!==t&&o(t)},[t])}function oC(t,o,r){n.useEffect(()=>{void 0!==o&&r({[t]:o})},[o])}let oN=({nodes:t,edges:o,defaultNodes:r,defaultEdges:i,onConnect:a,onConnectStart:l,onConnectEnd:s,onClickConnectStart:u,onClickConnectEnd:c,nodesDraggable:d,nodesConnectable:h,nodesFocusable:f,edgesFocusable:p,edgesUpdatable:g,elevateNodesOnSelect:m,minZoom:y,maxZoom:v,nodeExtent:E,onNodesChange:x,onEdgesChange:w,elementsSelectable:S,connectionMode:_,snapGrid:C,snapToGrid:N,translateExtent:M,connectOnClick:k,defaultEdgeOptions:P,fitView:O,fitViewOptions:I,onNodesDelete:D,onEdgesDelete:A,onNodeDrag:R,onNodeDragStart:z,onNodeDragStop:B,onSelectionDrag:T,onSelectionDragStart:L,onSelectionDragStop:$,noPanClassName:H,nodeOrigin:V,rfId:X,autoPanOnConnect:Y,autoPanOnNodeDrag:F,onError:j,connectionRadius:W,isValidConnection:G,nodeDragThreshold:Z})=>{let{setNodes:K,setEdges:U,setDefaultNodesAndEdges:q,setMinZoom:J,setMaxZoom:Q,setTranslateExtent:ee,setNodeExtent:et,reset:en}=no(oS,b),eo=nr();return n.useEffect(()=>(q(r,i?.map(t=>({...t,...P}))),()=>{en()}),[]),oC("defaultEdgeOptions",P,eo.setState),oC("connectionMode",_,eo.setState),oC("onConnect",a,eo.setState),oC("onConnectStart",l,eo.setState),oC("onConnectEnd",s,eo.setState),oC("onClickConnectStart",u,eo.setState),oC("onClickConnectEnd",c,eo.setState),oC("nodesDraggable",d,eo.setState),oC("nodesConnectable",h,eo.setState),oC("nodesFocusable",f,eo.setState),oC("edgesFocusable",p,eo.setState),oC("edgesUpdatable",g,eo.setState),oC("elementsSelectable",S,eo.setState),oC("elevateNodesOnSelect",m,eo.setState),oC("snapToGrid",N,eo.setState),oC("snapGrid",C,eo.setState),oC("onNodesChange",x,eo.setState),oC("onEdgesChange",w,eo.setState),oC("connectOnClick",k,eo.setState),oC("fitViewOnInit",O,eo.setState),oC("fitViewOnInitOptions",I,eo.setState),oC("onNodesDelete",D,eo.setState),oC("onEdgesDelete",A,eo.setState),oC("onNodeDrag",R,eo.setState),oC("onNodeDragStart",z,eo.setState),oC("onNodeDragStop",B,eo.setState),oC("onSelectionDrag",T,eo.setState),oC("onSelectionDragStart",L,eo.setState),oC("onSelectionDragStop",$,eo.setState),oC("noPanClassName",H,eo.setState),oC("nodeOrigin",V,eo.setState),oC("rfId",X,eo.setState),oC("autoPanOnConnect",Y,eo.setState),oC("autoPanOnNodeDrag",F,eo.setState),oC("onError",j,eo.setState),oC("connectionRadius",W,eo.setState),oC("isValidConnection",G,eo.setState),oC("nodeDragThreshold",Z,eo.setState),o_(t,K),o_(o,U),o_(y,J),o_(v,Q),o_(M,ee),o_(E,et),null},oM={display:"none"},ok={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},oP="react-flow__node-desc",oO="react-flow__edge-desc",oI=t=>t.ariaLiveMessage;function oD({rfId:t}){let o=no(oI);return n.createElement("div",{id:`react-flow__aria-live-${t}`,"aria-live":"assertive","aria-atomic":"true",style:ok},o)}function oA({rfId:t,disableKeyboardA11y:o}){return n.createElement(n.Fragment,null,n.createElement("div",{id:`${oP}-${t}`,style:oM},"Press enter or space to select a node.",!o&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),n.createElement("div",{id:`${oO}-${t}`,style:oM},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!o&&n.createElement(oD,{rfId:t}))}var oR=(t=null,o={actInsideInputWithModifier:!0})=>{let[r,i]=n.useState(!1),a=n.useRef(!1),l=n.useRef(new Set([])),[s,u]=n.useMemo(()=>{if(null!==t){let n=(Array.isArray(t)?t:[t]).filter(t=>"string"==typeof t).map(t=>t.split("+")),o=n.reduce((t,n)=>t.concat(...n),[]);return[n,o]}return[[],[]]},[t]);return n.useEffect(()=>{let n=o?.target||("undefined"!=typeof document?document:null);if(null!==t){let t=t=>{if(a.current=t.ctrlKey||t.metaKey||t.shiftKey,(!a.current||a.current&&!o.actInsideInputWithModifier)&&n_(t))return!1;let n=oB(t.code,u);l.current.add(t[n]),oz(s,l.current,!1)&&(t.preventDefault(),i(!0))},r=t=>{if((!a.current||a.current&&!o.actInsideInputWithModifier)&&n_(t))return!1;let n=oB(t.code,u);oz(s,l.current,!0)?(i(!1),l.current.clear()):l.current.delete(t[n]),"Meta"===t.key&&l.current.clear(),a.current=!1},c=()=>{l.current.clear(),i(!1)};return n?.addEventListener("keydown",t),n?.addEventListener("keyup",r),window.addEventListener("blur",c),()=>{n?.removeEventListener("keydown",t),n?.removeEventListener("keyup",r),window.removeEventListener("blur",c)}}},[t,i]),r};function oz(t,n,o){return t.filter(t=>o||t.length===n.size).some(t=>t.every(t=>n.has(t)))}function oB(t,n){return n.includes(t)?"code":"key"}function oT(t,n,o){t.forEach(r=>{let i=r.parentNode||r.parentId;if(i&&!t.has(i))throw Error(`Parent node ${i} not found`);if(i||o?.[r.id]){let{x:i,y:a,z:l}=function t(n,o,r,i){let a=n.parentNode||n.parentId;if(!a)return r;let l=o.get(a),s=n5(l,i);return t(l,o,{x:(r.x??0)+s.x,y:(r.y??0)+s.y,z:(l[nw]?.z??0)>(r.z??0)?l[nw]?.z??0:r.z??0},i)}(r,t,{...r.position,z:r[nw]?.z??0},n);r.positionAbsolute={x:i,y:a},r[nw].z=l,o?.[r.id]&&(r[nw].isParent=!0)}})}function oL(t,n,o,r){let i=new Map,a={},l=r?1e3:0;return t.forEach(t=>{let o=(nx(t.zIndex)?t.zIndex:0)+(t.selected?l:0),r=n.get(t.id),s={...t,positionAbsolute:{x:t.position.x,y:t.position.y}},u=t.parentNode||t.parentId;u&&(a[u]=!0),Object.defineProperty(s,nw,{enumerable:!1,value:{handleBounds:r?.type&&r?.type!==t.type?void 0:r?.[nw]?.handleBounds,z:o}}),i.set(t.id,s)}),oT(i,o,a),i}function o$(t,n={}){let{getNodes:o,width:r,height:i,minZoom:a,maxZoom:l,d3Zoom:s,d3Selection:u,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:h}=t(),f=n.initial&&!c&&d;if(s&&u&&(f||!n.initial)){let t=o().filter(t=>{let o=n.includeHiddenNodes?t.width&&t.height:!t.hidden;return n.nodes?.length?o&&n.nodes.some(n=>n.id===t.id):o}),c=t.every(t=>t.width&&t.height);if(t.length>0&&c){let{x:o,y:c,zoom:d}=n7(n3(t,h),r,i,n.minZoom??a,n.maxZoom??l,n.padding??.1),f=tW.translate(o,c).scale(d);return"number"==typeof n.duration&&n.duration>0?s.transform(n8(u,n.duration),f):s.transform(u,f),!0}}return!1}function oH({changedNodes:t,changedEdges:n,get:o,set:r}){let{nodeInternals:i,edges:a,onNodesChange:l,onEdgesChange:s,hasDefaultNodes:u,hasDefaultEdges:c}=o();t?.length&&(u&&r({nodeInternals:(t.forEach(t=>{let n=i.get(t.id);n&&i.set(n.id,{...n,[nw]:n[nw],selected:t.selected})}),new Map(i))}),l?.(t)),n?.length&&(c&&r({edges:a.map(t=>{let o=n.find(n=>n.id===t.id);return o&&(t.selected=o.selected),t})}),s?.(n))}let oV=()=>{},oX={zoomIn:oV,zoomOut:oV,zoomTo:oV,getZoom:()=>1,setViewport:oV,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:oV,fitBounds:oV,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},oY=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection});function oF(){let t=(()=>{let t=nr(),{d3Zoom:o,d3Selection:r}=no(oY,b);return n.useMemo(()=>r&&o?{zoomIn:t=>o.scaleBy(n8(r,t?.duration),1.2),zoomOut:t=>o.scaleBy(n8(r,t?.duration),1/1.2),zoomTo:(t,n)=>o.scaleTo(n8(r,n?.duration),t),getZoom:()=>t.getState().transform[2],setViewport:(n,i)=>{let[a,l,s]=t.getState().transform,u=tW.translate(n.x??a,n.y??l).scale(n.zoom??s);o.transform(n8(r,i?.duration),u)},getViewport:()=>{let[n,o,r]=t.getState().transform;return{x:n,y:o,zoom:r}},fitView:n=>o$(t.getState,n),setCenter:(n,i,a)=>{let{width:l,height:s,maxZoom:u}=t.getState(),c=void 0!==a?.zoom?a.zoom:u,d=l/2-n*c,h=s/2-i*c,f=tW.translate(d,h).scale(c);o.transform(n8(r,a?.duration),f)},fitBounds:(n,i)=>{let{width:a,height:l,minZoom:s,maxZoom:u}=t.getState(),{x:c,y:d,zoom:h}=n7(n,a,l,s,u,i?.padding??.1),f=tW.translate(c,d).scale(h);o.transform(n8(r,i?.duration),f)},project:n=>{let{transform:o,snapToGrid:r,snapGrid:i}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),n1(n,o,r,i)},screenToFlowPosition:n=>{let{transform:o,snapToGrid:r,snapGrid:i,domNode:a}=t.getState();if(!a)return n;let{x:l,y:s}=a.getBoundingClientRect();return n1({x:n.x-l,y:n.y-s},o,r,i)},flowToScreenPosition:n=>{let{transform:o,domNode:r}=t.getState();if(!r)return n;let{x:i,y:a}=r.getBoundingClientRect(),l=n2(n,o);return{x:l.x+i,y:l.y+a}},viewportInitialized:!0}:oX,[o,r])})(),o=nr(),r=n.useCallback(()=>o.getState().getNodes().map(t=>({...t})),[]),i=n.useCallback(t=>o.getState().nodeInternals.get(t),[]),a=n.useCallback(()=>{let{edges:t=[]}=o.getState();return t.map(t=>({...t}))},[]),l=n.useCallback(t=>{let{edges:n=[]}=o.getState();return n.find(n=>n.id===t)},[]),s=n.useCallback(t=>{let{getNodes:n,setNodes:r,hasDefaultNodes:i,onNodesChange:a}=o.getState(),l=n(),s="function"==typeof t?t(l):t;i?r(s):a&&a(0===s.length?l.map(t=>({type:"remove",id:t.id})):s.map(t=>({item:t,type:"reset"})))},[]),u=n.useCallback(t=>{let{edges:n=[],setEdges:r,hasDefaultEdges:i,onEdgesChange:a}=o.getState(),l="function"==typeof t?t(n):t;i?r(l):a&&a(0===l.length?n.map(t=>({type:"remove",id:t.id})):l.map(t=>({item:t,type:"reset"})))},[]),c=n.useCallback(t=>{let n=Array.isArray(t)?t:[t],{getNodes:r,setNodes:i,hasDefaultNodes:a,onNodesChange:l}=o.getState();a?i([...r(),...n]):l&&l(n.map(t=>({item:t,type:"add"})))},[]),d=n.useCallback(t=>{let n=Array.isArray(t)?t:[t],{edges:r=[],setEdges:i,hasDefaultEdges:a,onEdgesChange:l}=o.getState();a?i([...r,...n]):l&&l(n.map(t=>({item:t,type:"add"})))},[]),h=n.useCallback(()=>{let{getNodes:t,edges:n=[],transform:r}=o.getState(),[i,a,l]=r;return{nodes:t().map(t=>({...t})),edges:n.map(t=>({...t})),viewport:{x:i,y:a,zoom:l}}},[]),f=n.useCallback(({nodes:t,edges:n})=>{let{nodeInternals:r,getNodes:i,edges:a,hasDefaultNodes:l,hasDefaultEdges:s,onNodesDelete:u,onEdgesDelete:c,onNodesChange:d,onEdgesChange:h}=o.getState(),f=(t||[]).map(t=>t.id),p=(n||[]).map(t=>t.id),g=i().reduce((t,n)=>{let o=n.parentNode||n.parentId,r=!f.includes(n.id)&&o&&t.find(t=>t.id===o);return("boolean"!=typeof n.deletable||n.deletable)&&(f.includes(n.id)||r)&&t.push(n),t},[]),m=a.filter(t=>"boolean"!=typeof t.deletable||t.deletable),y=m.filter(t=>p.includes(t.id));if(g||y){let t=[...y,...n6(g,m)],n=t.reduce((t,n)=>(t.includes(n.id)||t.push(n.id),t),[]);(s||l)&&(s&&o.setState({edges:a.filter(t=>!n.includes(t.id))}),l&&(g.forEach(t=>{r.delete(t.id)}),o.setState({nodeInternals:new Map(r)}))),n.length>0&&(c?.(t),h&&h(n.map(t=>({id:t,type:"remove"})))),g.length>0&&(u?.(g),d)&&d(g.map(t=>({id:t.id,type:"remove"})))}},[]),p=n.useCallback(t=>{let n=nx(t.width)&&nx(t.height)&&nx(t.x)&&nx(t.y),r=n?null:o.getState().nodeInternals.get(t.id);return n||r?[n?t:nv(r),r,n]:[null,null,n]},[]),g=n.useCallback((t,n=!0,r)=>{let[i,a,l]=p(t);return i?(r||o.getState().getNodes()).filter(t=>{if(!(l||t.id!==a.id&&t.positionAbsolute))return!1;let o=nE(nv(t),i);return n&&o>0||o>=i.width*i.height}):[]},[]),m=n.useCallback((t,n,o=!0)=>{let[r]=p(t);if(!r)return!1;let i=nE(r,n);return o&&i>0||i>=r.width*r.height},[]);return n.useMemo(()=>({...t,getNodes:r,getNode:i,getEdges:a,getEdge:l,setNodes:s,setEdges:u,addNodes:c,addEdges:d,toObject:h,deleteElements:f,getIntersectingNodes:g,isNodeIntersecting:m}),[t,r,i,a,l,s,u,c,d,h,f,g,m])}let oj={actInsideInputWithModifier:!1},oW={position:"absolute",width:"100%",height:"100%",top:0,left:0},oG=t=>({x:t.x,y:t.y,zoom:t.k}),oZ=(t,n)=>t.target.closest(`.${n}`),oK=(t,n)=>2===n&&Array.isArray(t)&&t.includes(2),oU=t=>{let n=t.ctrlKey&&nM()?10:1;return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*n},oq=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),oJ=({onMove:o,onMoveStart:r,onMoveEnd:i,onPaneContextMenu:a,zoomOnScroll:l=!0,zoomOnPinch:s=!0,panOnScroll:u=!1,panOnScrollSpeed:c=.5,panOnScrollMode:d=t.PanOnScrollMode.Free,zoomOnDoubleClick:h=!0,elementsSelectable:f,panOnDrag:p=!0,defaultViewport:g,translateExtent:m,minZoom:y,maxZoom:v,zoomActivationKeyCode:E,preventScrolling:x=!0,children:w,noWheelClassName:S,noPanClassName:_})=>{let C=n.useRef(),N=nr(),M=n.useRef(!1),k=n.useRef(!1),P=n.useRef(null),O=n.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:D,d3ZoomHandler:A,userSelectionActive:R}=no(oq,b),z=oR(E),B=n.useRef(0),T=n.useRef(!1),L=n.useRef();return function(t){let o=nr();n.useEffect(()=>{let n;let r=()=>{if(!t.current)return;let n=nu(t.current);0!==n.height&&0!==n.width||o.getState().onError?.("004",t4()),o.setState({width:n.width||500,height:n.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r())).observe(t.current),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}(P),n.useEffect(()=>{if(P.current){let t=P.current.getBoundingClientRect(),n=t1().scaleExtent([y,v]).translateExtent(m),o=ed(P.current).call(n),r=tW.translate(g.x,g.y).scale(nc(g.zoom,y,v)),i=[[0,0],[t.width,t.height]],a=n.constrain()(r,i,m);n.transform(o,a),n.wheelDelta(oU),N.setState({d3Zoom:n,d3Selection:o,d3ZoomHandler:o.on("wheel.zoom"),transform:[a.x,a.y,a.k],domNode:P.current.closest(".react-flow")})}},[]),n.useEffect(()=>{D&&I&&(!u||z||R?void 0!==A&&D.on("wheel.zoom",function(t,n){if(!x&&"wheel"===t.type&&!t.ctrlKey||oZ(t,S))return null;t.preventDefault(),A.call(this,t,n)},{passive:!1}):D.on("wheel.zoom",n=>{if(oZ(n,S))return!1;n.preventDefault(),n.stopImmediatePropagation();let a=D.property("__zoom").k||1;if(n.ctrlKey&&s){let t=eh(n),o=oU(n);return void I.scaleTo(D,a*Math.pow(2,o),t,n)}let l=1===n.deltaMode?20:1,u=d===t.PanOnScrollMode.Vertical?0:n.deltaX*l,h=d===t.PanOnScrollMode.Horizontal?0:n.deltaY*l;!nM()&&n.shiftKey&&d!==t.PanOnScrollMode.Vertical&&(u=n.deltaY*l,h=0),I.translateBy(D,-u/a*c,-h/a*c,{internal:!0});let f=oG(D.property("__zoom")),{onViewportChangeStart:p,onViewportChange:g,onViewportChangeEnd:m}=N.getState();clearTimeout(L.current),T.current||(T.current=!0,r?.(n,f),p?.(f)),T.current&&(o?.(n,f),g?.(f),L.current=setTimeout(()=>{i?.(n,f),m?.(f),T.current=!1},150))},{passive:!1}))},[R,u,d,D,I,A,z,s,x,S,r,o,i]),n.useEffect(()=>{I&&I.on("start",t=>{if(!t.sourceEvent||t.sourceEvent.internal)return null;B.current=t.sourceEvent?.button;let{onViewportChangeStart:n}=N.getState(),o=oG(t.transform);M.current=!0,O.current=o,"mousedown"===t.sourceEvent?.type&&N.setState({paneDragging:!0}),n?.(o),r?.(t.sourceEvent,o)})},[I,r]),n.useEffect(()=>{I&&(R&&!M.current?I.on("zoom",null):R||I.on("zoom",t=>{let{onViewportChange:n}=N.getState();if(N.setState({transform:[t.transform.x,t.transform.y,t.transform.k]}),k.current=!(!a||!oK(p,B.current??0)),(o||n)&&!t.sourceEvent?.internal){let r=oG(t.transform);n?.(r),o?.(t.sourceEvent,r)}}))},[R,I,o,p,a]),n.useEffect(()=>{I&&I.on("end",t=>{var n,o;if(!t.sourceEvent||t.sourceEvent.internal)return null;let{onViewportChangeEnd:r}=N.getState();if(M.current=!1,N.setState({paneDragging:!1}),a&&oK(p,B.current??0)&&!k.current&&a(t.sourceEvent),k.current=!1,(i||r)&&(n=O.current,o=t.transform,n.x!==o.x||n.y!==o.y||n.zoom!==o.k)){let n=oG(t.transform);O.current=n,clearTimeout(C.current),C.current=setTimeout(()=>{r?.(n),i?.(t.sourceEvent,n)},u?150:0)}})},[I,u,p,i,a]),n.useEffect(()=>{I&&I.filter(t=>{let n=z||l,o=s&&t.ctrlKey;if((!0===p||Array.isArray(p)&&p.includes(1))&&1===t.button&&"mousedown"===t.type&&(oZ(t,"react-flow__node")||oZ(t,"react-flow__edge")))return!0;if(!(p||n||u||h||s)||R||!h&&"dblclick"===t.type||oZ(t,S)&&"wheel"===t.type||oZ(t,_)&&("wheel"!==t.type||u&&"wheel"===t.type&&!z)||!s&&t.ctrlKey&&"wheel"===t.type||!n&&!u&&!o&&"wheel"===t.type||!p&&("mousedown"===t.type||"touchstart"===t.type)||Array.isArray(p)&&!p.includes(t.button)&&"mousedown"===t.type)return!1;let r=Array.isArray(p)&&p.includes(t.button)||!t.button||t.button<=1;return(!t.ctrlKey||"wheel"===t.type)&&r})},[R,I,l,s,u,h,p,f,z]),n.createElement("div",{className:"react-flow__renderer",ref:P,style:oW},w)},oQ=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function o0(){let{userSelectionActive:t,userSelectionRect:o}=no(oQ,b);return t&&o?n.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:o.width,height:o.height,transform:`translate(${o.x}px, ${o.y}px)`}}):null}function o1(t,n){let o=n.parentNode||n.parentId,r=t.find(t=>t.id===o);if(r){let t=n.position.x+n.width-r.width,o=n.position.y+n.height-r.height;if(t>0||o>0||n.position.x<0||n.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,t>0&&(r.style.width+=t),o>0&&(r.style.height+=o),n.position.x<0){let t=Math.abs(n.position.x);r.position.x=r.position.x-t,r.style.width+=t,n.position.x=0}if(n.position.y<0){let t=Math.abs(n.position.y);r.position.y=r.position.y-t,r.style.height+=t,n.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function o2(t,n){if(t.some(t=>"reset"===t.type))return t.filter(t=>"reset"===t.type).map(t=>t.item);let o=t.filter(t=>"add"===t.type).map(t=>t.item);return n.reduce((n,o)=>{let r=t.filter(t=>t.id===o.id);if(0===r.length)return n.push(o),n;let i={...o};for(let t of r)if(t)switch(t.type){case"select":i.selected=t.selected;break;case"position":void 0!==t.position&&(i.position=t.position),void 0!==t.positionAbsolute&&(i.positionAbsolute=t.positionAbsolute),void 0!==t.dragging&&(i.dragging=t.dragging),i.expandParent&&o1(n,i);break;case"dimensions":void 0!==t.dimensions&&(i.width=t.dimensions.width,i.height=t.dimensions.height),void 0!==t.updateStyle&&(i.style={...i.style||{},...t.dimensions}),"boolean"==typeof t.resizing&&(i.resizing=t.resizing),i.expandParent&&o1(n,i);break;case"remove":return n}return n.push(i),n},o)}function o5(t,n){return o2(t,n)}function o3(t,n){return o2(t,n)}let o4=(t,n)=>({id:t,type:"select",selected:n});function o6(t,n){return t.reduce((t,o)=>{let r=n.includes(o.id);return!o.selected&&r?(o.selected=!0,t.push(o4(o.id,!0))):o.selected&&!r&&(o.selected=!1,t.push(o4(o.id,!1))),t},[])}let o7=(t,n)=>o=>{o.target===n.current&&t?.(o)},o8=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),o9=n.memo(({isSelecting:o,selectionMode:i=t.SelectionMode.Full,panOnDrag:a,onSelectionStart:l,onSelectionEnd:s,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:h,onPaneMouseMove:f,onPaneMouseLeave:p,children:g})=>{let m=n.useRef(null),y=nr(),v=n.useRef(0),E=n.useRef(0),x=n.useRef(),{userSelectionActive:w,elementsSelectable:S,dragging:_}=no(o8,b),C=()=>{y.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,E.current=0},N=t=>{u?.(t),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},M=S&&(o||w);return n.createElement("div",{className:r(["react-flow__pane",{dragging:_,selection:o}]),onClick:M?void 0:o7(N,m),onContextMenu:o7(t=>{Array.isArray(a)&&a?.includes(2)?t.preventDefault():c?.(t)},m),onWheel:o7(d?t=>d(t):void 0,m),onMouseEnter:M?void 0:h,onMouseDown:M?t=>{let{resetSelectedElements:n,domNode:r}=y.getState();if(x.current=r?.getBoundingClientRect(),!S||!o||0!==t.button||t.target!==m.current||!x.current)return;let{x:i,y:a}=nN(t,x.current);n(),y.setState({userSelectionRect:{width:0,height:0,startX:i,startY:a,x:i,y:a}}),l?.(t)}:void 0,onMouseMove:M?n=>{let{userSelectionRect:r,nodeInternals:a,edges:l,transform:s,onNodesChange:u,onEdgesChange:c,nodeOrigin:d,getNodes:h}=y.getState();if(!o||!x.current||!r)return;y.setState({userSelectionActive:!0,nodesSelectionActive:!1});let f=nN(n,x.current),p=r.startX??0,g=r.startY??0,m={...r,x:f.x<p?f.x:p,y:f.y<g?f.y:g,width:Math.abs(f.x-p),height:Math.abs(f.y-g)},b=h(),w=n4(a,m,s,i===t.SelectionMode.Partial,!0,d),S=n6(w,l).map(t=>t.id),_=w.map(t=>t.id);if(v.current!==_.length){v.current=_.length;let t=o6(b,_);t.length&&u?.(t)}if(E.current!==S.length){E.current=S.length;let t=o6(l,S);t.length&&c?.(t)}y.setState({userSelectionRect:m})}:f,onMouseUp:M?t=>{if(0!==t.button)return;let{userSelectionRect:n}=y.getState();!w&&n&&t.target===m.current&&N?.(t),y.setState({nodesSelectionActive:v.current>0}),C(),s?.(t)}:void 0,onMouseLeave:M?t=>{w&&(y.setState({nodesSelectionActive:v.current>0}),s?.(t)),C()}:p,ref:m,style:oW},g,n.createElement(o0,null))});function re(t,n,o){let r=t;do{if(r?.matches(n))return!0;if(r===o.current)break;r=r.parentElement}while(r);return!1}function rt(t,n,o,r,i=[0,0],a){var l;let s=(l=t.extent||r)&&"parent"!==l?[l[0],[l[1][0]-(t.width||0),l[1][1]-(t.height||0)]]:l,u=s,c=t.parentNode||t.parentId;if("parent"!==t.extent||t.expandParent){if(t.extent&&c&&"parent"!==t.extent){let{x:n,y:r}=n5(o.get(c),i).positionAbsolute;u=[[t.extent[0][0]+n,t.extent[0][1]+r],[t.extent[1][0]+n,t.extent[1][1]+r]]}}else if(c&&t.width&&t.height){let n=o.get(c),{x:r,y:a}=n5(n,i).positionAbsolute;u=n&&nx(r)&&nx(a)&&nx(n.width)&&nx(n.height)?[[r+t.width*i[0],a+t.height*i[1]],[r+n.width-t.width+t.width*i[0],a+n.height-t.height+t.height*i[1]]]:u}else a?.("005",t6()),u=s;let d={x:0,y:0};c&&(d=n5(o.get(c),i).positionAbsolute);let h=u&&"parent"!==u?nd(n,u):n;return{position:{x:h.x-d.x,y:h.y-d.y},positionAbsolute:h}}function rn({nodeId:t,dragItems:n,nodeInternals:o}){let r=n.map(t=>({...o.get(t.id),position:t.position,positionAbsolute:t.positionAbsolute}));return[t?r.find(n=>n.id===t):r[0],r]}o9.displayName="Pane";let ro=(t,n,o,r)=>{let i=n.querySelectorAll(t);if(!i||!i.length)return null;let a=Array.from(i),l=n.getBoundingClientRect(),s=l.width*r[0],u=l.height*r[1];return a.map(t=>{let n=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),position:t.getAttribute("data-handlepos"),x:(n.left-l.left-s)/o,y:(n.top-l.top-u)/o,...nu(t)}})};function rr(t,n,o){return void 0===o?o:r=>{let i=n().nodeInternals.get(t);i&&o(r,{...i})}}function ri({id:t,store:n,unselect:o=!1,nodeRef:r}){let{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:l,nodeInternals:s,onError:u}=n.getState(),c=s.get(t);c?(n.setState({nodesSelectionActive:!1}),c.selected?(o||c.selected&&l)&&(a({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])):u?.("012",nt(t))}function ra(){let t=nr();return n.useCallback(({sourceEvent:n})=>{let{transform:o,snapGrid:r,snapToGrid:i}=t.getState(),a=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,s={x:(a-o[0])/o[2],y:(l-o[1])/o[2]};return{xSnapped:i?r[0]*Math.round(s.x/r[0]):s.x,ySnapped:i?r[1]*Math.round(s.y/r[1]):s.y,...s}},[])}function rl(t){return(n,o,r)=>t?.(n,r)}function rs({nodeRef:t,disabled:o=!1,noDragClassName:r,handleSelector:i,nodeId:a,isSelectable:l,selectNodesOnDrag:s}){let u=nr(),[c,d]=n.useState(!1),h=n.useRef([]),f=n.useRef({x:null,y:null}),p=n.useRef(0),g=n.useRef(null),m=n.useRef({x:0,y:0}),y=n.useRef(null),v=n.useRef(!1),b=n.useRef(!1),E=n.useRef(!1),x=ra();return n.useEffect(()=>{if(t?.current){let n=ed(t.current),c=({x:t,y:n})=>{let{nodeInternals:o,onNodeDrag:r,onSelectionDrag:i,updateNodePositions:l,nodeExtent:s,snapGrid:c,snapToGrid:p,nodeOrigin:g,onError:m}=u.getState();f.current={x:t,y:n};let v=!1,b={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&s&&(b=nm(n3(h.current,g))),h.current=h.current.map(r=>{let i={x:t-r.distance.x,y:n-r.distance.y};p&&(i.x=c[0]*Math.round(i.x/c[0]),i.y=c[1]*Math.round(i.y/c[1]));let a=[[s[0][0],s[0][1]],[s[1][0],s[1][1]]];h.current.length>1&&s&&!r.extent&&(a[0][0]=r.positionAbsolute.x-b.x+s[0][0],a[1][0]=r.positionAbsolute.x+(r.width??0)-b.x2+s[1][0],a[0][1]=r.positionAbsolute.y-b.y+s[0][1],a[1][1]=r.positionAbsolute.y+(r.height??0)-b.y2+s[1][1]);let l=rt(r,i,o,a,g,m);return v=v||r.position.x!==l.position.x||r.position.y!==l.position.y,r.position=l.position,r.positionAbsolute=l.positionAbsolute,r}),!v)return;l(h.current,!0,!0),d(!0);let E=a?r:rl(i);if(E&&y.current){let[t,n]=rn({nodeId:a,dragItems:h.current,nodeInternals:o});E(y.current,t,n)}},w=()=>{if(!g.current)return;let[t,n]=nf(m.current,g.current);if(0!==t||0!==n){let{transform:o,panBy:r}=u.getState();f.current.x=(f.current.x??0)-t/o[2],f.current.y=(f.current.y??0)-n/o[2],r({x:t,y:n})&&c(f.current)}p.current=requestAnimationFrame(w)},S=n=>{let{nodeInternals:o,multiSelectionActive:r,nodesDraggable:i,unselectNodesAndEdges:c,onNodeDragStart:d,onSelectionDragStart:p}=u.getState();b.current=!0;let g=a?d:rl(p);s&&l||r||!a||o.get(a)?.selected||c(),a&&l&&s&&ri({id:a,store:u,nodeRef:t});let m=x(n);if(f.current=m,h.current=Array.from(o.values()).filter(t=>(t.selected||t.id===a)&&(!t.parentNode||t.parentId||!function t(n,o){let r=n.parentNode||n.parentId;if(!r)return!1;let i=o.get(r);return!!i&&(!!i.selected||t(i,o))}(t,o))&&(t.draggable||i&&void 0===t.draggable)).map(t=>({id:t.id,position:t.position||{x:0,y:0},positionAbsolute:t.positionAbsolute||{x:0,y:0},distance:{x:m.x-(t.positionAbsolute?.x??0),y:m.y-(t.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:t.extent,parentNode:t.parentNode||t.parentId,parentId:t.parentNode||t.parentId,width:t.width,height:t.height,expandParent:t.expandParent})),g&&h.current){let[t,r]=rn({nodeId:a,dragItems:h.current,nodeInternals:o});g(n.sourceEvent,t,r)}};if(!o){let o=eC().on("start",t=>{let{domNode:n,nodeDragThreshold:o}=u.getState();0===o&&S(t),E.current=!1;let r=x(t);f.current=r,g.current=n?.getBoundingClientRect()||null,m.current=nN(t.sourceEvent,g.current)}).on("drag",t=>{let n=x(t),{autoPanOnNodeDrag:o,nodeDragThreshold:r}=u.getState();if("touchmove"===t.sourceEvent.type&&t.sourceEvent.touches.length>1&&(E.current=!0),!E.current){if(!v.current&&b.current&&o&&(v.current=!0,w()),!b.current){let o=n.xSnapped-(f?.current?.x??0),i=n.ySnapped-(f?.current?.y??0);Math.sqrt(o*o+i*i)>r&&S(t)}(f.current.x!==n.xSnapped||f.current.y!==n.ySnapped)&&h.current&&b.current&&(y.current=t.sourceEvent,m.current=nN(t.sourceEvent,g.current),c(n))}}).on("end",t=>{if(b.current&&!E.current&&(d(!1),v.current=!1,b.current=!1,cancelAnimationFrame(p.current),h.current)){let{updateNodePositions:n,nodeInternals:o,onNodeDragStop:r,onSelectionDragStop:i}=u.getState(),l=a?r:rl(i);if(n(h.current,!1,!1),l){let[n,r]=rn({nodeId:a,dragItems:h.current,nodeInternals:o});l(t.sourceEvent,n,r)}}}).filter(n=>{let o=n.target;return!n.button&&(!r||!re(o,`.${r}`,t))&&(!i||re(o,i,t))});return n.call(o),()=>{n.on(".drag",null)}}n.on(".drag",null)}},[t,o,r,i,l,u,a,s,x]),c}function ru(){let t=nr();return n.useCallback(n=>{let{nodeInternals:o,nodeExtent:r,updateNodePositions:i,getNodes:a,snapToGrid:l,snapGrid:s,onError:u,nodesDraggable:c}=t.getState(),d=a().filter(t=>t.selected&&(t.draggable||c&&void 0===t.draggable)),h=l?s[0]:5,f=l?s[1]:5,p=n.isShiftPressed?4:1,g=n.x*h*p,m=n.y*f*p;i(d.map(t=>{if(t.positionAbsolute){let n={x:t.positionAbsolute.x+g,y:t.positionAbsolute.y+m};l&&(n.x=s[0]*Math.round(n.x/s[0]),n.y=s[1]*Math.round(n.y/s[1]));let{positionAbsolute:i,position:a}=rt(t,n,o,r,void 0,u);t.position=a,t.positionAbsolute=i}return t}),!0,!1)},[])}let rc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var rd=t=>{let o=({id:o,type:i,data:a,xPos:l,yPos:s,xPosOrigin:u,yPosOrigin:c,selected:d,onClick:h,onMouseEnter:f,onMouseMove:p,onMouseLeave:g,onContextMenu:m,onDoubleClick:y,style:v,className:b,isDraggable:E,isSelectable:x,isConnectable:w,isFocusable:S,selectNodesOnDrag:_,sourcePosition:C,targetPosition:N,hidden:M,resizeObserver:k,dragHandle:P,zIndex:O,isParent:I,noDragClassName:D,noPanClassName:A,initialized:R,disableKeyboardA11y:z,ariaLabel:B,rfId:T,hasHandleBounds:L})=>{let $=nr(),H=n.useRef(null),V=n.useRef(null),X=n.useRef(C),Y=n.useRef(N),F=n.useRef(i),j=x||E||h||f||p||g,W=ru(),G=rr(o,$.getState,f),Z=rr(o,$.getState,p),K=rr(o,$.getState,g),U=rr(o,$.getState,m),q=rr(o,$.getState,y);n.useEffect(()=>()=>{V.current&&(k?.unobserve(V.current),V.current=null)},[]),n.useEffect(()=>{if(H.current&&!M){let t=H.current;R&&L&&V.current===t||(V.current&&k?.unobserve(V.current),k?.observe(t),V.current=t)}},[M,R,L]),n.useEffect(()=>{let t=F.current!==i,n=X.current!==C,r=Y.current!==N;H.current&&(t||n||r)&&(t&&(F.current=i),n&&(X.current=C),r&&(Y.current=N),$.getState().updateNodeDimensions([{id:o,nodeElement:H.current,forceUpdate:!0}]))},[o,i,C,N]);let J=rs({nodeRef:H,disabled:M||!E,noDragClassName:D,handleSelector:P,nodeId:o,isSelectable:x,selectNodesOnDrag:_});return M?null:n.createElement("div",{className:r(["react-flow__node",`react-flow__node-${i}`,{[A]:E},b,{selected:d,selectable:x,parent:I,dragging:J}]),ref:H,style:{zIndex:O,transform:`translate(${u}px,${c}px)`,pointerEvents:j?"all":"none",visibility:R?"visible":"hidden",...v},"data-id":o,"data-testid":`rf__node-${o}`,onMouseEnter:G,onMouseMove:Z,onMouseLeave:K,onContextMenu:U,onClick:t=>{let{nodeDragThreshold:n}=$.getState();if(x&&(!_||!E||n>0)&&ri({id:o,store:$,nodeRef:H}),h){let n=$.getState().nodeInternals.get(o);n&&h(t,{...n})}},onDoubleClick:q,onKeyDown:S?t=>{!n_(t)&&!z&&(nS.includes(t.key)&&x?ri({id:o,store:$,unselect:"Escape"===t.key,nodeRef:H}):E&&d&&Object.prototype.hasOwnProperty.call(rc,t.key)&&($.setState({ariaLiveMessage:`Moved selected node ${t.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~l}, y: ${~~s}`}),W({x:rc[t.key].x,y:rc[t.key].y,isShiftPressed:t.shiftKey})))}:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":z?void 0:`${oP}-${T}`,"aria-label":B},n.createElement(nG,{value:o},n.createElement(t,{id:o,data:a,type:i,xPos:l,yPos:s,selected:d,isConnectable:w,sourcePosition:C,targetPosition:N,dragging:J,dragHandle:P,zIndex:O})))};return o.displayName="NodeWrapper",n.memo(o)};let rh=t=>({...n3(t.getNodes().filter(t=>t.selected),t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive});var rf=n.memo(function({onSelectionContextMenu:t,noPanClassName:o,disableKeyboardA11y:i}){let a=nr(),{width:l,height:s,x:u,y:c,transformString:d,userSelectionActive:h}=no(rh,b),f=ru(),p=n.useRef(null);return(n.useEffect(()=>{i||p.current?.focus({preventScroll:!0})},[i]),rs({nodeRef:p}),!h&&l&&s)?n.createElement("div",{className:r(["react-flow__nodesselection","react-flow__container",o]),style:{transform:d}},n.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:t?n=>{t(n,a.getState().getNodes().filter(t=>t.selected))}:void 0,tabIndex:i?void 0:-1,onKeyDown:i?void 0:t=>{Object.prototype.hasOwnProperty.call(rc,t.key)&&f({x:rc[t.key].x,y:rc[t.key].y,isShiftPressed:t.shiftKey})},style:{width:l,height:s,top:c,left:u}})):null});let rp=t=>t.nodesSelectionActive,rg=({children:t,onPaneClick:o,onPaneMouseEnter:r,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:s,deleteKeyCode:u,onMove:c,onMoveStart:d,onMoveEnd:h,selectionKeyCode:f,selectionOnDrag:p,selectionMode:g,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:v,panActivationKeyCode:b,zoomActivationKeyCode:E,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:_,panOnScrollSpeed:C,panOnScrollMode:N,zoomOnDoubleClick:M,panOnDrag:k,defaultViewport:P,translateExtent:O,minZoom:I,maxZoom:D,preventScrolling:A,onSelectionContextMenu:R,noWheelClassName:z,noPanClassName:B,disableKeyboardA11y:T})=>{let L=no(rp),$=oR(f),H=oR(b),V=H||k,X=H||_,Y=$||p&&!0!==V;return(({deleteKeyCode:t,multiSelectionKeyCode:o})=>{let r=nr(),{deleteElements:i}=oF(),a=oR(t,oj),l=oR(o);n.useEffect(()=>{if(a){let{edges:t,getNodes:n}=r.getState();i({nodes:n().filter(t=>t.selected),edges:t.filter(t=>t.selected)}),r.setState({nodesSelectionActive:!1})}},[a]),n.useEffect(()=>{r.setState({multiSelectionActive:l})},[l])})({deleteKeyCode:u,multiSelectionKeyCode:v}),n.createElement(oJ,{onMove:c,onMoveStart:d,onMoveEnd:h,onPaneContextMenu:l,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:X,panOnScrollSpeed:C,panOnScrollMode:N,zoomOnDoubleClick:M,panOnDrag:!$&&V,defaultViewport:P,translateExtent:O,minZoom:I,maxZoom:D,zoomActivationKeyCode:E,preventScrolling:A,noWheelClassName:z,noPanClassName:B},n.createElement(o9,{onSelectionStart:m,onSelectionEnd:y,onPaneClick:o,onPaneMouseEnter:r,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:s,panOnDrag:V,isSelecting:!!Y,selectionMode:g},t,L&&n.createElement(rf,{onSelectionContextMenu:R,noPanClassName:B,disableKeyboardA11y:T})))};rg.displayName="FlowRenderer";var rm=n.memo(rg);function ry(t){return{input:rd(t.input||of),default:rd(t.default||od),output:rd(t.output||og),group:rd(t.group||om),...Object.keys(t).filter(t=>!["input","default","output","group"].includes(t)).reduce((n,o)=>(n[o]=rd(t[o]||od),n),{})}}let rv=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),rb=o=>{var r;let{nodesDraggable:i,nodesConnectable:a,nodesFocusable:l,elementsSelectable:s,updateNodeDimensions:u,onError:c}=no(rv,b),d=(r=o.onlyRenderVisibleElements,no(n.useCallback(t=>r?n4(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):t.getNodes(),[r]))),h=n.useRef(),f=n.useMemo(()=>{if("undefined"==typeof ResizeObserver)return null;let t=new ResizeObserver(t=>{u(t.map(t=>({id:t.target.getAttribute("data-id"),nodeElement:t.target,forceUpdate:!0})))});return h.current=t,t},[]);return n.useEffect(()=>()=>{h?.current?.disconnect()},[]),n.createElement("div",{className:"react-flow__nodes",style:oW},d.map(r=>{let u=r.type||"default";o.nodeTypes[u]||(c?.("003",t3(u)),u="default");let d=o.nodeTypes[u]||o.nodeTypes.default,h=!!(r.draggable||i&&void 0===r.draggable),p=!!(r.selectable||s&&void 0===r.selectable),g=!!(r.connectable||a&&void 0===r.connectable),m=!!(r.focusable||l&&void 0===r.focusable),y=o.nodeExtent?nd(r.positionAbsolute,o.nodeExtent):r.positionAbsolute,v=y?.x??0,b=y?.y??0,E=(({x:t,y:n,width:o,height:r,origin:i})=>o&&r?i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:n}:{x:t-o*i[0],y:n-r*i[1]}:{x:t,y:n})({x:v,y:b,width:r.width??0,height:r.height??0,origin:o.nodeOrigin});return n.createElement(d,{key:r.id,id:r.id,className:r.className,style:r.style,type:u,data:r.data,sourcePosition:r.sourcePosition||t.Position.Bottom,targetPosition:r.targetPosition||t.Position.Top,hidden:r.hidden,xPos:v,yPos:b,xPosOrigin:E.x,yPosOrigin:E.y,selectNodesOnDrag:o.selectNodesOnDrag,onClick:o.onNodeClick,onMouseEnter:o.onNodeMouseEnter,onMouseMove:o.onNodeMouseMove,onMouseLeave:o.onNodeMouseLeave,onContextMenu:o.onNodeContextMenu,onDoubleClick:o.onNodeDoubleClick,selected:!!r.selected,isDraggable:h,isSelectable:p,isConnectable:g,isFocusable:m,resizeObserver:f,dragHandle:r.dragHandle,zIndex:r[nw]?.z??0,isParent:!!r[nw]?.isParent,noDragClassName:o.noDragClassName,noPanClassName:o.noPanClassName,initialized:!!r.width&&!!r.height,rfId:o.rfId,disableKeyboardA11y:o.disableKeyboardA11y,ariaLabel:r.ariaLabel,hasHandleBounds:!!r[nw]?.handleBounds})}))};rb.displayName="NodeRenderer";var rE=n.memo(rb);let rx=(n,o,r)=>r===t.Position.Left?n-o:r===t.Position.Right?n+o:n,rw=(n,o,r)=>r===t.Position.Top?n-o:r===t.Position.Bottom?n+o:n,rS="react-flow__edgeupdater",r_=({position:t,centerX:o,centerY:i,radius:a=10,onMouseDown:l,onMouseEnter:s,onMouseOut:u,type:c})=>n.createElement("circle",{onMouseDown:l,onMouseEnter:s,onMouseOut:u,className:r([rS,`${rS}-${c}`]),cx:rx(o,a,t),cy:rw(i,a,t),r:a,stroke:"transparent",fill:"transparent"}),rC=()=>!0;var rN=t=>{let o=({id:o,className:i,type:a,data:l,onClick:s,onEdgeDoubleClick:u,selected:c,animated:d,label:h,labelStyle:f,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:y,style:v,source:b,target:E,sourceX:x,sourceY:w,targetX:S,targetY:_,sourcePosition:C,targetPosition:N,elementsSelectable:M,hidden:k,sourceHandleId:P,targetHandleId:O,onContextMenu:I,onMouseEnter:D,onMouseMove:A,onMouseLeave:R,reconnectRadius:z,onReconnect:B,onReconnectStart:T,onReconnectEnd:L,markerEnd:$,markerStart:H,rfId:V,ariaLabel:X,isFocusable:Y,isReconnectable:F,pathOptions:j,interactionWidth:W,disableKeyboardA11y:G})=>{let Z=n.useRef(null),[K,U]=n.useState(!1),[q,J]=n.useState(!1),Q=nr(),ee=n.useMemo(()=>`url('#${nJ(H,V)}')`,[H,V]),et=n.useMemo(()=>`url('#${nJ($,V)}')`,[$,V]);if(k)return null;let en=nP(o,Q.getState,u),eo=nP(o,Q.getState,I),er=nP(o,Q.getState,D),ei=nP(o,Q.getState,A),ea=nP(o,Q.getState,R),el=(t,n)=>{if(0!==t.button)return;let{edges:r,isValidConnection:i}=Q.getState(),a=n?E:b,l=(n?O:P)||null,s=n?"target":"source",u=i||rC,c=r.find(t=>t.id===o);J(!0),T?.(t,c,s),oi({event:t,handleId:l,nodeId:a,onConnect:t=>B?.(c,t),isTarget:n,getState:Q.getState,setState:Q.setState,isValidConnection:u,edgeUpdaterType:s,onReconnectEnd:t=>{J(!1),L?.(t,c,s)}})},es=()=>U(!0),eu=()=>U(!1);return n.createElement("g",{className:r(["react-flow__edge",`react-flow__edge-${a}`,i,{selected:c,animated:d,inactive:!M&&!s,updating:K}]),onClick:t=>{let{edges:n,addSelectedEdges:r,unselectNodesAndEdges:i,multiSelectionActive:a}=Q.getState(),l=n.find(t=>t.id===o);l&&(M&&(Q.setState({nodesSelectionActive:!1}),l.selected&&a?(i({nodes:[],edges:[l]}),Z.current?.blur()):r([o])),s&&s(t,l))},onDoubleClick:en,onContextMenu:eo,onMouseEnter:er,onMouseMove:ei,onMouseLeave:ea,onKeyDown:Y?t=>{if(!G&&nS.includes(t.key)&&M){let{unselectNodesAndEdges:n,addSelectedEdges:r,edges:i}=Q.getState();"Escape"===t.key?(Z.current?.blur(),n({edges:[i.find(t=>t.id===o)]})):r([o])}}:void 0,tabIndex:Y?0:void 0,role:Y?"button":"img","data-testid":`rf__edge-${o}`,"aria-label":null===X?void 0:X||`Edge from ${b} to ${E}`,"aria-describedby":Y?`${oO}-${V}`:void 0,ref:Z},!q&&n.createElement(t,{id:o,source:b,target:E,selected:c,animated:d,label:h,labelStyle:f,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:y,data:l,style:v,sourceX:x,sourceY:w,targetX:S,targetY:_,sourcePosition:C,targetPosition:N,sourceHandleId:P,targetHandleId:O,markerStart:ee,markerEnd:et,pathOptions:j,interactionWidth:W}),F&&n.createElement(n.Fragment,null,("source"===F||!0===F)&&n.createElement(r_,{position:C,centerX:x,centerY:w,radius:z,onMouseDown:t=>el(t,!0),onMouseEnter:es,onMouseOut:eu,type:"source"}),("target"===F||!0===F)&&n.createElement(r_,{position:N,centerX:S,centerY:_,radius:z,onMouseDown:t=>el(t,!1),onMouseEnter:es,onMouseOut:eu,type:"target"})))};return o.displayName="EdgeWrapper",n.memo(o)};function rM(t){return{default:rN(t.default||nj),straight:rN(t.bezier||nV),step:rN(t.step||n$),smoothstep:rN(t.step||nL),simplebezier:rN(t.simplebezier||nR),...Object.keys(t).filter(t=>!["default","bezier"].includes(t)).reduce((n,o)=>(n[o]=rN(t[o]||nj),n),{})}}function rk(n,o,r=null){let i=(r?.x||0)+o.x,a=(r?.y||0)+o.y,l=r?.width||o.width,s=r?.height||o.height;switch(n){case t.Position.Top:return{x:i+l/2,y:a};case t.Position.Right:return{x:i+l,y:a+s/2};case t.Position.Bottom:return{x:i+l/2,y:a+s};case t.Position.Left:return{x:i,y:a+s/2}}}function rP(t,n){return t?1!==t.length&&n?n&&t.find(t=>t.id===n)||null:t[0]:null}function rO(t){let n=t?.[nw]?.handleBounds||null,o=n&&t?.width&&t?.height&&void 0!==t?.positionAbsolute?.x&&void 0!==t?.positionAbsolute?.y;return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},n,!!o]}let rI=[{level:0,isMaxLevel:!0,edges:[]}],rD={[t.MarkerType.Arrow]:({color:t="none",strokeWidth:o=1})=>n.createElement("polyline",{style:{stroke:t,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[t.MarkerType.ArrowClosed]:({color:t="none",strokeWidth:o=1})=>n.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},rA=({id:t,type:o,color:r,width:i=12.5,height:a=12.5,markerUnits:l="strokeWidth",strokeWidth:s,orient:u="auto-start-reverse"})=>{let c=function(t){let o=nr();return n.useMemo(()=>Object.prototype.hasOwnProperty.call(rD,t)?rD[t]:(o.getState().onError?.("009",t7(t)),null),[t])}(o);return c?n.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${i}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:l,orient:u,refX:"0",refY:"0"},n.createElement(c,{color:r,strokeWidth:s})):null},rR=({defaultColor:t,rfId:o})=>{let r=no(n.useCallback((({defaultColor:t,rfId:n})=>o=>{let r=[];return o.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(i=>{if(i&&"object"==typeof i){let a=nJ(i,n);r.includes(a)||(o.push({id:a,color:i.color||t,...i}),r.push(a))}}),o),[]).sort((t,n)=>t.id.localeCompare(n.id))})({defaultColor:t,rfId:o}),[t,o]),(t,n)=>!(t.length!==n.length||t.some((t,o)=>t.id!==n[o].id)));return n.createElement("defs",null,r.map(t=>n.createElement(rA,{id:t.id,key:t.id,type:t.type,color:t.color,width:t.width,height:t.height,markerUnits:t.markerUnits,strokeWidth:t.strokeWidth,orient:t.orient})))};rR.displayName="MarkerDefinitions";var rz=n.memo(rR);let rB=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),rT=({defaultMarkerColor:o,onlyRenderVisibleElements:i,elevateEdgesOnSelect:a,rfId:l,edgeTypes:s,noPanClassName:u,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:h,onEdgeMouseLeave:f,onEdgeClick:p,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:y,onReconnectEnd:v,reconnectRadius:E,children:x,disableKeyboardA11y:w})=>{let{edgesFocusable:S,edgesUpdatable:_,elementsSelectable:C,width:N,height:M,connectionMode:k,nodeInternals:P,onError:O}=no(rB,b),I=function(t,n,o=!1){let r=-1,i=Object.entries(t.reduce((t,i)=>{let a=nx(i.zIndex),l=a?i.zIndex:0;if(o){let t=n.get(i.target),o=n.get(i.source),r=i.selected||t?.selected||o?.selected,s=Math.max(o?.[nw]?.z||0,t?.[nw]?.z||0,1e3);l=(a?i.zIndex:0)+(r?s:0)}return t[l]?t[l].push(i):t[l]=[i],r=l>r?l:r,t},{})).map(([t,n])=>{let o=+t;return{edges:n,level:o,isMaxLevel:o===r}});return 0===i.length?rI:i}(no(n.useCallback(t=>i?t.edges.filter(n=>{let o=P.get(n.source),r=P.get(n.target);return o?.width&&o?.height&&r?.width&&r?.height&&function({sourcePos:t,targetPos:n,sourceWidth:o,sourceHeight:r,targetWidth:i,targetHeight:a,width:l,height:s,transform:u}){let c={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+o,n.x+i),y2:Math.max(t.y+r,n.y+a)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);let d=nm({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:l/u[2],height:s/u[2]});return Math.ceil(Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x))*Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y)))>0}({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:r.width,targetHeight:r.height,width:t.width,height:t.height,transform:t.transform})}):t.edges,[i,P])),P,a);return N?n.createElement(n.Fragment,null,I.map(({level:i,edges:a,isMaxLevel:b})=>n.createElement("svg",{key:i,style:{zIndex:i},width:N,height:M,className:"react-flow__edges react-flow__container"},b&&n.createElement(rz,{defaultColor:o,rfId:l}),n.createElement("g",null,a.map(o=>{let[i,a,b]=rO(P.get(o.source)),[x,N,M]=rO(P.get(o.target));if(!b||!M)return null;let I=o.type||"default";s[I]||(O?.("011",ne(I)),I="default");let D=s[I]||s.default,A=k===t.ConnectionMode.Strict?N.target:(N.target??[]).concat(N.source??[]),R=rP(a.source,o.sourceHandle),z=rP(A,o.targetHandle),B=R?.position||t.Position.Bottom,T=z?.position||t.Position.Top,L=!!(o.focusable||S&&void 0===o.focusable),$=o.reconnectable||o.updatable;if(!R||!z)return O?.("008",t8(R,o)),null;let{sourceX:H,sourceY:V,targetX:X,targetY:Y}=((t,n,o,r,i,a)=>{let l=rk(o,t,n),s=rk(a,r,i);return{sourceX:l.x,sourceY:l.y,targetX:s.x,targetY:s.y}})(i,R,B,x,z,T);return n.createElement(D,{key:o.id,id:o.id,className:r([o.className,u]),type:I,data:o.data,selected:!!o.selected,animated:!!o.animated,hidden:!!o.hidden,label:o.label,labelStyle:o.labelStyle,labelShowBg:o.labelShowBg,labelBgStyle:o.labelBgStyle,labelBgPadding:o.labelBgPadding,labelBgBorderRadius:o.labelBgBorderRadius,style:o.style,source:o.source,target:o.target,sourceHandleId:o.sourceHandle,targetHandleId:o.targetHandle,markerEnd:o.markerEnd,markerStart:o.markerStart,sourceX:H,sourceY:V,targetX:X,targetY:Y,sourcePosition:B,targetPosition:T,elementsSelectable:C,onContextMenu:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:f,onClick:p,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:y,onReconnectEnd:v,reconnectRadius:E,rfId:l,ariaLabel:o.ariaLabel,isFocusable:L,isReconnectable:void 0!==m&&($||_&&void 0===$),pathOptions:"pathOptions"in o?o.pathOptions:void 0,interactionWidth:o.interactionWidth,disableKeyboardA11y:w})})))),x):null};rT.displayName="EdgeRenderer";var rL=n.memo(rT);let r$=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function rH({children:t}){let o=no(r$);return n.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:o}},t)}let rV={[t.Position.Left]:t.Position.Right,[t.Position.Right]:t.Position.Left,[t.Position.Top]:t.Position.Bottom,[t.Position.Bottom]:t.Position.Top},rX=({nodeId:o,handleType:r,style:i,type:a=t.ConnectionLineType.Bezier,CustomComponent:l,connectionStatus:s})=>{let{fromNode:u,handleId:c,toX:d,toY:h,connectionMode:f}=no(n.useCallback(t=>({fromNode:t.nodeInternals.get(o),handleId:t.connectionHandleId,toX:(t.connectionPosition.x-t.transform[0])/t.transform[2],toY:(t.connectionPosition.y-t.transform[1])/t.transform[2],connectionMode:t.connectionMode}),[o]),b),p=u?.[nw]?.handleBounds,g=p?.[r];if(f===t.ConnectionMode.Loose&&(g=g||p?.["source"===r?"target":"source"]),!u||!g)return null;let m=c?g.find(t=>t.id===c):g[0],y=m?m.x+m.width/2:(u.width??0)/2,v=m?m.y+m.height/2:u.height??0,E=(u.positionAbsolute?.x??0)+y,x=(u.positionAbsolute?.y??0)+v,w=m?.position,S=w?rV[w]:null;if(!w||!S)return null;if(l)return n.createElement(l,{connectionLineType:a,connectionLineStyle:i,fromNode:u,fromHandle:m,fromX:E,fromY:x,toX:d,toY:h,fromPosition:w,toPosition:S,connectionStatus:s});let _="",C={sourceX:E,sourceY:x,sourcePosition:w,targetX:d,targetY:h,targetPosition:S};return a===t.ConnectionLineType.Bezier?[_]=nF(C):a===t.ConnectionLineType.Step?[_]=nT({...C,borderRadius:0}):a===t.ConnectionLineType.SmoothStep?[_]=nT(C):a===t.ConnectionLineType.SimpleBezier?[_]=nA(C):_=`M${E},${x} ${d},${h}`,n.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:i})};rX.displayName="ConnectionLine";let rY=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function rF({containerStyle:t,style:o,type:i,component:a}){let{nodeId:l,handleType:s,nodesConnectable:u,width:c,height:d,connectionStatus:h}=no(rY,b);return l&&s&&c&&u?n.createElement("svg",{style:t,width:c,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},n.createElement("g",{className:r(["react-flow__connection",h])},n.createElement(rX,{nodeId:l,handleType:s,style:o,type:i,CustomComponent:a,connectionStatus:h}))):null}function rj(t,o){return n.useRef(null),nr(),n.useMemo(()=>o(t),[t])}let rW=({nodeTypes:t,edgeTypes:o,onMove:r,onMoveStart:i,onMoveEnd:a,onInit:l,onNodeClick:s,onEdgeClick:u,onNodeDoubleClick:c,onEdgeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:m,onSelectionStart:y,onSelectionEnd:v,connectionLineType:b,connectionLineStyle:E,connectionLineComponent:x,connectionLineContainerStyle:w,selectionKeyCode:S,selectionOnDrag:_,selectionMode:C,multiSelectionKeyCode:N,panActivationKeyCode:M,zoomActivationKeyCode:k,deleteKeyCode:P,onlyRenderVisibleElements:O,elementsSelectable:I,selectNodesOnDrag:D,defaultViewport:A,translateExtent:R,minZoom:z,maxZoom:B,preventScrolling:T,defaultMarkerColor:L,zoomOnScroll:$,zoomOnPinch:H,panOnScroll:V,panOnScrollSpeed:X,panOnScrollMode:Y,zoomOnDoubleClick:F,panOnDrag:j,onPaneClick:W,onPaneMouseEnter:G,onPaneMouseMove:Z,onPaneMouseLeave:K,onPaneScroll:U,onPaneContextMenu:q,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:et,onReconnect:en,onReconnectStart:eo,onReconnectEnd:er,reconnectRadius:ei,noDragClassName:ea,noWheelClassName:el,noPanClassName:es,elevateEdgesOnSelect:eu,disableKeyboardA11y:ec,nodeOrigin:ed,nodeExtent:eh,rfId:ef})=>{let ep=rj(t,ry),eg=rj(o,rM);return function(t){let o=oF(),r=n.useRef(!1);n.useEffect(()=>{!r.current&&o.viewportInitialized&&t&&(setTimeout(()=>t(o),1),r.current=!0)},[t,o.viewportInitialized])}(l),n.createElement(rm,{onPaneClick:W,onPaneMouseEnter:G,onPaneMouseMove:Z,onPaneMouseLeave:K,onPaneContextMenu:q,onPaneScroll:U,deleteKeyCode:P,selectionKeyCode:S,selectionOnDrag:_,selectionMode:C,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:N,panActivationKeyCode:M,zoomActivationKeyCode:k,elementsSelectable:I,onMove:r,onMoveStart:i,onMoveEnd:a,zoomOnScroll:$,zoomOnPinch:H,zoomOnDoubleClick:F,panOnScroll:V,panOnScrollSpeed:X,panOnScrollMode:Y,panOnDrag:j,defaultViewport:A,translateExtent:R,minZoom:z,maxZoom:B,onSelectionContextMenu:m,preventScrolling:T,noDragClassName:ea,noWheelClassName:el,noPanClassName:es,disableKeyboardA11y:ec},n.createElement(rH,null,n.createElement(rL,{edgeTypes:eg,onEdgeClick:u,onEdgeDoubleClick:d,onlyRenderVisibleElements:O,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:et,onReconnect:en,onReconnectStart:eo,onReconnectEnd:er,reconnectRadius:ei,defaultMarkerColor:L,noPanClassName:es,elevateEdgesOnSelect:!!eu,disableKeyboardA11y:ec,rfId:ef},n.createElement(rF,{style:E,type:b,component:x,containerStyle:w})),n.createElement("div",{className:"react-flow__edgelabel-renderer"}),n.createElement(rE,{nodeTypes:ep,onNodeClick:s,onNodeDoubleClick:c,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:g,selectNodesOnDrag:D,onlyRenderVisibleElements:O,noPanClassName:es,noDragClassName:ea,disableKeyboardA11y:ec,nodeOrigin:ed,nodeExtent:eh,rfId:ef})))};rW.displayName="GraphView";var rG=n.memo(rW);let rZ=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],rK={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:rZ,nodeExtent:rZ,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:t.ConnectionMode.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:(t,n)=>{},isValidConnection:void 0},rU=()=>{var t,n;return t=(t,n)=>({...rK,setNodes:o=>{let{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:a}=n();t({nodeInternals:oL(o,r,i,a)})},getNodes:()=>Array.from(n().nodeInternals.values()),setEdges:o=>{let{defaultEdgeOptions:r={}}=n();t({edges:o.map(t=>({...r,...t}))})},setDefaultNodesAndEdges:(o,r)=>{let i=void 0!==o,a=void 0!==r;t({nodeInternals:i?oL(o,new Map,n().nodeOrigin,n().elevateNodesOnSelect):new Map,edges:a?r:[],hasDefaultNodes:i,hasDefaultEdges:a})},updateNodeDimensions:o=>{let{onNodesChange:r,nodeInternals:i,fitViewOnInit:a,fitViewOnInitDone:l,fitViewOnInitOptions:s,domNode:u,nodeOrigin:c}=n(),d=u?.querySelector(".react-flow__viewport");if(!d)return;let h=window.getComputedStyle(d),{m22:f}=new window.DOMMatrixReadOnly(h.transform),p=o.reduce((t,n)=>{let o=i.get(n.id);if(o?.hidden)i.set(o.id,{...o,[nw]:{...o[nw],handleBounds:void 0}});else if(o){let r=nu(n.nodeElement);r.width&&r.height&&(o.width!==r.width||o.height!==r.height||n.forceUpdate)&&(i.set(o.id,{...o,[nw]:{...o[nw],handleBounds:{source:ro(".source",n.nodeElement,f,c),target:ro(".target",n.nodeElement,f,c)}},...r}),t.push({id:o.id,type:"dimensions",dimensions:r}))}return t},[]);oT(i,c);let g=l||a&&!l&&o$(n,{initial:!0,...s});t({nodeInternals:new Map(i),fitViewOnInitDone:g}),p?.length>0&&r?.(p)},updateNodePositions:(t,o=!0,r=!1)=>{let{triggerNodeChanges:i}=n();i(t.map(t=>{let n={id:t.id,type:"position",dragging:r};return o&&(n.positionAbsolute=t.positionAbsolute,n.position=t.position),n}))},triggerNodeChanges:o=>{let{onNodesChange:r,nodeInternals:i,hasDefaultNodes:a,nodeOrigin:l,getNodes:s,elevateNodesOnSelect:u}=n();o?.length&&(a&&t({nodeInternals:oL(o5(o,s()),i,l,u)}),r?.(o))},addSelectedNodes:o=>{let{multiSelectionActive:r,edges:i,getNodes:a}=n(),l,s=null;r?l=o.map(t=>o4(t,!0)):(l=o6(a(),o),s=o6(i,[])),oH({changedNodes:l,changedEdges:s,get:n,set:t})},addSelectedEdges:o=>{let{multiSelectionActive:r,edges:i,getNodes:a}=n(),l,s=null;r?l=o.map(t=>o4(t,!0)):(l=o6(i,o),s=o6(a(),[])),oH({changedNodes:s,changedEdges:l,get:n,set:t})},unselectNodesAndEdges:({nodes:o,edges:r}={})=>{let{edges:i,getNodes:a}=n();oH({changedNodes:(o||a()).map(t=>(t.selected=!1,o4(t.id,!1))),changedEdges:(r||i).map(t=>o4(t.id,!1)),get:n,set:t})},setMinZoom:o=>{let{d3Zoom:r,maxZoom:i}=n();r?.scaleExtent([o,i]),t({minZoom:o})},setMaxZoom:o=>{let{d3Zoom:r,minZoom:i}=n();r?.scaleExtent([i,o]),t({maxZoom:o})},setTranslateExtent:o=>{n().d3Zoom?.translateExtent(o),t({translateExtent:o})},resetSelectedElements:()=>{let{edges:o,getNodes:r}=n();oH({changedNodes:r().filter(t=>t.selected).map(t=>o4(t.id,!1)),changedEdges:o.filter(t=>t.selected).map(t=>o4(t.id,!1)),get:n,set:t})},setNodeExtent:o=>{let{nodeInternals:r}=n();r.forEach(t=>{t.positionAbsolute=nd(t.position,o)}),t({nodeExtent:o,nodeInternals:new Map(r)})},panBy:t=>{let{transform:o,width:r,height:i,d3Zoom:a,d3Selection:l,translateExtent:s}=n();if(!a||!l||!t.x&&!t.y)return!1;let u=tW.translate(o[0]+t.x,o[1]+t.y).scale(o[2]),c=a?.constrain()(u,[[0,0],[r,i]],s);return a.transform(l,c),o[0]!==c.x||o[1]!==c.y||o[2]!==c.k},cancelConnection:()=>t({connectionNodeId:rK.connectionNodeId,connectionHandleId:rK.connectionHandleId,connectionHandleType:rK.connectionHandleType,connectionStatus:rK.connectionStatus,connectionStartHandle:rK.connectionStartHandle,connectionEndHandle:rK.connectionEndHandle}),reset:()=>t({...rK})}),n=Object.is,t?v(t,n):v},rq=({children:t})=>{let o=n.useRef(null);return o.current||(o.current=rU()),n.createElement(t5,{value:o.current},t)};rq.displayName="ReactFlowProvider";let rJ=({children:t})=>n.useContext(t2)?n.createElement(n.Fragment,null,t):n.createElement(rq,null,t);rJ.displayName="ReactFlowWrapper";let rQ={input:of,default:od,output:og,group:om},r0={default:nj,straight:nV,step:n$,smoothstep:nL,simplebezier:nR},r1=[0,0],r2=[15,15],r5={x:0,y:0,zoom:1},r3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},r4=n.forwardRef(({nodes:o,edges:i,defaultNodes:a,defaultEdges:l,className:s,nodeTypes:u=rQ,edgeTypes:c=r0,onNodeClick:d,onEdgeClick:h,onInit:f,onMove:p,onMoveStart:g,onMoveEnd:m,onConnect:y,onConnectStart:v,onConnectEnd:b,onClickConnectStart:E,onClickConnectEnd:x,onNodeMouseEnter:w,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:C,onNodeDoubleClick:N,onNodeDragStart:M,onNodeDrag:k,onNodeDragStop:P,onNodesDelete:O,onEdgesDelete:I,onSelectionChange:D,onSelectionDragStart:A,onSelectionDrag:R,onSelectionDragStop:z,onSelectionContextMenu:B,onSelectionStart:T,onSelectionEnd:L,connectionMode:$=t.ConnectionMode.Strict,connectionLineType:H=t.ConnectionLineType.Bezier,connectionLineStyle:V,connectionLineComponent:X,connectionLineContainerStyle:Y,deleteKeyCode:F="Backspace",selectionKeyCode:j="Shift",selectionOnDrag:W=!1,selectionMode:G=t.SelectionMode.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:K=nM()?"Meta":"Control",zoomActivationKeyCode:U=nM()?"Meta":"Control",snapToGrid:q=!1,snapGrid:J=r2,onlyRenderVisibleElements:Q=!1,selectNodesOnDrag:ee=!0,nodesDraggable:et,nodesConnectable:en,nodesFocusable:eo,nodeOrigin:er=r1,edgesFocusable:ei,edgesUpdatable:ea,elementsSelectable:el,defaultViewport:es=r5,minZoom:eu=.5,maxZoom:ec=2,translateExtent:ed=rZ,preventScrolling:eh=!0,nodeExtent:ef,defaultMarkerColor:ep="#b1b1b7",zoomOnScroll:eg=!0,zoomOnPinch:em=!0,panOnScroll:ey=!1,panOnScrollSpeed:ev=.5,panOnScrollMode:eb=t.PanOnScrollMode.Free,zoomOnDoubleClick:eE=!0,panOnDrag:ex=!0,onPaneClick:ew,onPaneMouseEnter:eS,onPaneMouseMove:e_,onPaneMouseLeave:eC,onPaneScroll:eN,onPaneContextMenu:eM,children:ek,onEdgeContextMenu:eP,onEdgeDoubleClick:eO,onEdgeMouseEnter:eI,onEdgeMouseMove:eD,onEdgeMouseLeave:eA,onEdgeUpdate:eR,onEdgeUpdateStart:ez,onEdgeUpdateEnd:eB,onReconnect:eT,onReconnectStart:eL,onReconnectEnd:e$,reconnectRadius:eH=10,edgeUpdaterRadius:eV=10,onNodesChange:eX,onEdgesChange:eY,noDragClassName:eF="nodrag",noWheelClassName:ej="nowheel",noPanClassName:eW="nopan",fitView:eG=!1,fitViewOptions:eZ,connectOnClick:eK=!0,attributionPosition:eU,proOptions:eq,defaultEdgeOptions:eJ,elevateNodesOnSelect:eQ=!0,elevateEdgesOnSelect:e0=!1,disableKeyboardA11y:e1=!1,autoPanOnConnect:e2=!0,autoPanOnNodeDrag:e5=!0,connectionRadius:e3=20,isValidConnection:e4,onError:e6,style:e7,id:e8,nodeDragThreshold:e9,...te},tt)=>{let tn=e8||"1";return n.createElement("div",{...te,style:{...e7,...r3},ref:tt,className:r(["react-flow",s]),"data-testid":"rf__wrapper",id:e8},n.createElement(rJ,null,n.createElement(rG,{onInit:f,onMove:p,onMoveStart:g,onMoveEnd:m,onNodeClick:d,onEdgeClick:h,onNodeMouseEnter:w,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:C,onNodeDoubleClick:N,nodeTypes:u,edgeTypes:c,connectionLineType:H,connectionLineStyle:V,connectionLineComponent:X,connectionLineContainerStyle:Y,selectionKeyCode:j,selectionOnDrag:W,selectionMode:G,deleteKeyCode:F,multiSelectionKeyCode:K,panActivationKeyCode:Z,zoomActivationKeyCode:U,onlyRenderVisibleElements:Q,selectNodesOnDrag:ee,defaultViewport:es,translateExtent:ed,minZoom:eu,maxZoom:ec,preventScrolling:eh,zoomOnScroll:eg,zoomOnPinch:em,zoomOnDoubleClick:eE,panOnScroll:ey,panOnScrollSpeed:ev,panOnScrollMode:eb,panOnDrag:ex,onPaneClick:ew,onPaneMouseEnter:eS,onPaneMouseMove:e_,onPaneMouseLeave:eC,onPaneScroll:eN,onPaneContextMenu:eM,onSelectionContextMenu:B,onSelectionStart:T,onSelectionEnd:L,onEdgeContextMenu:eP,onEdgeDoubleClick:eO,onEdgeMouseEnter:eI,onEdgeMouseMove:eD,onEdgeMouseLeave:eA,onReconnect:eT??eR,onReconnectStart:eL??ez,onReconnectEnd:e$??eB,reconnectRadius:eH??eV,defaultMarkerColor:ep,noDragClassName:eF,noWheelClassName:ej,noPanClassName:eW,elevateEdgesOnSelect:e0,rfId:tn,disableKeyboardA11y:e1,nodeOrigin:er,nodeExtent:ef}),n.createElement(oN,{nodes:o,edges:i,defaultNodes:a,defaultEdges:l,onConnect:y,onConnectStart:v,onConnectEnd:b,onClickConnectStart:E,onClickConnectEnd:x,nodesDraggable:et,nodesConnectable:en,nodesFocusable:eo,edgesFocusable:ei,edgesUpdatable:ea,elementsSelectable:el,elevateNodesOnSelect:eQ,minZoom:eu,maxZoom:ec,nodeExtent:ef,onNodesChange:eX,onEdgesChange:eY,snapToGrid:q,snapGrid:J,connectionMode:$,translateExtent:ed,connectOnClick:eK,defaultEdgeOptions:eJ,fitView:eG,fitViewOptions:eZ,onNodesDelete:O,onEdgesDelete:I,onNodeDragStart:M,onNodeDrag:k,onNodeDragStop:P,onSelectionDrag:R,onSelectionDragStart:A,onSelectionDragStop:z,noPanClassName:eW,nodeOrigin:er,rfId:tn,autoPanOnConnect:e2,autoPanOnNodeDrag:e5,onError:e6,connectionRadius:e3,isValidConnection:e4,nodeDragThreshold:e9}),n.createElement(ow,{onSelectionChange:D}),ek,n.createElement(nl,{proOptions:eq,position:eU}),n.createElement(oA,{rfId:tn,disableKeyboardA11y:e1})))});r4.displayName="ReactFlow";let r6=t=>t.domNode?.querySelector(".react-flow__edgelabel-renderer"),r7=t=>t.getNodes(),r8=t=>t.edges,r9=t=>({x:t.transform[0],y:t.transform[1],zoom:t.transform[2]});function ie(t){return o=>{let[r,i]=n.useState(o),a=n.useCallback(n=>i(o=>t(n,o)),[]);return[r,i,a]}}let it=ie(o5),io=ie(o3),ir={includeHiddenNodes:!1},ii=({id:t,x:o,y:i,width:a,height:l,style:s,color:u,strokeColor:c,strokeWidth:d,className:h,borderRadius:f,shapeRendering:p,onClick:g,selected:m})=>{let{background:y,backgroundColor:v}=s||{};return n.createElement("rect",{className:r(["react-flow__minimap-node",{selected:m},h]),x:o,y:i,rx:f,ry:f,width:a,height:l,fill:u||y||v,stroke:c,strokeWidth:d,shapeRendering:p,onClick:g?n=>g(n,t):void 0})};ii.displayName="MiniMapNode";var ia=n.memo(ii);let il=t=>t.nodeOrigin,is=t=>t.getNodes().filter(t=>!t.hidden&&t.width&&t.height),iu=t=>t instanceof Function?t:()=>t;var ic=n.memo(function({nodeStrokeColor:t="transparent",nodeColor:o="#e2e2e2",nodeClassName:r="",nodeBorderRadius:i=5,nodeStrokeWidth:a=2,nodeComponent:l=ia,onClick:s}){let u=no(is,b),c=no(il),d=iu(o),h=iu(t),f=iu(r),p="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return n.createElement(n.Fragment,null,u.map(t=>{let{x:o,y:r}=n5(t,c).positionAbsolute;return n.createElement(l,{key:t.id,x:o,y:r,width:t.width,height:t.height,style:t.style,selected:t.selected,className:f(t),color:d(t),borderRadius:i,strokeColor:h(t),strokeWidth:a,shapeRendering:p,onClick:s,id:t.id})}))});let id=t=>{let n=t.getNodes(),o={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:o,boundingRect:n.length>0?nb(n3(n,t.nodeOrigin),o):o,rfId:t.rfId}};function ih({style:t,className:o,nodeStrokeColor:i="transparent",nodeColor:a="#e2e2e2",nodeClassName:l="",nodeBorderRadius:s=5,nodeStrokeWidth:u=2,nodeComponent:c,maskColor:d="rgb(240, 240, 240, 0.6)",maskStrokeColor:h="none",maskStrokeWidth:f=1,position:p="bottom-right",onClick:g,onNodeClick:m,pannable:y=!1,zoomable:v=!1,ariaLabel:E="React Flow mini map",inversePan:x=!1,zoomStep:w=10,offsetScale:S=5}){let _=nr(),C=n.useRef(null),{boundingRect:N,viewBB:M,rfId:k}=no(id,b),P=t?.width??200,O=t?.height??150,I=Math.max(N.width/P,N.height/O),D=I*P,A=I*O,R=S*I,z=N.x-(D-N.width)/2-R,B=N.y-(A-N.height)/2-R,T=D+2*R,L=A+2*R,$=`react-flow__minimap-desc-${k}`,H=n.useRef(0);H.current=I,n.useEffect(()=>{if(C.current){let t=ed(C.current),n=t1().on("zoom",y?t=>{let{transform:n,d3Selection:o,d3Zoom:r,translateExtent:i,width:a,height:l}=_.getState();if("mousemove"!==t.sourceEvent.type||!o||!r)return;let s=H.current*Math.max(1,n[2])*(x?-1:1),u={x:n[0]-t.sourceEvent.movementX*s,y:n[1]-t.sourceEvent.movementY*s},c=tW.translate(u.x,u.y).scale(n[2]),d=r.constrain()(c,[[0,0],[a,l]],i);r.transform(o,d)}:null).on("zoom.wheel",v?t=>{let{transform:n,d3Selection:o,d3Zoom:r}=_.getState();if("wheel"!==t.sourceEvent.type||!o||!r)return;let i=-t.sourceEvent.deltaY*(1===t.sourceEvent.deltaMode?.05:t.sourceEvent.deltaMode?1:.002)*w,a=n[2]*Math.pow(2,i);r.scaleTo(o,a)}:null);return t.call(n),()=>{t.on("zoom",null)}}},[y,v,x,w]);let V=g?t=>{let n=eh(t);g(t,{x:n[0],y:n[1]})}:void 0;return n.createElement(na,{position:p,style:t,className:r(["react-flow__minimap",o]),"data-testid":"rf__minimap"},n.createElement("svg",{width:P,height:O,viewBox:`${z} ${B} ${T} ${L}`,role:"img","aria-labelledby":$,ref:C,onClick:V},E&&n.createElement("title",{id:$},E),n.createElement(ic,{onClick:m?(t,n)=>{m(t,_.getState().nodeInternals.get(n))}:void 0,nodeColor:a,nodeStrokeColor:i,nodeBorderRadius:s,nodeClassName:l,nodeStrokeWidth:u,nodeComponent:c}),n.createElement("path",{className:"react-flow__minimap-mask",d:`M${z-R},${B-R}h${T+2*R}v${L+2*R}h${-T-2*R}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fill:d,fillRule:"evenodd",stroke:h,strokeWidth:f,pointerEvents:"none"})))}ih.displayName="MiniMap";var ip=n.memo(ih);function ig(t,n){if(Object.is(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(let[o,r]of t)if(!Object.is(r,n.get(o)))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(let o of t)if(!n.has(o))return!1;return!0}let o=Object.keys(t);if(o.length!==Object.keys(n).length)return!1;for(let r=0;r<o.length;r++)if(!Object.prototype.hasOwnProperty.call(n,o[r])||!Object.is(t[o[r]],n[o[r]]))return!1;return!0}function im(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},n.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function iy(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},n.createElement("path",{d:"M0 0h32v4.2H0z"}))}function iv(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},n.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function ib(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},n.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function iE(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},n.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}let ix=({children:t,className:o,...i})=>n.createElement("button",{type:"button",className:r(["react-flow__controls-button",o]),...i},t);ix.displayName="ControlButton";let iw=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),iS=({style:t,showZoom:o=!0,showFitView:i=!0,showInteractive:a=!0,fitViewOptions:l,onZoomIn:s,onZoomOut:u,onFitView:c,onInteractiveChange:d,className:h,children:f,position:p="bottom-left"})=>{let g=nr(),[m,y]=n.useState(!1),{isInteractive:v,minZoomReached:b,maxZoomReached:E}=no(iw,ig),{zoomIn:x,zoomOut:w,fitView:S}=oF();return(n.useEffect(()=>{y(!0)},[]),m)?n.createElement(na,{className:r(["react-flow__controls",h]),position:p,style:t,"data-testid":"rf__controls"},o&&n.createElement(n.Fragment,null,n.createElement(ix,{onClick:()=>{x(),s?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:E},n.createElement(im,null)),n.createElement(ix,{onClick:()=>{w(),u?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},n.createElement(iy,null))),i&&n.createElement(ix,{className:"react-flow__controls-fitview",onClick:()=>{S(l),c?.()},title:"fit view","aria-label":"fit view"},n.createElement(iv,null)),a&&n.createElement(ix,{className:"react-flow__controls-interactive",onClick:()=>{g.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),d?.(!v)},title:"toggle interactivity","aria-label":"toggle interactivity"},v?n.createElement(iE,null):n.createElement(ib,null)),f):null};iS.displayName="Controls";var i_,iC,iN,iM,ik,iP,iO,iI=n.memo(iS);function iD({color:t,dimensions:o,lineWidth:r}){return n.createElement("path",{stroke:t,strokeWidth:r,d:`M${o[0]/2} 0 V${o[1]} M0 ${o[1]/2} H${o[0]}`})}function iA({color:t,radius:o}){return n.createElement("circle",{cx:o,cy:o,r:o,fill:t})}t.BackgroundVariant=void 0,(iO=t.BackgroundVariant||(t.BackgroundVariant={})).Lines="lines",iO.Dots="dots",iO.Cross="cross";let iR={[t.BackgroundVariant.Dots]:"#91919a",[t.BackgroundVariant.Lines]:"#eee",[t.BackgroundVariant.Cross]:"#e2e2e2"},iz={[t.BackgroundVariant.Dots]:1,[t.BackgroundVariant.Lines]:1,[t.BackgroundVariant.Cross]:6},iB=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function iT({id:o,variant:i=t.BackgroundVariant.Dots,gap:a=20,size:l,lineWidth:s=1,offset:u=2,color:c,style:d,className:h}){let f=n.useRef(null),{transform:p,patternId:g}=no(iB,b),m=c||iR[i],y=l||iz[i],v=i===t.BackgroundVariant.Dots,E=i===t.BackgroundVariant.Cross,x=Array.isArray(a)?a:[a,a],w=[x[0]*p[2]||1,x[1]*p[2]||1],S=y*p[2],_=E?[S,S]:w,C=v?[S/u,S/u]:[_[0]/u,_[1]/u];return n.createElement("svg",{className:r(["react-flow__background",h]),style:{...d,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:f,"data-testid":"rf__background"},n.createElement("pattern",{id:g+o,x:p[0]%w[0],y:p[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`},v?n.createElement(iA,{color:m,radius:S/u}):n.createElement(iD,{dimensions:_,color:m,lineWidth:s})),n.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${g+o})`}))}iT.displayName="Background";var iL=n.memo(iT);let i$=t=>t.domNode?.querySelector(".react-flow__renderer");function iH({children:t}){let n=no(i$);return n?o.createPortal(t,n):null}let iV=(t,n)=>t.length===n.length&&t.every((t,o)=>{let r;return r=n[o],t?.positionAbsolute?.x===r?.positionAbsolute?.x&&t?.positionAbsolute?.y===r?.positionAbsolute?.y&&t?.width===r?.width&&t?.height===r?.height&&t?.selected===r?.selected&&t?.[nw]?.z===r?.[nw]?.z}),iX=t=>({transform:t.transform,nodeOrigin:t.nodeOrigin,selectedNodesCount:t.getNodes().filter(t=>t.selected).length});t.ResizeControlVariant=void 0,(i=t.ResizeControlVariant||(t.ResizeControlVariant={})).Line="line",i.Handle="handle";let iY={width:0,height:0,x:0,y:0},iF={...iY,pointerX:0,pointerY:0,aspectRatio:1};var ij=n.memo(function({nodeId:o,position:i,variant:a=t.ResizeControlVariant.Handle,className:l,style:s={},children:u,color:c,minWidth:d=10,minHeight:h=10,maxWidth:f=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:g=!1,shouldResize:m,onResizeStart:y,onResize:v,onResizeEnd:b}){let E=nZ(),x="string"==typeof o?o:E,w=nr(),S=n.useRef(null),_=n.useRef(iF),C=n.useRef(iY),N=ra(),M=a===t.ResizeControlVariant.Line?"right":"bottom-right",k=i??M;n.useEffect(()=>{if(!S.current||!x)return;let t=ed(S.current),n=k.includes("right")||k.includes("left"),o=k.includes("bottom")||k.includes("top"),r=k.includes("left"),i=k.includes("top"),a=eC().on("start",t=>{let n=w.getState().nodeInternals.get(x),{xSnapped:o,ySnapped:r}=N(t);C.current={width:n?.width??0,height:n?.height??0,x:n?.position.x??0,y:n?.position.y??0},_.current={...C.current,pointerX:o,pointerY:r,aspectRatio:C.current.width/C.current.height},y?.(t,{...C.current})}).on("drag",t=>{let{nodeInternals:a,triggerNodeChanges:l}=w.getState(),{xSnapped:s,ySnapped:u}=N(t),c=a.get(x);if(c){let a=[],{pointerX:y,pointerY:b,width:E,height:w,x:S,y:N,aspectRatio:M}=_.current,{x:k,y:P,width:O,height:I}=C.current,D=Math.floor(n?s-y:0),A=Math.floor(o?u-b:0),R=nc(E+(r?-D:D),d,f),z=nc(w+(i?-A:A),h,p);if(g){let t=R/z,r=n&&o;R=t<=M&&r||o&&!n?z*M:R,z=t>M&&r||n&&!o?R/M:z,R>=f?(R=f,z=f/M):R<=d&&(R=d,z=d/M),z>=p?(z=p,R=p*M):z<=h&&(z=h,R=h*M)}let B=R!==O,T=z!==I;if(r||i){let t=r?S-(R-E):S,n=i?N-(z-w):N,o=t!==k&&B,l=n!==P&&T;if(o||l){let r={id:c.id,type:"position",position:{x:o?t:k,y:l?n:P}};a.push(r),C.current.x=r.position.x,C.current.y=r.position.y}}if(B||T){let t={id:x,type:"dimensions",updateStyle:!0,resizing:!0,dimensions:{width:R,height:z}};a.push(t),C.current.width=R,C.current.height=z}if(0===a.length)return;let L=function({width:t,prevWidth:n,height:o,prevHeight:r,invertX:i,invertY:a}){let l=t-n,s=o-r,u=[l>0?1:l<0?-1:0,s>0?1:s<0?-1:0];return l&&i&&(u[0]=-1*u[0]),s&&a&&(u[1]=-1*u[1]),u}({width:C.current.width,prevWidth:O,height:C.current.height,prevHeight:I,invertX:r,invertY:i}),$={...C.current,direction:L};if(!1===m?.(t,$))return;v?.(t,$),l(a)}}).on("end",t=>{b?.(t,{...C.current}),w.getState().triggerNodeChanges([{id:x,type:"dimensions",resizing:!1}])});return t.call(a),()=>{t.on(".drag",null)}},[x,k,d,h,f,p,g,N,y,v,b]);let P=k.split("-"),O=a===t.ResizeControlVariant.Line?"borderColor":"backgroundColor",I=c?{...s,[O]:c}:s;return n.createElement("div",{className:r(["react-flow__resize-control","nodrag",...P,a,l]),ref:S,style:I},u)});let iW=["top-left","top-right","bottom-left","bottom-right"],iG=["top","right","bottom","left"];t.Background=iL,t.BaseEdge=nk,t.BezierEdge=nj,t.ControlButton=ix,t.Controls=iI,t.EdgeLabelRenderer=function({children:t}){let n=no(r6);return n?o.createPortal(t,n):null},t.EdgeText=ns,t.Handle=ou,t.MiniMap=ip,t.NodeResizeControl=ij,t.NodeResizer=function({nodeId:o,isVisible:r=!0,handleClassName:i,handleStyle:a,lineClassName:l,lineStyle:s,color:u,minWidth:c=10,minHeight:d=10,maxWidth:h=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:p=!1,shouldResize:g,onResizeStart:m,onResize:y,onResizeEnd:v}){return r?n.createElement(n.Fragment,null,iG.map(r=>n.createElement(ij,{key:r,className:l,style:s,nodeId:o,position:r,variant:t.ResizeControlVariant.Line,color:u,minWidth:c,minHeight:d,maxWidth:h,maxHeight:f,onResizeStart:m,keepAspectRatio:p,shouldResize:g,onResize:y,onResizeEnd:v})),iW.map(t=>n.createElement(ij,{key:t,className:i,style:a,nodeId:o,position:t,color:u,minWidth:c,minHeight:d,maxWidth:h,maxHeight:f,onResizeStart:m,keepAspectRatio:p,shouldResize:g,onResize:y,onResizeEnd:v}))):null},t.NodeToolbar=function({nodeId:o,children:i,className:a,style:l,isVisible:s,position:u=t.Position.Top,offset:c=10,align:d="center",...h}){let f=nZ(),p=no(n.useCallback(t=>(Array.isArray(o)?o:[o||f||""]).reduce((n,o)=>{let r=t.nodeInternals.get(o);return r&&n.push(r),n},[]),[o,f]),iV),{transform:g,nodeOrigin:m,selectedNodesCount:y}=no(iX,b);if(!("boolean"==typeof s?s:1===p.length&&p[0].selected&&1===y)||!p.length)return null;let v=n3(p,m),E=Math.max(...p.map(t=>(t[nw]?.z||1)+1)),x={position:"absolute",transform:function(n,o,r,i,a){let l=.5;"start"===a?l=0:"end"===a&&(l=1);let s=[(n.x+n.width*l)*o[2]+o[0],n.y*o[2]+o[1]-i],u=[-100*l,-100];switch(r){case t.Position.Right:s=[(n.x+n.width)*o[2]+o[0]+i,(n.y+n.height*l)*o[2]+o[1]],u=[0,-100*l];break;case t.Position.Bottom:s[1]=(n.y+n.height)*o[2]+o[1]+i,u[1]=0;break;case t.Position.Left:s=[n.x*o[2]+o[0]-i,(n.y+n.height*l)*o[2]+o[1]],u=[-100,-100*l]}return`translate(${s[0]}px, ${s[1]}px) translate(${u[0]}%, ${u[1]}%)`}(v,g,u,c,d),zIndex:E,...l};return n.createElement(iH,null,n.createElement("div",{style:x,className:r(["react-flow__node-toolbar",a]),...h},i))},t.Panel=na,t.ReactFlow=r4,t.ReactFlowProvider=rq,t.SimpleBezierEdge=nR,t.SmoothStepEdge=nL,t.StepEdge=n$,t.StraightEdge=nV,t.addEdge=nQ,t.applyEdgeChanges=o3,t.applyNodeChanges=o5,t.boxToRect=ny,t.clamp=nc,t.default=r4,t.getBezierPath=nF,t.getBoundsOfRects=nb,t.getConnectedEdges=n6,t.getIncomers=(t,n,o)=>{if(!nU(t))return[];let r=o.filter(n=>n.target===t.id).map(t=>t.source);return n.filter(t=>r.includes(t.id))},t.getMarkerEnd=(t,n)=>void 0!==n&&n?`url(#${n})`:void 0!==t?`url(#react-flow__${t})`:"none",t.getNodePositionWithOrigin=n5,t.getNodesBounds=n3,t.getOutgoers=(t,n,o)=>{if(!nU(t))return[];let r=o.filter(n=>n.source===t.id).map(t=>t.target);return n.filter(t=>r.includes(t.id))},t.getRectOfNodes=(t,n=[0,0])=>(console.warn("[DEPRECATED] `getRectOfNodes` is deprecated. Instead use `getNodesBounds` https://reactflow.dev/api-reference/utils/get-nodes-bounds."),n3(t,n)),t.getSimpleBezierPath=nA,t.getSmoothStepPath=nT,t.getStraightPath=nH,t.getTransformForBounds=(t,n,o,r,i,a=.1)=>{let{x:l,y:s,zoom:u}=n7(t,n,o,r,i,a);return console.warn("[DEPRECATED] `getTransformForBounds` is deprecated. Instead use `getViewportForBounds`. Beware that the return value is type Viewport (`{ x: number, y: number, zoom: number }`) instead of Transform (`[number, number, number]`). https://reactflow.dev/api-reference/utils/get-viewport-for-bounds"),[l,s,u]},t.getViewportForBounds=n7,t.handleParentExpand=o1,t.internalsSymbol=nw,t.isEdge=nK,t.isNode=nU,t.reconnectEdge=n0,t.rectToBox=nm,t.updateEdge=(t,n,o,r={shouldReplaceId:!0})=>(console.warn("[DEPRECATED] `updateEdge` is deprecated. Instead use `reconnectEdge` https://reactflow.dev/api-reference/utils/reconnect-edge"),n0(t,n,o,r)),t.useEdges=function(){return no(r8,b)},t.useEdgesState=io,t.useGetPointerPosition=ra,t.useKeyPress=oR,t.useNodeId=nZ,t.useNodes=function(){return no(r7,b)},t.useNodesInitialized=function(t=ir){return no(n=>0!==n.nodeInternals.size&&n.getNodes().filter(n=>!!t.includeHiddenNodes||!n.hidden).every(t=>void 0!==t[nw]?.handleBounds))},t.useNodesState=it,t.useOnSelectionChange=function({onChange:t}){let o=nr();n.useEffect(()=>{let n=[...o.getState().onSelectionChange,t];return o.setState({onSelectionChange:n}),()=>{let n=o.getState().onSelectionChange.filter(n=>n!==t);o.setState({onSelectionChange:n})}},[t])},t.useOnViewportChange=function({onStart:t,onChange:o,onEnd:r}){let i=nr();n.useEffect(()=>{i.setState({onViewportChangeStart:t})},[t]),n.useEffect(()=>{i.setState({onViewportChange:o})},[o]),n.useEffect(()=>{i.setState({onViewportChangeEnd:r})},[r])},t.useReactFlow=oF,t.useStore=no,t.useStoreApi=nr,t.useUpdateNodeInternals=function(){let t=nr();return n.useCallback(n=>{let{domNode:o,updateNodeDimensions:r}=t.getState(),i=(Array.isArray(n)?n:[n]).reduce((t,n)=>{let r=o?.querySelector(`.react-flow__node[data-id="${n}"]`);return r&&t.push({id:n,nodeElement:r,forceUpdate:!0}),t},[]);requestAnimationFrame(()=>r(i))},[])},t.useViewport=function(){return no(r9,b)},Object.defineProperty(t,"__esModule",{value:!0})}(n,o(2265),o(54887))},40273:function(){},40164:function(t){t.exports={truncateText:"flow_truncateText__t_hJa",flow:"flow_flow__SqF7X",reactFlow:"flow_reactFlow___2ZCm",flowPanel:"flow_flowPanel__daOqA",refreshButton:"flow_refreshButton__X8P4m",refreshIcon:"flow_refreshIcon__49TLw",rotating:"flow_rotating__exDCh",sideDashBoard:"flow_sideDashBoard__tvHG5",sideDashHeader:"flow_sideDashHeader__8KE7a",sideDashGroup:"flow_sideDashGroup__jidJa",sideDashGroupHeader:"flow_sideDashGroupHeader__cPslF",sideDashGroupItem:"flow_sideDashGroupItem__Jmh60",sideDashGroupItemError:"flow_sideDashGroupItemError__aEoRN",sideDashGroupLink:"flow_sideDashGroupLink__PPN2J",sideDashGroupLinkIcon:"flow_sideDashGroupLinkIcon__kRNM9",sideDashGroupItemRightTag:"flow_sideDashGroupItemRightTag__4E19Y",sideDashFooter:"flow_sideDashFooter__QL1uH"}},23108:function(t){t.exports={nodeSelected:"nodes-flow_nodeSelected__oWtrK",nodeIconsContainer:"nodes-flow_nodeIconsContainer__oFxtK",nodeClientServerType:"nodes-flow_nodeClientServerType__Ly9Yr"}},60552:function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,r=Array(n);o<n;o++)r[o]=t[o];return r},t.exports.__esModule=!0,t.exports.default=t.exports},27941:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},81949:function(t,n,o){var r=o(54048);t.exports=function(t,n,o){return(n=r(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t},t.exports.__esModule=!0,t.exports.default=t.exports},23963:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},95367:function(t){t.exports=function(t,n){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var r,i,a,l,s=[],u=!0,c=!1;try{if(a=(o=o.call(t)).next,0===n){if(Object(o)!==o)return;u=!1}else for(;!(u=(r=a.call(o)).done)&&(s.push(r.value),s.length!==n);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=o.return&&(l=o.return(),Object(l)!==l))return}finally{if(c)throw i}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},37392:function(t){t.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},5957:function(t,n,o){var r=o(27941),i=o(95367),a=o(56923),l=o(37392);t.exports=function(t,n){return r(t)||i(t,n)||a(t,n)||l()},t.exports.__esModule=!0,t.exports.default=t.exports},50513:function(t,n,o){var r=o(80154).default;t.exports=function(t,n){if("object"!=r(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,n||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},54048:function(t,n,o){var r=o(80154).default,i=o(50513);t.exports=function(t){var n=i(t,"string");return"symbol"==r(n)?n:n+""},t.exports.__esModule=!0,t.exports.default=t.exports},80154:function(t){function n(o){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},56923:function(t,n,o){var r=o(60552);t.exports=function(t,n){if(t){if("string"==typeof t)return r(t,n);var o=({}).toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(t,n):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}}]);