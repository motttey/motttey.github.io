"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{16463:function(e,t,r){var n=r(71169);r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},10912:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return o}});let n=r(55592);function o(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return r}},61481:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return i}});let n=r(57437),o=r(58512);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=(0,o.getExpectedRequestStore)("next/dynamic css"),i=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));i.push(...t)}}return 0===i.length?null:(0,n.jsx)(n.Fragment,{children:i.map(e=>(0,n.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},34492:function(e,t,r){/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,l=n.useEffect,a=n.useLayoutEffect,u=n.useDebugValue;function s(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),o=n[0].inst,c=n[1];return a(function(){o.value=r,o.getSnapshot=t,s(o)&&c({inst:o})},[e,r,t]),l(function(){return s(o)&&c({inst:o}),e(function(){s(o)&&c({inst:o})})},[e]),u(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},10554:function(e,t,r){e.exports=r(34492)},9819:function(e,t,r){r.d(t,{OO:function(){return tN}});var n,o=r(2265),i=r(54887);function l(e,t){return r=>e(t(r))}function a(e,t){return t(e)}function u(...e){return e}function s(e){e()}function c(e){return void 0!==e}function f(){}function d(e){e(2)}function m(e){return e(4)}function h(e,t){return e(1,e=>t(0,e))}function g(e,t){let r=e(1,e=>{r(),t(e)});return r}function v(){let e=[];return(t,r)=>{switch(t){case 2:e.splice(0,e.length);return;case 1:return e.push(r),()=>{let t=e.indexOf(r);t>-1&&e.splice(t,1)};case 0:e.slice().forEach(e=>{e(r)});return;default:throw Error(`unrecognized action ${t}`)}}}function p(e){let t=e,r=v();return(e,n)=>{switch(e){case 1:n(t);break;case 0:t=n;break;case 4:return t}return r(e,n)}}function T(e){var t;return h(e,t=v()),t}function E(e,t){var r;return h(e,r=p(t)),r}function x(e,...t){let r=function(...e){return t=>e.reduceRight(a,t)}(...t);return(t,n)=>{switch(t){case 1:return e(1,r(n));case 2:d(e);return}}}function S(e,t){return e===t}function R(e=S){let t;return r=>n=>{e(t,n)||(t=n,r(n))}}function A(e){return t=>r=>{e(r)&&t(r)}}function w(e){return t=>l(t,e)}function I(e){return t=>()=>t(e)}function C(e,t){return r=>n=>r(t=e(t,n))}function b(e){return t=>r=>{e>0?e--:t(r)}}function y(e){let t,r=null;return n=>o=>{r=o,t||(t=setTimeout(()=>{t=void 0,n(r)},e))}}function L(e){let t,r;return n=>o=>{t=o,r&&clearTimeout(r),r=setTimeout(()=>{n(t)},e)}}function D(...e){let t=Array(e.length),r=0,n=null,o=Math.pow(2,e.length)-1;return e.forEach((e,i)=>{let l=Math.pow(2,i);e(1,e=>{let a=r;r|=l,t[i]=e,a!==o&&r===o&&n&&(n(),n=null)})}),e=>i=>{let l=()=>e([i].concat(t));r===o?l():n=l}}function O(...e){return function(t,r){switch(t){case 1:return function(...e){return()=>{e.map(s)}}(...e.map(e=>e(1,r)));case 2:return;default:throw Error(`unrecognized action ${t}`)}}}function U(e,t=S){return x(e,R(t))}function F(...e){let t=v(),r=Array(e.length),n=0,o=Math.pow(2,e.length)-1;return e.forEach((e,i)=>{let l=Math.pow(2,i);e(1,e=>{r[i]=e,(n|=l)===o&&t(0,r)})}),function(e,i){switch(e){case 1:return n===o&&i(r),t(1,i);case 2:return d(t);default:throw Error(`unrecognized action ${e}`)}}}function B(e,t=[],{singleton:r}={singleton:!0}){return{id:N(),constructor:e,dependencies:t,singleton:r}}let N=()=>Symbol(),z="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function H(e,t,r){let n=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),l=Object.keys(t.methods||{}),a=Object.keys(t.events||{}),u=o.createContext({});function s(e,r){for(let o of(e.propsReady&&(0,e.propsReady)(0,!1),n))(0,e[t.required[o]])(0,r[o]);for(let n of i)n in r&&(0,e[t.optional[n]])(0,r[n]);e.propsReady&&(0,e.propsReady)(0,!0)}return{Component:o.forwardRef((c,m)=>{var h;let{children:g,...v}=c,[p]=o.useState(()=>{var t;return s(t=function(e){let t=new Map,r=({id:e,constructor:n,dependencies:o,singleton:i})=>{if(i&&t.has(e))return t.get(e);let l=n(o.map(e=>r(e)));return i&&t.set(e,l),l};return r(e)}(e),v),t}),[T]=o.useState(()=>{var e;return e=p,a.reduce((r,n)=>(r[n]=function(e){let t,r;let n=()=>t&&t();return function(o,i){switch(o){case 1:if(!i)return n(),f;if(r===i)return;return n(),r=i,t=e(1,i);case 2:n(),r=null;return;default:throw Error(`unrecognized action ${o}`)}}}(e[t.events[n]]),r),{})});return z(()=>{for(let e of a)e in v&&(0,T[e])(1,v[e]);return()=>{Object.values(T).map(d)}},[v,T,p]),z(()=>{s(p,v)}),o.useImperativeHandle(m,(h=l.reduce((e,r)=>(e[r]=e=>{(0,p[t.methods[r]])(0,e)},e),{}),()=>h)),o.createElement(u.Provider,{value:p},r?o.createElement(r,function(e,t){let r={},n={},o=0,i=e.length;for(;o<i;)n[e[o]]=1,o+=1;for(let e in t)n.hasOwnProperty(e)||(r[e]=t[e]);return r}([...n,...i,...a],v),g):g)}),usePublisher:e=>{var t;return o.useCallback((t=o.useContext(u)[e],e=>{t(0,e)}),[e])},useEmitterValue:o.version.startsWith("18")?e=>{let t=o.useContext(u)[e],r=o.useCallback(e=>t(1,e),[t]);return o.useSyncExternalStore(r,()=>m(t),()=>m(t))}:e=>{let t=o.useContext(u)[e],[r,n]=o.useState(()=>m(t));return z(()=>t(1,e=>{e!==r&&n(()=>e)}),[t,r]),r},useEmitter:(e,t)=>{let r=o.useContext(u)[e];z(()=>r(1,t),[t,r])}}}let M="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;var P=((n=P||{})[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.WARN=2]="WARN",n[n.ERROR=3]="ERROR",n);let V={0:"debug",1:"log",2:"warn",3:"error"},k=()=>"undefined"==typeof globalThis?window:globalThis,_=B(()=>{let e=p(3);return{log:p((t,r,n=1)=>{var o;n>=(null!=(o=k().VIRTUOSO_LOG_LEVEL)?o:m(e))&&console[V[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,r)}),logLevel:e}},[],{singleton:!0});function Y(e,t=!0){let r=o.useRef(null),n=e=>{};if("undefined"!=typeof ResizeObserver){let i=o.useMemo(()=>new ResizeObserver(t=>{requestAnimationFrame(()=>{let r=t[0].target;null!==r.offsetParent&&e(r)})}),[e]);n=e=>{e&&t?(i.observe(e),r.current=e):(r.current&&i.unobserve(r.current),r.current=null)}}return{ref:r,callbackRef:n}}function X(e,t=!0){return Y(e,t).callbackRef}function G(e,t,r,n,i,l,a){return Y(o.useCallback(r=>{var o;let u=function(e,t,r,n){let o=e.length;if(0===o)return null;let i=[];for(let l=0;l<o;l++){let o=e.item(l);if(!o||void 0===o.dataset.index)continue;let a=parseInt(o.dataset.index),u=parseFloat(o.dataset.knownSize),s=t(o,r);if(0===s&&n("Zero-sized element, this should not happen",{child:o},P.ERROR),s===u)continue;let c=i[i.length-1];0===i.length||c.size!==s||c.endIndex!==a-1?i.push({startIndex:a,endIndex:a,size:s}):i[i.length-1].endIndex++}return i}(r.children,t,"offsetHeight",i),s=r.parentElement;for(;!s.dataset.virtuosoScroller;)s=s.parentElement;let c="window"===s.lastElementChild.dataset.viewportType;n({scrollTop:Math.max(a?a.scrollTop:c?window.pageYOffset||document.documentElement.scrollTop:s.scrollTop,0),scrollHeight:a?a.scrollHeight:c?document.documentElement.scrollHeight:s.scrollHeight,viewportHeight:a?a.offsetHeight:c?window.innerHeight:s.offsetHeight}),null==l||l(("normal"===(o=getComputedStyle(r).rowGap)||(null==o?void 0:o.endsWith("px"))||i("row-gap was not resolved to pixel value correctly",o,P.WARN),"normal"===o)?0:parseInt(null!=o?o:"0",10)),null!==u&&e(u)},[e,t,i,l,a,n]),r)}function W(e,t){return Math.round(e.getBoundingClientRect()[t])}function Q(e,t){return 1.01>Math.abs(e-t)}function K(e,t,r,n=f,l){let a=o.useRef(null),u=o.useRef(null),s=o.useRef(null),c=o.useCallback(r=>{let n=r.target,o=n===window||n===document,l=o?window.pageYOffset||document.documentElement.scrollTop:n.scrollTop,a=o?document.documentElement.scrollHeight:n.scrollHeight,c=o?window.innerHeight:n.offsetHeight,f=()=>{e({scrollTop:Math.max(l,0),scrollHeight:a,viewportHeight:c})};r.suppressFlushSync?f():i.flushSync(f),null!==u.current&&(l===u.current||l<=0||l===a-c)&&(u.current=null,t(!0),s.current&&(clearTimeout(s.current),s.current=null))},[e,t]);return o.useEffect(()=>{let e=l||a.current;return n(l||a.current),c({target:e,suppressFlushSync:!0}),e.addEventListener("scroll",c,{passive:!0}),()=>{n(null),e.removeEventListener("scroll",c)}},[a,c,r,n,l]),{scrollerRef:a,scrollByCallback:function(e){a.current.scrollBy(e)},scrollToCallback:function(r){let n,o,i;let l=a.current;if(!l||"offsetHeight"in l&&0===l.offsetHeight)return;let c="smooth"===r.behavior;l===window?(o=Math.max(W(document.documentElement,"height"),document.documentElement.scrollHeight),n=window.innerHeight,i=document.documentElement.scrollTop):(o=l.scrollHeight,n=W(l,"height"),i=l.scrollTop);let f=o-n;if(r.top=Math.ceil(Math.max(Math.min(f,r.top),0)),Q(n,o)||r.top===i){e({scrollTop:i,scrollHeight:o,viewportHeight:n}),c&&t(!0);return}c?(u.current=r.top,s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{s.current=null,u.current=null,t(!0)},1e3)):u.current=null,l.scrollTo(r)}}}let q=B(()=>{let e=v(),t=v(),r=p(0),n=v(),o=p(0),i=v(),l=v(),a=p(0),u=p(0),s=p(0),c=p(0),f=v(),d=v(),m=p(!1);return h(x(e,w(({scrollTop:e})=>e)),t),h(x(e,w(({scrollHeight:e})=>e)),l),h(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:a,fixedHeaderHeight:u,fixedFooterHeight:s,footerHeight:c,scrollHeight:l,smoothScrollTargetReached:n,scrollTo:f,scrollBy:d,statefulScrollTop:o,deviation:r,scrollingInProgress:m}},[],{singleton:!0}),J={lvl:0};function Z(e,t,r,n=J,o=J){return{k:e,v:t,lvl:r,l:n,r:o}}function j(e){return e===J}function ee(e,t){return j(e)?void 0:t===e.k?e.v:t<e.k?ee(e.l,t):ee(e.r,t)}function et(e,t,r="k"){if(j(e))return[-1/0,void 0];if(Number(e[r])===t)return[e.k,e.v];if(Number(e[r])<t){let n=et(e.r,t,r);return n[0]===-1/0?[e.k,e.v]:n}return et(e.l,t,r)}function er(e,t,r){return j(e)?Z(t,r,1):t===e.k?eo(e,{k:t,v:r}):t<e.k?es(ec(eo(e,{l:er(e.l,t,r)}))):es(ec(eo(e,{r:er(e.r,t,r)})))}function en(e){return j(e)?[]:[...en(e.l),{k:e.k,v:e.v},...en(e.r)]}function eo(e,t){return Z(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function ei(e){return j(e)||e.lvl>e.r.lvl}function el(e){let{l:t,r,lvl:n}=e;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if(ei(t))return ec(eo(e,{lvl:n-1}));if(!j(t)&&!j(t.r))return eo(t.r,{l:eo(t,{r:t.r.l}),r:eo(e,{l:t.r.r,lvl:n-1}),lvl:n});throw Error("Unexpected empty nodes")}if(ei(e))return es(eo(e,{lvl:n-1}));if(j(r)||j(r.l))throw Error("Unexpected empty nodes");{let t=r.l,o=ei(t)?r.lvl-1:r.lvl;return eo(t,{l:eo(e,{r:t.l,lvl:n-1}),r:es(eo(r,{l:t.r,lvl:o})),lvl:t.lvl+1})}}function ea(e,t,r){if(j(e))return[];let n=et(e,t)[0];return eu(function e(t,r,n){if(j(t))return[];let{k:o,v:i,l,r:a}=t,u=[];return o>r&&(u=u.concat(e(l,r,n))),o>=r&&o<=n&&u.push({k:o,v:i}),o<=n&&(u=u.concat(e(a,r,n))),u}(e,n,r),({k:e,v:t})=>({index:e,value:t}))}function eu(e,t){let r=e.length;if(0===r)return[];let{index:n,value:o}=t(e[0]),i=[];for(let l=1;l<r;l++){let{index:r,value:a}=t(e[l]);i.push({start:n,end:r-1,value:o}),n=r,o=a}return i.push({start:n,end:1/0,value:o}),i}function es(e){let{r:t,lvl:r}=e;return j(t)||j(t.r)||t.lvl!==r||t.r.lvl!==r?e:eo(t,{l:eo(e,{r:t.l}),lvl:r+1})}function ec(e){let{l:t}=e;return j(t)||t.lvl!==e.lvl?e:eo(t,{r:eo(e,{l:t.r})})}function ef(e,t,r,n=0){let o=e.length-1;for(;n<=o;){let i=Math.floor((n+o)/2),l=r(e[i],t);if(0===l)return i;if(-1===l){if(o-n<2)return i-1;o=i-1}else{if(o===n)return i;n=i+1}}throw Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}let ed=B(()=>({recalcInProgress:p(!1)}),[],{singleton:!0});function em(e,t){let r=0,n=0;for(;r<e;)r+=t[n+1]-t[n]-1,n++;return n-(r===e?0:1)}function eh({index:e},t){return t===e?0:t<e?-1:1}function eg({offset:e},t){return t===e?0:t<e?-1:1}function ev(e){return{index:e.index,value:e}}function ep(e,t,r,n){let o=e,i=0,l=0,a=0,u=0;if(0!==t){u=ef(o,t-1,eh),a=o[u].offset;let e=et(r,t-1);i=e[0],l=e[1],o.length&&o[u].size===et(r,t)[1]&&(u-=1),o=o.slice(0,u+1)}else o=[];for(let{start:e,value:u}of ea(r,t,1/0)){let t=e-i,r=t*l+a+t*n;o.push({offset:r,size:u,index:e}),i=e,a=r,l=u}return{offsetTree:o,lastIndex:i,lastOffset:a,lastSize:l}}function eT(e,[t,r,n,o]){t.length>0&&n("received item sizes",t,P.DEBUG);let i=e.sizeTree,l=i,a=0;if(r.length>0&&j(i)&&2===t.length){let e=t[0].size,n=t[1].size;l=r.reduce((t,r)=>er(er(t,r,e),r+1,n),l)}else[l,a]=function(e,t){let r=j(e)?0:1/0;for(let n of t){let{size:t,startIndex:o,endIndex:i}=n;if(r=Math.min(r,o),j(e)){e=er(e,0,t);continue}let l=ea(e,o-1,i+1);if(l.some(function(e){let{size:t,startIndex:r,endIndex:n}=e;return e=>e.start===r&&(e.end===n||e.end===1/0)&&e.value===t}(n)))continue;let a=!1,u=!1;for(let{start:r,end:n,value:o}of l)a?(i>=r||t===o)&&(e=function e(t,r){if(j(t))return J;let{k:n,l:o,r:i}=t;if(r===n){if(j(o))return i;if(j(i))return o;{let[e,r]=function e(t){return j(t.r)?[t.k,t.v]:e(t.r)}(o);return el(eo(t,{k:e,v:r,l:function e(t){return j(t.r)?t.l:el(eo(t,{r:e(t.r)}))}(o)}))}}return r<n?el(eo(t,{l:e(o,r)})):el(eo(t,{r:e(i,r)}))}(e,r)):(u=o!==t,a=!0),n>i&&i>=r&&o!==t&&(e=er(e,i+1,o));u&&(e=er(e,o,t))}return[e,r]}(l,t);if(l===i)return e;let{offsetTree:u,lastIndex:s,lastSize:c,lastOffset:f}=ep(e.offsetTree,a,l,o);return{sizeTree:l,offsetTree:u,lastIndex:s,lastOffset:f,lastSize:c,groupOffsetTree:r.reduce((e,t)=>er(e,t,eE(t,u,o)),J),groupIndices:r}}function eE(e,t,r){if(0===t.length)return 0;let{offset:n,index:o,size:i}=t[ef(t,e,eh)],l=e-o,a=i*l+(l-1)*r+n;return a>0?a+r:a}function ex(e,t,r){if(void 0!==e.groupIndex)return t.groupIndices[e.groupIndex]+1;{let n=eS("LAST"===e.index?r:e.index,t);return Math.max(0,n,Math.min(r,n))}}function eS(e,t){if(!eR(t))return e;let r=0;for(;t.groupIndices[r]<=e+r;)r++;return e+r}function eR(e){return!j(e.groupOffsetTree)}let eA={offsetHeight:"height",offsetWidth:"width"},ew=B(([{log:e},{recalcInProgress:t}])=>{let r=v(),n=v(),o=E(n,0),i=v(),l=v(),a=p(0),u=p([]),s=p(void 0),c=p(void 0),f=p((e,t)=>W(e,eA[t])),d=p(void 0),g=p(0),S={offsetTree:[],sizeTree:J,groupOffsetTree:J,lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},I=E(x(r,D(u,e,g),C(eT,S),R()),S),b=E(x(u,R(),C((e,t)=>({prev:e.current,current:t}),{prev:[],current:[]}),w(({prev:e})=>e)),[]);h(x(u,A(e=>e.length>0),D(I,g),w(([e,t,r])=>{let n=e.reduce((e,n,o)=>er(e,n,eE(n,t.offsetTree,r)||o),J);return{...t,groupIndices:e,groupOffsetTree:n}})),I),h(x(n,D(I),A(([e,{lastIndex:t}])=>e<t),w(([e,{lastIndex:t,lastSize:r}])=>[{startIndex:e,endIndex:t,size:r}])),r),h(s,c);let y=E(x(s,w(e=>void 0===e)),!0);h(x(c,A(e=>void 0!==e&&j(m(I).sizeTree)),w(e=>[{startIndex:0,endIndex:0,size:e}])),r);let L=T(x(r,D(I),C(({sizes:e},[t,r])=>({changed:r!==e,sizes:r}),{changed:!1,sizes:S}),w(e=>e.changed)));x(a,C((e,t)=>({diff:e.prev-t,prev:t}),{diff:0,prev:0}),w(e=>e.diff))(1,e=>{let{groupIndices:r}=m(I);if(e>0)t(0,!0),i(0,e+em(e,r));else if(e<0){let t=m(b);t.length>0&&(e-=em(-e,t)),l(0,e)}}),x(a,D(e))(1,([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:a},P.ERROR)});let O=T(i);h(x(i,D(I),w(([e,t])=>{let r=t.groupIndices.length>0,n=[],o=t.lastSize;if(r){let r=ee(t.sizeTree,0),i=0,l=0;for(;i<e;){let e=t.groupIndices[l],a=t.groupIndices.length===l+1?1/0:t.groupIndices[l+1]-e-1;n.push({startIndex:e,endIndex:e,size:r}),n.push({startIndex:e+1,endIndex:e+1+a-1,size:o}),l++,i+=a+1}let a=en(t.sizeTree);return i!==e&&a.shift(),a.reduce((t,{k:r,v:n})=>{let o=t.ranges;return 0!==t.prevSize&&(o=[...t.ranges,{startIndex:t.prevIndex,endIndex:r+e-1,size:t.prevSize}]),{ranges:o,prevIndex:r+e,prevSize:n}},{ranges:n,prevIndex:e,prevSize:0}).ranges}return en(t.sizeTree).reduce((t,{k:r,v:n})=>({ranges:[...t.ranges,{startIndex:t.prevIndex,endIndex:r+e-1,size:t.prevSize}],prevIndex:r+e,prevSize:n}),{ranges:[],prevIndex:0,prevSize:o}).ranges})),r);let U=T(x(l,D(I,g),w(([e,{offsetTree:t},r])=>eE(-e,t,r))));return h(x(l,D(I,g),w(([e,t,r])=>{if(t.groupIndices.length>0){if(j(t.sizeTree))return t;let n=J,o=m(b),i=0,l=0,a=0;for(;i<-e;){a=o[l];let e=o[l+1]-a-1;l++,i+=e+1}return n=en(t.sizeTree).reduce((t,{k:r,v:n})=>er(t,Math.max(0,r+e),n),n),i!==-e&&(n=er(n,0,ee(t.sizeTree,a)),n=er(n,1,et(t.sizeTree,-e+1)[1])),{...t,sizeTree:n,...ep(t.offsetTree,0,n,r)}}{let n=en(t.sizeTree).reduce((t,{k:r,v:n})=>er(t,Math.max(0,r+e),n),J);return{...t,sizeTree:n,...ep(t.offsetTree,0,n,r)}}})),I),{data:d,totalCount:n,sizeRanges:r,groupIndices:u,defaultItemSize:c,fixedItemSize:s,unshiftWith:i,shiftWith:l,shiftWithOffset:U,beforeUnshiftWith:O,firstItemIndex:a,gap:g,sizes:I,listRefresh:L,statefulTotalCount:o,trackItemSizes:y,itemSize:f}},u(_,ed),{singleton:!0}),eI="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function eC(e){let t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&eI||(t.behavior="auto"),t.offset||(t.offset=0),t}let eb=B(([{sizes:e,totalCount:t,listRefresh:r,gap:n},{scrollingInProgress:o,viewportHeight:i,scrollTo:l,smoothScrollTargetReached:a,headerHeight:u,footerHeight:s,fixedHeaderHeight:c,fixedFooterHeight:f},{log:d}])=>{let m=v(),T=v(),E=p(0),S=null,R=null,A=null;function I(){S&&(S(),S=null),A&&(A(),A=null),R&&(clearTimeout(R),R=null),o(0,!1)}return h(x(m,D(e,i,t,E,u,s,d),D(n,c,f),w(([[e,t,n,i,l,u,s,c],f,d,h])=>{let v=eC(e),{align:p,behavior:E,offset:w}=v,C=i-1,b=ex(v,t,C),y=eE(b,t.offsetTree,f)+u;"end"===p?(y+=d+et(t.sizeTree,b)[1]-n+h,b===C&&(y+=s)):"center"===p?y+=(d+et(t.sizeTree,b)[1]-n+h)/2:y-=l,w&&(y+=w);let L=t=>{I(),t?(c("retrying to scroll to",{location:e},P.DEBUG),m(0,e)):(T(0,!0),c("list did not change, scroll successful",{},P.DEBUG))};if(I(),"smooth"===E){let e=!1;A=r(1,t=>{e=e||t}),S=g(a,()=>{L(e)})}else S=g(x(r,e=>{let t=setTimeout(()=>{e(!1)},150);return r=>{r&&(e(!0),clearTimeout(t))}}),L);return R=setTimeout(()=>{I()},1200),o(0,!0),c("scrolling from index to",{index:b,top:y,behavior:E},P.DEBUG),{top:y,behavior:E}})),l),{scrollToIndex:m,scrollTargetReached:T,topListHeight:E}},u(ew,q,_),{singleton:!0}),ey="down",eL={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},eD=B(([{scrollContainerState:e,scrollTop:t,viewportHeight:r,headerHeight:n,footerHeight:o,scrollBy:i}])=>{let l=p(!1),a=p(!0),u=v(),s=v(),c=p(4),f=p(0),d=E(x(O(x(U(t),b(1),I(!0)),x(U(t),b(1),I(!1),L(100))),R()),!1),g=E(x(O(x(i,I(!0)),x(i,I(!1),L(200))),R()),!1);h(x(F(U(t),U(f)),w(([e,t])=>e<=t),R()),a),h(x(a,y(50)),s);let S=T(x(F(e,U(r),U(n),U(o),U(c)),C((e,[{scrollTop:t,scrollHeight:r},n,o,i,l])=>{let a={viewportHeight:n,scrollTop:t,scrollHeight:r};if(t+n-r>-l){let r,n;return t>e.state.scrollTop?(r="SCROLLED_DOWN",n=e.state.scrollTop-t):(r="SIZE_DECREASED",n=e.state.scrollTop-t||e.scrollTopDelta),{atBottom:!0,state:a,atBottomBecause:r,scrollTopDelta:n}}return{atBottom:!1,notAtBottomBecause:a.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":n<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":t<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:a}},eL),R((e,t)=>e&&e.atBottom===t.atBottom))),B=E(x(e,C((e,{scrollTop:t,scrollHeight:r,viewportHeight:n})=>{if(Q(e.scrollHeight,r))return{scrollTop:t,scrollHeight:r,jump:0,changed:!1};{let o=r-(t+n)<1;return e.scrollTop!==t&&o?{scrollHeight:r,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:r,scrollTop:t,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),A(e=>e.changed),w(e=>e.jump)),0);h(x(S,w(e=>e.atBottom)),l),h(x(l,y(50)),u);let N=p(ey);h(x(e,w(({scrollTop:e})=>e),R(),C((e,t)=>m(g)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?"up":ey,prevScrollTop:t},{direction:ey,prevScrollTop:0}),w(e=>e.direction)),N),h(x(e,y(50),I("none")),N);let z=p(0);return h(x(d,A(e=>!e),I(0)),z),h(x(t,y(100),D(d),A(([e,t])=>!!t),C(([e,t],[r])=>[t,r],[0,0]),w(([e,t])=>t-e)),z),{isScrolling:d,isAtTop:a,isAtBottom:l,atBottomState:S,atTopStateChange:s,atBottomStateChange:u,scrollDirection:N,atBottomThreshold:c,atTopThreshold:f,scrollVelocity:z,lastJumpDueToItemResize:B}},u(q)),eO=B(([{log:e}])=>{let t=p(!1),r=T(x(t,A(e=>e),R()));return t(1,t=>{t&&m(e)("props updated",{},P.DEBUG)}),{propsReady:t,didMount:r}},u(_),{singleton:!0});function eU(e,t){0==e?t():requestAnimationFrame(()=>eU(e-1,t))}function eF(e,t){return"number"==typeof e?e:"LAST"===e.index?t-1:e.index}let eB=B(([{sizes:e,listRefresh:t,defaultItemSize:r},{scrollTop:n},{scrollToIndex:o,scrollTargetReached:i},{didMount:l}])=>{let a=p(!0),u=p(0),s=p(!0);return h(x(l,D(u),A(([e,t])=>!!t),I(!1)),a),h(x(l,D(u),A(([e,t])=>!!t),I(!1)),s),x(F(t,l),D(a,e,r,s),A(([[,e],t,{sizeTree:r},n,o])=>e&&(!j(r)||c(n))&&!t&&!o),D(u))(1,([,e])=>{g(i,()=>{s(0,!0)}),eU(4,()=>{g(n,()=>{a(0,!0)}),o(0,e)})}),{scrolledToInitialItem:a,initialTopMostItemIndex:u,initialItemFinalLocationReached:s}},u(ew,q,eb,eO),{singleton:!0});function eN(e){return!!e&&("smooth"===e?"smooth":"auto")}let ez=(e,t)=>"function"==typeof e?eN(e(t)):t&&eN(e),eH=B(([{totalCount:e,listRefresh:t},{isAtBottom:r,atBottomState:n},{scrollToIndex:o},{scrolledToInitialItem:i},{propsReady:l,didMount:a},{log:u},{scrollingInProgress:s}])=>{let c=p(!1),f=v(),d=null;function h(e){o(0,{index:"LAST",align:"end",behavior:e})}function T(e){setTimeout(g(n,t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||d||(m(u)("scrolling to bottom due to increased size",{},P.DEBUG),h("auto"))}),100)}return x(F(x(U(e),b(1)),a),D(U(c),r,i,s),w(([[e,t],r,n,o,i])=>{let l=t&&o,a="auto";return l&&(a=ez(r,n||i),l=l&&!!a),{totalCount:e,shouldFollow:l,followOutputBehavior:a}}),A(({shouldFollow:e})=>e))(1,({totalCount:e,followOutputBehavior:r})=>{d&&(d(),d=null),d=g(t,()=>{m(u)("following output to ",{totalCount:e},P.DEBUG),h(r),d=null})}),x(F(U(c),e,l),A(([e,,t])=>e&&t),C(({value:e},[,t])=>({refreshed:e===t,value:t}),{refreshed:!1,value:0}),A(({refreshed:e})=>e),D(c,e))(1,([,e])=>{m(i)&&T(!1!==e)}),f(1,()=>{T(!1!==m(c))}),F(U(c),n)(1,([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&h("auto")}),{followOutput:c,autoscrollToBottom:f}},u(ew,eD,eb,eB,eO,_,q));function eM(e){return e.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{totalCount:0,groupIndices:[]})}let eP=B(([{totalCount:e,groupIndices:t,sizes:r},{scrollTop:n,headerHeight:o}])=>{let i=v(),l=v(),a=T(x(i,w(eM)));return h(x(a,w(e=>e.totalCount)),e),h(x(a,w(e=>e.groupIndices)),t),h(x(F(n,r,o),A(([e,t])=>eR(t)),w(([e,t,r])=>et(t.groupOffsetTree,Math.max(e-r,0),"v")[0]),R(),w(e=>[e])),l),{groupCounts:i,topItemsIndexes:l}},u(ew,q));function eV(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function ek(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}let e_="bottom",eY="none";function eX(e,t,r){return"number"==typeof e?"up"===r&&"top"===t||r===ey&&t===e_?e:0:"up"===r?"top"===t?e.main:e.reverse:t===e_?e.main:e.reverse}function eG(e,t){return"number"==typeof e?e:e[t]||0}let eW=B(([{scrollTop:e,viewportHeight:t,deviation:r,headerHeight:n,fixedHeaderHeight:o}])=>{let i=v(),l=p(0),a=p(0),u=p(0),s=E(x(F(U(e),U(t),U(n),U(i,eV),U(u),U(l),U(o),U(r),U(a)),w(([e,t,r,[n,o],i,l,a,u,s])=>{let c=e-u,f=Math.max(r-c,0),d=eY,m=eG(s,"top"),h=eG(s,e_);return(n-=u,n+=r+a,o+=r+a,n>e+(l+a)-m&&(d="up"),(o-=u)<e-f+t+h&&(d=ey),d!==eY)?[Math.max(c-r-eX(i,"top",d)-m,0),c-f-a+t+eX(i,e_,d)+h]:null}),A(e=>null!=e),R(eV)),[0,0]);return{listBoundary:i,overscan:u,topListHeight:l,increaseViewportBy:a,visibleRange:s}},u(q),{singleton:!0}),eQ={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function eK(e,t,r){let n;if(0===e.length)return[];if(!eR(t))return e.map(e=>({...e,index:e.index+r,originalIndex:e.index}));let o=e[0].index,i=e[e.length-1].index,l=[],a=ea(t.groupOffsetTree,o,i),u=0;for(let o of e){let e;(!n||n.end<o.index)&&(n=a.shift(),u=t.groupIndices.indexOf(n.start)),e=o.index===n.start?{type:"group",index:u}:{index:o.index-(u+1)+r,groupIndex:u},l.push({...e,size:o.size,offset:o.offset,originalIndex:o.index,data:o.data})}return l}function eq(e,t,r,n,o,i){let{lastSize:l,lastOffset:a,lastIndex:u}=o,s=0,c=0;if(e.length>0){s=e[0].offset;let t=e[e.length-1];c=t.offset+t.size}let f=r-u,d=s,m=a+f*l+(f-1)*n-c;return{items:eK(e,o,i),topItems:eK(t,o,i),topListHeight:t.reduce((e,t)=>t.size+e,0),offsetTop:s,offsetBottom:m,top:d,bottom:c,totalCount:r,firstItemIndex:i}}function eJ(e,t,r,n,o,i){let l=0;if(r.groupIndices.length>0)for(let t of r.groupIndices){if(t-l>=e)break;l++}let a=e+l,u=eF(t,a);return eq(Array.from({length:a}).map((e,t)=>({index:t+u,size:0,offset:0,data:i[t+u]})),[],a,o,r,n)}let eZ=B(([{sizes:e,totalCount:t,data:r,firstItemIndex:n,gap:o},i,{visibleRange:l,listBoundary:a,topListHeight:u},{scrolledToInitialItem:s,initialTopMostItemIndex:f},{topListHeight:d},g,{didMount:S},{recalcInProgress:I}])=>{let C=p([]),b=p(0),L=v();h(i.topItemsIndexes,C);let O=E(x(F(S,I,U(l,eV),U(t),U(e),U(f),s,U(C),U(n),U(o),r),A(([e,t,,r,,,,,,,n])=>{let o=n&&n.length!==r;return e&&!t&&!o}),w(([,,[e,t],r,n,o,i,l,a,u,s])=>{var c;let{sizeTree:f,offsetTree:d}=n,h=m(b);if(0===r)return{...eQ,totalCount:r};if(0===e&&0===t)return 0===h?{...eQ,totalCount:r}:eJ(h,o,n,a,u,s||[]);if(j(f))return h>0?null:eq(function(e,t,r){if(eR(t)){let n=eS(e,t);return[{index:et(t.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:r&&r[0]}]}return[{index:e,size:0,offset:0,data:r&&r[0]}]}(eF(o,r),n,s),[],r,u,n,a);let g=[];if(l.length>0){let e=l[0],t=l[l.length-1],r=0;for(let n of ea(f,e,t)){let o=n.value,i=Math.max(n.start,e),l=Math.min(n.end,t);for(let e=i;e<=l;e++)g.push({index:e,size:o,offset:r,data:s&&s[e]}),r+=o}}if(!i)return eq([],g,r,u,n,a);let v=l.length>0?l[l.length-1]+1:0,p=function(e,t,r,n=0){return n>0&&(t=Math.max(t,e[ef(e,n,eh)].offset)),eu(function(e,t,r,n){let o=ef(e,t,n),i=ef(e,r,n,o);return e.slice(o,i+1)}(e,t,r,eg),ev)}(d,e,t,v);if(0===p.length)return null;let T=r-1;return eq(((r=>{for(let n of p){let o=n.value,i=o.offset,l=n.start,a=o.size;if(o.offset<e){let t=(l+=Math.floor((e-o.offset+u)/(a+u)))-n.start;i+=t*a+t*u}l<v&&(i+=(v-l)*a,l=v);let c=Math.min(n.end,T);for(let e=l;e<=c&&!(i>=t);e++)r.push({index:e,size:a,offset:i,data:s&&s[e]}),i+=a+u}})(c=[]),c),g,r,u,n,a)}),A(e=>null!==e),R()),eQ);h(x(r,A(c),w(e=>null==e?void 0:e.length)),t),h(x(O,w(e=>e.topListHeight)),d),h(d,u),h(x(O,w(e=>[e.top,e.bottom])),a),h(x(O,w(e=>e.items)),L);let B=T(x(O,A(({items:e})=>e.length>0),D(t,r),A(([{items:e},t])=>e[e.length-1].originalIndex===t-1),w(([,e,t])=>[e-1,t]),R(eV),w(([e])=>e))),N=T(x(O,y(200),A(({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length),w(({items:e})=>e[0].index),R())),z=T(x(O,A(({items:e})=>e.length>0),w(({items:e})=>{let t=0,r=e.length-1;for(;"group"===e[t].type&&t<r;)t++;for(;"group"===e[r].type&&r>t;)r--;return{startIndex:e[t].index,endIndex:e[r].index}}),R(ek)));return{listState:O,topItemsIndexes:C,endReached:B,startReached:N,rangeChanged:z,itemsRendered:L,initialItemCount:b,...g}},u(ew,eP,eW,eB,eb,eD,eO,ed),{singleton:!0}),ej=B(([{sizes:e,firstItemIndex:t,data:r,gap:n},{initialTopMostItemIndex:o},{initialItemCount:i,listState:l},{didMount:a}])=>(h(x(a,D(i),A(([,e])=>0!==e),D(o,e,t,n,r),w(([[,e],t,r,n,o,i=[]])=>eJ(e,t,r,n,o,i))),l),{}),u(ew,eB,eZ,eO),{singleton:!0}),e$=B(([{scrollVelocity:e}])=>{let t=p(!1),r=v(),n=p(!1);return h(x(e,D(n,t,r),A(([e,t])=>!!t),w(([e,t,r,n])=>{let{exit:o,enter:i}=t;if(r){if(o(e,n))return!1}else if(i(e,n))return!0;return r}),R()),t),x(F(t,e,r),D(n))(1,([[e,t,r],n])=>e&&n&&n.change&&n.change(t,r)),{isSeeking:t,scrollSeekConfiguration:n,scrollVelocity:e,scrollSeekRangeChanged:r}},u(eD),{singleton:!0}),e0=B(([{topItemsIndexes:e}])=>{let t=p(0);return h(x(t,A(e=>e>0),w(e=>Array.from({length:e}).map((e,t)=>t))),e),{topItemCount:t}},u(eZ)),e1=B(([{footerHeight:e,headerHeight:t,fixedHeaderHeight:r,fixedFooterHeight:n},{listState:o}])=>{let i=v(),l=E(x(F(e,n,t,r,o),w(([e,t,r,n,o])=>e+t+r+n+o.offsetBottom+o.bottom)),0);return h(U(l),i),{totalListHeight:l,totalListHeightChanged:i}},u(q,eZ),{singleton:!0});function e2(e){let t,r=!1;return()=>(r||(r=!0,t=e()),t)}let e3=e2(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),e5=B(([{scrollBy:e,scrollTop:t,deviation:r,scrollingInProgress:n},{isScrolling:o,isAtBottom:i,scrollDirection:l,lastJumpDueToItemResize:a},{listState:u},{beforeUnshiftWith:s,shiftWithOffset:c,sizes:f,gap:d},{log:m},{recalcInProgress:g}])=>{let v=T(x(u,D(a),C(([,e,t,r],[{items:n,totalCount:o,bottom:i,offsetBottom:l},a])=>{let u=i+l,s=0;return t===o&&e.length>0&&n.length>0&&!(0===n[0].originalIndex&&0===e[0].originalIndex)&&0!=(s=u-r)&&(s+=a),[s,n,o,u]},[0,[],0,0]),A(([e])=>0!==e),D(t,l,n,i,m,g),A(([,e,t,r,,,n])=>!n&&!r&&0!==e&&"up"===t),w(([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},P.DEBUG),e))));function p(t){t>0?(e(0,{top:-t,behavior:"auto"}),r(0,0)):(r(0,0),e(0,{top:-t,behavior:"auto"}))}return x(v,D(r,o))(1,([e,t,n])=>{n&&e3()?r(0,t-e):p(-e)}),x(F(E(o,!1),r,g),A(([e,t,r])=>!e&&!r&&0!==t),w(([e,t])=>t),y(1))(1,p),h(x(c,w(e=>({top:-e}))),e),x(s,D(f,d),w(([e,{lastSize:t,groupIndices:r,sizeTree:n},o])=>{if(0===r.length)return e*(t+o);{let i=0,l=ee(n,0),a=0,u=0;for(;a<e;){a++,i+=l;let n=r.length===u+1?1/0:r[u+1]-r[u]-1;a+n>e&&(i-=l,n=e-a+1),a+=n,i+=n*(t+o),u++}return i}}))(1,t=>{r(0,t),requestAnimationFrame(()=>{e(0,{top:t}),requestAnimationFrame(()=>{r(0,0),g(0,!1)})})}),{deviation:r}},u(q,eD,eZ,ew,_,ed)),e4=B(([{didMount:e},{scrollTo:t},{listState:r}])=>{let n=p(0);return x(e,D(n),A(([,e])=>0!==e),w(([,e])=>({top:e})))(1,e=>{g(x(r,b(1),A(e=>e.items.length>1)),()=>{requestAnimationFrame(()=>{t(0,e)})})}),{initialScrollTop:n}},u(eO,q,eZ),{singleton:!0}),e6=B(([{viewportHeight:e},{totalListHeight:t}])=>{let r=p(!1),n=E(x(F(r,e,t),A(([e])=>e),w(([,e,t])=>Math.max(0,e-t)),y(0),R()),0);return{alignToBottom:r,paddingTopAddition:n}},u(q,e1),{singleton:!0}),e9=B(([{scrollTo:e,scrollContainerState:t}])=>{let r=v(),n=v(),o=v(),i=p(!1),l=p(void 0);return h(x(F(r,n),w(([{viewportHeight:e,scrollTop:t,scrollHeight:r},{offsetTop:n}])=>({scrollTop:Math.max(0,t-n),scrollHeight:r,viewportHeight:e}))),t),h(x(e,D(n),w(([e,{offsetTop:t}])=>({...e,top:e.top+t}))),o),{useWindowScroll:i,customScrollParent:l,windowScrollContainerState:r,windowViewportRect:n,windowScrollTo:o}},u(q)),e7=({itemTop:e,itemBottom:t,viewportTop:r,viewportBottom:n,locationParams:{behavior:o,align:i,...l}})=>e<r?{...l,behavior:o,align:null!=i?i:"start"}:t>n?{...l,behavior:o,align:null!=i?i:"end"}:null,e8=B(([{sizes:e,totalCount:t,gap:r},{scrollTop:n,viewportHeight:o,headerHeight:i,fixedHeaderHeight:l,fixedFooterHeight:a,scrollingInProgress:u},{scrollToIndex:s}])=>{let c=v();return h(x(c,D(e,o,t,i,l,a,n),D(r),w(([[e,t,r,n,o,i,l,a],s])=>{let{done:c,behavior:f,align:d,calculateViewLocation:h=e7,...v}=e,p=ex(e,t,n-1),T=eE(p,t.offsetTree,s)+o+i,E=T+et(t.sizeTree,p)[1],S=h({itemTop:T,itemBottom:E,viewportTop:a+i,viewportBottom:a+r-l,locationParams:{behavior:f,align:d,...v}});return S?c&&g(x(u,A(e=>!1===e),b(m(u)?1:2)),c):c&&c(),S}),A(e=>null!==e)),s),{scrollIntoView:c}},u(ew,q,eb,eZ,_),{singleton:!0}),te=B(([{sizes:e,sizeRanges:t},{scrollTop:r},{initialTopMostItemIndex:n},{didMount:o},{useWindowScroll:i,windowScrollContainerState:l,windowViewportRect:a}])=>{let u=v(),s=p(void 0),f=p(null),d=p(null);return h(l,f),h(a,d),x(u,D(e,r,i,f,d))(1,([e,t,r,n,o,i])=>{let l=en(t.sizeTree).map(({k:e,v:t},r,n)=>{let o=n[r+1];return{startIndex:e,endIndex:o?o.k-1:1/0,size:t}});n&&null!==o&&null!==i&&(r=o.scrollTop-i.offsetTop),e({ranges:l,scrollTop:r})}),h(x(s,A(c),w(tt)),n),h(x(o,D(s),A(([,e])=>void 0!==e),R(),w(([,e])=>e.ranges)),t),{getState:u,restoreStateFrom:s}},u(ew,q,eB,eO,e9));function tt(e){return{offset:e.scrollTop,index:0,align:"start"}}let tr=B(([e,t,r,n,o,i,l,a,u,s])=>({...e,...t,...r,...n,...o,...i,...l,...a,...u,...s}),u(eW,ej,eO,e$,e1,e4,e6,e9,e8,_)),tn=B(([{totalCount:e,sizeRanges:t,fixedItemSize:r,defaultItemSize:n,trackItemSizes:o,itemSize:i,data:l,firstItemIndex:a,groupIndices:u,statefulTotalCount:s,gap:c,sizes:f},{initialTopMostItemIndex:d,scrolledToInitialItem:m,initialItemFinalLocationReached:g},v,p,T,{listState:E,topItemsIndexes:S,...R},{scrollToIndex:A},I,{topItemCount:C},{groupCounts:b},y])=>(h(R.rangeChanged,y.scrollSeekRangeChanged),h(x(y.windowViewportRect,w(e=>e.visibleHeight)),v.viewportHeight),{totalCount:e,data:l,firstItemIndex:a,sizeRanges:t,initialTopMostItemIndex:d,scrolledToInitialItem:m,initialItemFinalLocationReached:g,topItemsIndexes:S,topItemCount:C,groupCounts:b,fixedItemHeight:r,defaultItemHeight:n,gap:c,...T,statefulTotalCount:s,listState:E,scrollToIndex:A,trackItemSizes:o,itemSize:i,groupIndices:u,...R,...y,...v,sizes:f,...p}),u(ew,eB,q,te,eH,eZ,eb,e5,e0,eP,tr)),to="-webkit-sticky",ti="sticky",tl=e2(()=>{if("undefined"==typeof document)return ti;let e=document.createElement("div");return e.style.position=to,e.style.position===to?to:ti});function ta(e,t){let r=o.useRef(null),n=o.useCallback(n=>{let o,i;if(null===n||!n.offsetParent)return;let l=n.getBoundingClientRect(),a=l.width;if(t){let e=t.getBoundingClientRect(),r=l.top-e.top;o=e.height-Math.max(0,r),i=r+t.scrollTop}else o=window.innerHeight-Math.max(0,l.top),i=l.top+window.pageYOffset;r.current={offsetTop:i,visibleHeight:o,visibleWidth:a},e(r.current)},[e,t]),{callbackRef:i,ref:l}=Y(n),a=o.useCallback(()=>{n(l.current)},[n,l]);return o.useEffect(()=>{if(!t)return window.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",a)};{t.addEventListener("scroll",a);let e=new ResizeObserver(()=>{requestAnimationFrame(a)});return e.observe(t),()=>{t.removeEventListener("scroll",a),e.unobserve(t)}}},[a,t]),i}let tu=o.createContext(void 0),ts=o.createContext(void 0);function tc(e){return e}let tf=B(()=>{let e=p(e=>`Item ${e}`),t=p(null),r=p(e=>`Group ${e}`),n=p({}),o=p(tc),i=p("div"),l=p(f),a=(e,t=null)=>E(x(n,w(t=>t[e]),R()),t);return{context:t,itemContent:e,groupContent:r,components:n,computeItemKey:o,headerFooterTag:i,scrollerRef:l,FooterComponent:a("Footer"),HeaderComponent:a("Header"),TopItemListComponent:a("TopItemList"),ListComponent:a("List","div"),ItemComponent:a("Item","div"),GroupComponent:a("Group","div"),ScrollerComponent:a("Scroller","div"),EmptyPlaceholder:a("EmptyPlaceholder"),ScrollSeekPlaceholder:a("ScrollSeekPlaceholder")}}),td=B(([e,t])=>({...e,...t}),u(tn,tf)),tm=({height:e})=>o.createElement("div",{style:{height:e}}),th={position:tl(),zIndex:1,overflowAnchor:"none"},tg={overflowAnchor:"none"},tv=o.memo(function({showTopList:e=!1}){let t=tO("listState"),r=tD("sizeRanges"),n=tO("useWindowScroll"),i=tO("customScrollParent"),l=tD("windowScrollContainerState"),a=tD("scrollContainerState"),u=tO("itemContent"),s=tO("context"),c=tO("groupContent"),d=tO("trackItemSizes"),{callbackRef:m}=G(r,tO("itemSize"),d,e?f:i||n?l:a,tO("log"),tD("gap"),i),[h,g]=o.useState(0);tU("deviation",e=>{h!==e&&g(e)});let v=tO("EmptyPlaceholder"),p=tO("ScrollSeekPlaceholder")||tm,T=tO("ListComponent"),E=tO("ItemComponent"),x=tO("GroupComponent"),S=tO("computeItemKey"),R=tO("isSeeking"),A=tO("groupIndices").length>0,w=tO("alignToBottom"),I=tO("initialItemFinalLocationReached"),C=e?{}:{boxSizing:"border-box",paddingTop:t.offsetTop,paddingBottom:t.offsetBottom,marginTop:0!==h?h:w?"auto":0,...I?{}:{visibility:"hidden"}};return!e&&0===t.totalCount&&v?o.createElement(v,tx(v,s)):o.createElement(T,{...tx(T,s),ref:m,style:C,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list"},(e?t.topItems:t.items).map(e=>{let r=e.originalIndex,n=S(r+t.firstItemIndex,e.data,s);return R?o.createElement(p,{...tx(p,s),key:n,index:e.index,height:e.size,type:e.type||"item",..."group"===e.type?{}:{groupIndex:e.groupIndex}}):"group"===e.type?o.createElement(x,{...tx(x,s),key:n,"data-index":r,"data-known-size":e.size,"data-item-index":e.index,style:th},c(e.index,s)):o.createElement(E,{...tx(E,s),...tS(E,e.data),key:n,"data-index":r,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,style:tg},A?u(e.index,e.groupIndex,e.data,s):u(e.index,e.data,s))}))}),tp={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},tT=e=>({width:"100%",height:"100%",position:"absolute",top:0,...e?{display:"flex",flexDirection:"column"}:{}}),tE={width:"100%",position:tl(),top:0,zIndex:1};function tx(e,t){if("string"!=typeof e)return{context:t}}function tS(e,t){return{item:"string"==typeof e?void 0:t}}let tR=o.memo(function(){let e=tO("HeaderComponent"),t=tD("headerHeight"),r=tO("headerFooterTag"),n=X(e=>t(W(e,"height"))),i=tO("context");return e?o.createElement(r,{ref:n},o.createElement(e,tx(e,i))):null}),tA=o.memo(function(){let e=tO("FooterComponent"),t=tD("footerHeight"),r=tO("headerFooterTag"),n=X(e=>t(W(e,"height"))),i=tO("context");return e?o.createElement(r,{ref:n},o.createElement(e,tx(e,i))):null});function tw({usePublisher:e,useEmitter:t,useEmitterValue:r}){return o.memo(function({style:n,children:i,...l}){let a=e("scrollContainerState"),u=r("ScrollerComponent"),s=e("smoothScrollTargetReached"),c=r("scrollerRef"),f=r("context"),{scrollerRef:d,scrollByCallback:m,scrollToCallback:h}=K(a,s,u,c);return t("scrollTo",h),t("scrollBy",m),o.createElement(u,{ref:d,style:{...tp,...n},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...tx(u,f)},i)})}function tI({usePublisher:e,useEmitter:t,useEmitterValue:r}){return o.memo(function({style:n,children:i,...l}){let a=e("windowScrollContainerState"),u=r("ScrollerComponent"),s=e("smoothScrollTargetReached"),c=r("totalListHeight"),d=r("deviation"),m=r("customScrollParent"),h=r("context"),{scrollerRef:g,scrollByCallback:v,scrollToCallback:p}=K(a,s,u,f,m);return M(()=>(g.current=m||window,()=>{g.current=null}),[g,m]),t("windowScrollTo",p),t("scrollBy",v),o.createElement(u,{style:{position:"relative",...n,...0!==c?{height:c+d}:{}},"data-virtuoso-scroller":!0,...l,...tx(u,h)},i)})}let tC=({children:e})=>{let t=o.useContext(tu),r=tD("viewportHeight"),n=tD("fixedItemHeight"),i=tO("alignToBottom"),a=X(l(r,e=>W(e,"height")));return o.useEffect(()=>{t&&(r(t.viewportHeight),n(t.itemHeight))},[t,r,n]),o.createElement("div",{style:tT(i),ref:a,"data-viewport-type":"element"},e)},tb=({children:e})=>{let t=o.useContext(tu),r=tD("windowViewportRect"),n=tD("fixedItemHeight"),i=ta(r,tO("customScrollParent")),l=tO("alignToBottom");return o.useEffect(()=>{t&&(n(t.itemHeight),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,r,n]),o.createElement("div",{ref:i,style:tT(l),"data-viewport-type":"window"},e)},ty=({children:e})=>{let t=tO("TopItemListComponent")||"div",r=tO("headerHeight"),n={...tE,marginTop:`${r}px`},i=tO("context");return o.createElement(t,{style:n,...tx(t,i)},e)},{Component:tL,usePublisher:tD,useEmitterValue:tO,useEmitter:tU}=H(td,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},o.memo(function(e){let t=tO("useWindowScroll"),r=tO("topItemsIndexes").length>0,n=tO("customScrollParent"),i=n||t?tB:tF,l=n||t?tb:tC;return o.createElement(i,{...e},r&&o.createElement(ty,null,o.createElement(tv,{showTopList:!0})),o.createElement(l,null,o.createElement(tR,null),o.createElement(tv,null),o.createElement(tA,null)))})),tF=tw({usePublisher:tD,useEmitterValue:tO,useEmitter:tU}),tB=tI({usePublisher:tD,useEmitterValue:tO,useEmitter:tU}),tN=tL,tz={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},tH={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:tM,ceil:tP,floor:tV,min:tk,max:t_}=Math;function tY(e,t,r){return Array.from({length:t-e+1}).map((t,n)=>{let o=null===r?null:r[n+e];return{index:n+e,data:o}})}function tX(e,t){return e&&e.column===t.column&&e.row===t.row}function tG(e,t){return e&&e.width===t.width&&e.height===t.height}let tW=B(([{overscan:e,visibleRange:t,listBoundary:r},{scrollTop:n,viewportHeight:o,scrollBy:i,scrollTo:l,smoothScrollTargetReached:a,scrollContainerState:u,footerHeight:s,headerHeight:c},f,d,{propsReady:m,didMount:S},{windowViewportRect:C,useWindowScroll:L,customScrollParent:O,windowScrollContainerState:B,windowScrollTo:N},z])=>{let H=p(0),M=p(0),P=p(tz),V=p({height:0,width:0}),k=p({height:0,width:0}),_=v(),Y=v(),X=p(0),G=p(null),W=p({row:0,column:0}),Q=v(),K=v(),q=p(!1),J=p(0),Z=p(!0),j=p(!1);x(S,D(J),A(([e,t])=>!!t))(1,()=>{Z(0,!1),M(0,0)}),x(F(S,Z,k,V,J,j),A(([e,t,r,n,,o])=>e&&!t&&0!==r.height&&0!==n.height&&!o))(1,([,,,,e])=>{j(0,!0),eU(1,()=>{_(0,e)}),g(x(n),()=>{r(0,[0,0]),Z(0,!0)})}),h(x(K,A(e=>null!=e&&e.scrollTop>0),I(0)),M),x(S,D(K),A(([,e])=>null!=e))(1,([,e])=>{e&&(V(0,e.viewport),k(0,null==e?void 0:e.item),W(0,e.gap),e.scrollTop>0&&(q(0,!0),g(x(n,b(1)),e=>{q(0,!1)}),l(0,{top:e.scrollTop})))}),h(x(V,w(({height:e})=>e)),o),h(x(F(U(V,tG),U(k,tG),U(W,(e,t)=>e&&e.column===t.column&&e.row===t.row),U(n)),w(([e,t,r,n])=>({viewport:e,item:t,gap:r,scrollTop:n}))),Q),h(x(F(U(H),t,U(W,tX),U(k,tG),U(V,tG),U(G),U(M),U(q),U(Z),U(J)),A(([,,,,,,,e])=>!e),w(([e,[t,r],n,o,i,l,a,,u,s])=>{let c,f;let{row:d,column:m}=n,{height:h,width:g}=o,{width:v}=i;if(0===a&&(0===e||0===v))return tz;if(0===g){var p;let t=eF(s,e),r=0===t?Math.max(a-1,0):t;return p=tY(t,r,l),{...tH,items:p}}let T=tq(v,g,m);u?0===t&&0===r&&a>0?(c=0,f=a-1):(c=T*tV((t+d)/(h+d)),f=tk(e-1,t_(f=T*tP((r+d)/(h+d))-1,T-1)),c=tk(f,t_(0,c))):(c=0,f=-1);let E=tY(c,f,l),{top:x,bottom:S}=tQ(i,n,o,E),R=tP(e/T);return{items:E,offsetTop:x,offsetBottom:R*h+(R-1)*d-S,top:x,bottom:S,itemHeight:h,itemWidth:g}})),P),h(x(G,A(e=>null!==e),w(e=>e.length)),H),h(x(F(V,k,P,W),A(([e,t,{items:r}])=>r.length>0&&0!==t.height&&0!==e.height),w(([e,t,{items:r},n])=>{let{top:o,bottom:i}=tQ(e,n,t,r);return[o,i]}),R(eV)),r);let ee=p(!1);h(x(n,D(ee),w(([e,t])=>t||0!==e)),ee);let et=T(x(U(P),A(({items:e})=>e.length>0),D(H,ee),A(([{items:e},t,r])=>r&&e[e.length-1].index===t-1),w(([,e])=>e-1),R())),er=T(x(U(P),A(({items:e})=>e.length>0&&0===e[0].index),I(0),R())),en=T(x(U(P),D(q),A(([{items:e},t])=>e.length>0&&!t),w(([{items:e}])=>({startIndex:e[0].index,endIndex:e[e.length-1].index})),R(ek),y(0)));h(en,d.scrollSeekRangeChanged),h(x(_,D(V,k,H,W),w(([e,t,r,n,o])=>{let i=eC(e),{align:l,behavior:a,offset:u}=i,s=i.index;"LAST"===s&&(s=n-1);let c=tK(t,o,r,s=t_(0,s,tk(n-1,s)));return"end"===l?c=tM(c-t.height+r.height):"center"===l&&(c=tM(c-t.height/2+r.height/2)),u&&(c+=u),{top:c,behavior:a}})),l);let eo=E(x(P,w(e=>e.offsetBottom+e.bottom)),0);return h(x(C,w(e=>({width:e.visibleWidth,height:e.visibleHeight}))),V),{data:G,totalCount:H,viewportDimensions:V,itemDimensions:k,scrollTop:n,scrollHeight:Y,overscan:e,scrollBy:i,scrollTo:l,scrollToIndex:_,smoothScrollTargetReached:a,windowViewportRect:C,windowScrollTo:N,useWindowScroll:L,customScrollParent:O,windowScrollContainerState:B,deviation:X,scrollContainerState:u,footerHeight:s,headerHeight:c,initialItemCount:M,gap:W,restoreStateFrom:K,...d,initialTopMostItemIndex:J,gridState:P,totalListHeight:eo,...f,startReached:er,endReached:et,rangeChanged:en,stateChanged:Q,propsReady:m,stateRestoreInProgress:q,...z}},u(eW,q,eD,e$,eO,e9,_));function tQ(e,t,r,n){let{height:o}=r;return void 0===o||0===n.length?{top:0,bottom:0}:{top:tK(e,t,r,n[0].index),bottom:tK(e,t,r,n[n.length-1].index)+o}}function tK(e,t,r,n){let o=tV(n/tq(e.width,r.width,t.column)),i=o*r.height+t_(0,o-1)*t.row;return i>0?i+t.row:i}function tq(e,t,r){return t_(1,tV((e+r)/(tV(t)+r)))}let tJ=B(()=>{let e=p(e=>`Item ${e}`),t=p({}),r=p(null),n=p("virtuoso-grid-item"),o=p("virtuoso-grid-list"),i=p(tc),l=p("div"),a=p(f),u=(e,r=null)=>E(x(t,w(t=>t[e]),R()),r);return{context:r,itemContent:e,components:t,computeItemKey:i,itemClassName:n,listClassName:o,headerFooterTag:l,scrollerRef:a,FooterComponent:u("Footer"),HeaderComponent:u("Header"),ListComponent:u("List","div"),ItemComponent:u("Item","div"),ScrollerComponent:u("Scroller","div"),ScrollSeekPlaceholder:u("ScrollSeekPlaceholder","div")}}),tZ=B(([e,t])=>({...e,...t}),u(tW,tJ)),tj=o.memo(function(){let e=t4("gridState"),t=t4("listClassName"),r=t4("itemClassName"),n=t4("itemContent"),i=t4("computeItemKey"),l=t4("isSeeking"),a=t5("scrollHeight"),u=t4("ItemComponent"),s=t4("ListComponent"),c=t4("ScrollSeekPlaceholder"),f=t4("context"),d=t5("itemDimensions"),m=t5("gap"),h=t4("log"),g=t4("stateRestoreInProgress"),v=X(e=>{a(e.parentElement.parentElement.scrollHeight);let t=e.firstChild;if(t){let{width:e,height:r}=t.getBoundingClientRect();d({width:e,height:r})}m({row:t8("row-gap",getComputedStyle(e).rowGap,h),column:t8("column-gap",getComputedStyle(e).columnGap,h)})});return g?null:o.createElement(s,{ref:v,className:t,...tx(s,f),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list"},e.items.map(t=>{let a=i(t.index,t.data,f);return l?o.createElement(c,{key:a,...tx(c,f),index:t.index,height:e.itemHeight,width:e.itemWidth}):o.createElement(u,{...tx(u,f),className:r,"data-index":t.index,key:a},n(t.index,t.data,f))}))}),t$=o.memo(function(){let e=t4("HeaderComponent"),t=t5("headerHeight"),r=t4("headerFooterTag"),n=X(e=>t(W(e,"height"))),i=t4("context");return e?o.createElement(r,{ref:n},o.createElement(e,tx(e,i))):null}),t0=o.memo(function(){let e=t4("FooterComponent"),t=t5("footerHeight"),r=t4("headerFooterTag"),n=X(e=>t(W(e,"height"))),i=t4("context");return e?o.createElement(r,{ref:n},o.createElement(e,tx(e,i))):null}),t1=({children:e})=>{let t=o.useContext(ts),r=t5("itemDimensions"),n=t5("viewportDimensions"),i=X(e=>{n(e.getBoundingClientRect())});return o.useEffect(()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),r({height:t.itemHeight,width:t.itemWidth}))},[t,n,r]),o.createElement("div",{style:tT(!1),ref:i},e)},t2=({children:e})=>{let t=o.useContext(ts),r=t5("windowViewportRect"),n=t5("itemDimensions"),i=ta(r,t4("customScrollParent"));return o.useEffect(()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,r,n]),o.createElement("div",{ref:i,style:tT(!1)},e)},{Component:t3,usePublisher:t5,useEmitterValue:t4,useEmitter:t6}=H(tZ,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},o.memo(function({...e}){let t=t4("useWindowScroll"),r=t4("customScrollParent"),n=r||t?t7:t9,i=r||t?t2:t1;return o.createElement(n,{...e},o.createElement(i,null,o.createElement(t$,null),o.createElement(tj,null),o.createElement(t0,null)))})),t9=tw({usePublisher:t5,useEmitterValue:t4,useEmitter:t6}),t7=tI({usePublisher:t5,useEmitterValue:t4,useEmitter:t6});function t8(e,t,r){return("normal"===t||(null==t?void 0:t.endsWith("px"))||r(`${e} was not resolved to pixel value correctly`,t,P.WARN),"normal"===t)?0:parseInt(null!=t?t:"0",10)}let re=B(()=>{let e=p(e=>o.createElement("td",null,"Item $",e)),t=p(null),r=p(null),n=p(null),i=p({}),l=p(tc),a=p(f),u=(e,t=null)=>E(x(i,w(t=>t[e]),R()),t);return{context:t,itemContent:e,fixedHeaderContent:r,fixedFooterContent:n,components:i,computeItemKey:l,scrollerRef:a,TableComponent:u("Table","table"),TableHeadComponent:u("TableHead","thead"),TableFooterComponent:u("TableFoot","tfoot"),TableBodyComponent:u("TableBody","tbody"),TableRowComponent:u("TableRow","tr"),ScrollerComponent:u("Scroller","div"),EmptyPlaceholder:u("EmptyPlaceholder"),ScrollSeekPlaceholder:u("ScrollSeekPlaceholder"),FillerRow:u("FillerRow")}}),rt=B(([e,t])=>({...e,...t}),u(tn,re)),rr=({height:e})=>o.createElement("tr",null,o.createElement("td",{style:{height:e}})),rn=({height:e})=>o.createElement("tr",null,o.createElement("td",{style:{height:e,padding:0,border:0}})),ro={overflowAnchor:"none"},ri=o.memo(function(){let e=rc("listState"),t=rs("sizeRanges"),r=rc("useWindowScroll"),n=rc("customScrollParent"),i=rs("windowScrollContainerState"),l=rs("scrollContainerState"),a=rc("itemContent"),u=rc("trackItemSizes"),{callbackRef:s,ref:c}=G(t,rc("itemSize"),u,n||r?i:l,rc("log"),void 0,n),[f,d]=o.useState(0);rf("deviation",e=>{f!==e&&(c.current.style.marginTop=`${e}px`,d(e))});let m=rc("EmptyPlaceholder"),h=rc("ScrollSeekPlaceholder")||rr,g=rc("FillerRow")||rn,v=rc("TableBodyComponent"),p=rc("TableRowComponent"),T=rc("computeItemKey"),E=rc("isSeeking"),x=rc("paddingTopAddition"),S=rc("firstItemIndex"),R=rc("statefulTotalCount"),A=rc("context");if(0===R&&m)return o.createElement(m,tx(m,A));let w=e.offsetTop+x+f,I=e.offsetBottom,C=w>0?o.createElement(g,{height:w,key:"padding-top",context:A}):null,b=I>0?o.createElement(g,{height:I,key:"padding-bottom",context:A}):null,y=e.items.map(e=>{let t=e.originalIndex,r=T(t+S,e.data,A);return E?o.createElement(h,{...tx(h,A),key:r,index:e.index,height:e.size,type:e.type||"item"}):o.createElement(p,{...tx(p,A),...tS(p,e.data),key:r,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:ro},a(e.index,e.data,A))});return o.createElement(v,{ref:s,"data-testid":"virtuoso-item-list",...tx(v,A)},[C,...y,b])}),rl=({children:e})=>{let t=o.useContext(tu),r=rs("viewportHeight"),n=rs("fixedItemHeight"),i=X(l(r,e=>W(e,"height")));return o.useEffect(()=>{t&&(r(t.viewportHeight),n(t.itemHeight))},[t,r,n]),o.createElement("div",{style:tT(!1),ref:i,"data-viewport-type":"element"},e)},ra=({children:e})=>{let t=o.useContext(tu),r=rs("windowViewportRect"),n=rs("fixedItemHeight"),i=ta(r,rc("customScrollParent"));return o.useEffect(()=>{t&&(n(t.itemHeight),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,r,n]),o.createElement("div",{ref:i,style:tT(!1),"data-viewport-type":"window"},e)},{Component:ru,usePublisher:rs,useEmitterValue:rc,useEmitter:rf}=H(rt,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},o.memo(function(e){let t=rc("useWindowScroll"),r=rc("customScrollParent"),n=rs("fixedHeaderHeight"),i=rs("fixedFooterHeight"),a=rc("fixedHeaderContent"),u=rc("fixedFooterContent"),s=rc("context"),c=X(l(n,e=>W(e,"height"))),f=X(l(i,e=>W(e,"height"))),d=r||t?rm:rd,m=r||t?ra:rl,h=rc("TableComponent"),g=rc("TableHeadComponent"),v=rc("TableFooterComponent"),p=a?o.createElement(g,{key:"TableHead",style:{zIndex:2,position:"sticky",top:0},ref:c,...tx(g,s)},a()):null,T=u?o.createElement(v,{key:"TableFoot",style:{zIndex:1,position:"sticky",bottom:0},ref:f,...tx(v,s)},u()):null;return o.createElement(d,{...e},o.createElement(m,null,o.createElement(h,{style:{borderSpacing:0,overflowAnchor:"none"},...tx(h,s)},[p,o.createElement(ri,{key:"TableBody"}),T])))})),rd=tw({usePublisher:rs,useEmitterValue:rc,useEmitter:rf}),rm=tI({usePublisher:rs,useEmitterValue:rc,useEmitter:rf})},29039:function(e,t,r){let n;r.d(t,{ZP:function(){return et}});var o=r(2265),i=r(10554);let l=()=>{},a=l(),u=Object,s=e=>e===a,c=e=>"function"==typeof e,f=(e,t)=>({...e,...t}),d=e=>c(e.then),m=new WeakMap,h=0,g=e=>{let t,r;let n=typeof e,o=e&&e.constructor,i=o==Date;if(u(e)!==e||i||o==RegExp)t=i?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=m.get(e))return t;if(t=++h+"~",m.set(e,t),o==Array){for(r=0,t="@";r<e.length;r++)t+=g(e[r])+",";m.set(e,t)}if(o==u){t="#";let n=u.keys(e).sort();for(;!s(r=n.pop());)s(e[r])||(t+=r+":"+g(e[r])+",");m.set(e,t)}}return t},v=new WeakMap,p={},T={},E="undefined",x=typeof window!=E,S=typeof document!=E,R=()=>x&&typeof window.requestAnimationFrame!=E,A=(e,t)=>{let r=v.get(e);return[()=>!s(t)&&e.get(t)||p,n=>{if(!s(t)){let o=e.get(t);t in T||(T[t]=o),r[5](t,f(o,n),o||p)}},r[6],()=>!s(t)&&t in T?T[t]:!s(t)&&e.get(t)||p]},w=!0,[I,C]=x&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[l,l],b={initFocus:e=>(S&&document.addEventListener("visibilitychange",e),I("focus",e),()=>{S&&document.removeEventListener("visibilitychange",e),C("focus",e)}),initReconnect:e=>{let t=()=>{w=!0,e()},r=()=>{w=!1};return I("online",t),I("offline",r),()=>{C("online",t),C("offline",r)}}},y=!o.useId,L=!x||"Deno"in window,D=e=>R()?window.requestAnimationFrame(e):setTimeout(e,1),O=L?o.useEffect:o.useLayoutEffect,U="undefined"!=typeof navigator&&navigator.connection,F=!L&&U&&(["slow-2g","2g"].includes(U.effectiveType)||U.saveData),B=e=>{if(c(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?g(e):"",t]},N=0,z=()=>++N;var H={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function M(...e){let[t,r,n,o]=e,i=f({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{}),l=i.populateCache,u=i.rollbackOnError,m=i.optimisticData,h=e=>"function"==typeof u?u(e):!1!==u,g=i.throwOnError;if(c(r)){let e=[];for(let n of t.keys())!/^\$(inf|sub)\$/.test(n)&&r(t.get(n)._k)&&e.push(n);return Promise.all(e.map(p))}return p(r);async function p(r){let o;let[u]=B(r);if(!u)return;let[f,p]=A(t,u),[T,E,x,S]=v.get(t),R=()=>{let e=T[u];return(c(i.revalidate)?i.revalidate(f().data,r):!1!==i.revalidate)&&(delete x[u],delete S[u],e&&e[0])?e[0](2).then(()=>f().data):f().data};if(e.length<3)return R();let w=n,I=z();E[u]=[I,0];let C=!s(m),b=f(),y=b.data,L=b._c,D=s(L)?y:L;if(C&&p({data:m=c(m)?m(D,y):m,_c:D}),c(w))try{w=w(D)}catch(e){o=e}if(w&&d(w)){if(w=await w.catch(e=>{o=e}),I!==E[u][0]){if(o)throw o;return w}o&&C&&h(o)&&(l=!0,p({data:D,_c:a}))}if(l&&!o&&(c(l)?p({data:l(w,D),error:a,_c:a}):p({data:w,error:a,_c:a})),E[u][1]=z(),Promise.resolve(R()).then(()=>{p({_c:a})}),o){if(g)throw o;return}return w}}let P=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},V=(e,t)=>{if(!v.has(e)){let r=f(b,t),n={},o=M.bind(a,e),i=l,u={},s=(e,t)=>{let r=u[e]||[];return u[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},c=(t,r,n)=>{e.set(t,r);let o=u[t];if(o)for(let e of o)e(r,n)},d=()=>{if(!v.has(e)&&(v.set(e,[n,{},{},{},o,c,s]),!L)){let t=r.initFocus(setTimeout.bind(a,P.bind(a,n,0))),o=r.initReconnect(setTimeout.bind(a,P.bind(a,n,1)));i=()=>{t&&t(),o&&o(),v.delete(e)}}};return d(),[e,o,d,i]}return[e,v.get(e)[4]]},[k,_]=V(new Map),Y=f({onLoadingSlow:l,onSuccess:l,onError:l,onErrorRetry:(e,t,r,n,o)=>{let i=r.errorRetryCount,l=o.retryCount,a=~~((Math.random()+.5)*(1<<(l<8?l:8)))*r.errorRetryInterval;(s(i)||!(l>i))&&setTimeout(n,a,o)},onDiscarded:l,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:F?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:F?5e3:3e3,compare:(e,t)=>g(e)==g(t),isPaused:()=>!1,cache:k,mutate:_,fallback:{}},{isOnline:()=>w,isVisible:()=>{let e=S&&document.visibilityState;return s(e)||"hidden"!==e}}),X=(e,t)=>{let r=f(e,t);if(t){let{use:n,fallback:o}=e,{use:i,fallback:l}=t;n&&i&&(r.use=n.concat(i)),o&&l&&(r.fallback=f(o,l))}return r},G=(0,o.createContext)({}),W=x&&window.__SWR_DEVTOOLS_USE__,Q=W?window.__SWR_DEVTOOLS_USE__:[],K=e=>c(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],q=()=>f(Y,(0,o.useContext)(G)),J=Q.concat(e=>(t,r,n)=>{let o=r&&((...e)=>{let[n]=B(t),[,,,o]=v.get(k);if(n.startsWith("$inf$"))return r(...e);let i=o[n];return s(i)?r(...e):(delete o[n],i)});return e(t,o,n)}),Z=(e,t,r)=>{let n=t[e]||(t[e]=[]);return n.push(r),()=>{let e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}};W&&(window.__SWR_DEVTOOLS_REACT__=o);let j=o.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),ee={dedupe:!0};u.defineProperty(e=>{let{value:t}=e,r=(0,o.useContext)(G),n=c(t),i=(0,o.useMemo)(()=>n?t(r):t,[n,r,t]),l=(0,o.useMemo)(()=>n?i:X(r,i),[n,r,i]),u=i&&i.provider,s=(0,o.useRef)(a);u&&!s.current&&(s.current=V(u(l.cache||k),i));let d=s.current;return d&&(l.cache=d[0],l.mutate=d[1]),O(()=>{if(d)return d[2]&&d[2](),d[3]},[]),(0,o.createElement)(G.Provider,f(e,{value:l}))},"defaultValue",{value:Y});let et=(n=(e,t,r)=>{let{cache:n,compare:l,suspense:u,fallbackData:d,revalidateOnMount:m,revalidateIfStale:h,refreshInterval:g,refreshWhenHidden:p,refreshWhenOffline:T,keepPreviousData:E}=r,[x,S,R,w]=v.get(n),[I,C]=B(e),b=(0,o.useRef)(!1),U=(0,o.useRef)(!1),F=(0,o.useRef)(I),N=(0,o.useRef)(t),P=(0,o.useRef)(r),V=()=>P.current,k=()=>V().isVisible()&&V().isOnline(),[_,Y,X,G]=A(n,I),W=(0,o.useRef)({}).current,Q=s(d)?r.fallback[I]:d,K=(e,t)=>{for(let r in W)if("data"===r){if(!l(e[r],t[r])&&(!s(e[r])||!l(ea,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},q=(0,o.useMemo)(()=>{let e=!!I&&!!t&&(s(m)?!V().isPaused()&&!u&&(!!s(h)||h):m),r=t=>{let r=f(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=_(),o=G(),i=r(n),l=n===o?i:r(o),a=i;return[()=>{let e=r(_());return K(e,a)?(a.data=e.data,a.isLoading=e.isLoading,a.isValidating=e.isValidating,a.error=e.error,a):(a=e,e)},()=>l]},[n,I]),J=(0,i.useSyncExternalStore)((0,o.useCallback)(e=>X(I,(t,r)=>{K(r,t)||e()}),[n,I]),q[0],q[1]),et=!b.current,er=x[I]&&x[I].length>0,en=J.data,eo=s(en)?Q:en,ei=J.error,el=(0,o.useRef)(eo),ea=E?s(en)?el.current:en:eo,eu=(!er||!!s(ei))&&(et&&!s(m)?m:!V().isPaused()&&(u?!s(eo)&&h:s(eo)||h)),es=!!(I&&t&&et&&eu),ec=s(J.isValidating)?es:J.isValidating,ef=s(J.isLoading)?es:J.isLoading,ed=(0,o.useCallback)(async e=>{let t,n;let o=N.current;if(!I||!o||U.current||V().isPaused())return!1;let i=!0,u=e||{},f=!R[I]||!u.dedupe,d=()=>y?!U.current&&I===F.current&&b.current:I===F.current,m={isValidating:!1,isLoading:!1},h=()=>{Y(m)},g=()=>{let e=R[I];e&&e[1]===n&&delete R[I]},v={isValidating:!0};s(_().data)&&(v.isLoading=!0);try{if(f&&(Y(v),r.loadingTimeout&&s(_().data)&&setTimeout(()=>{i&&d()&&V().onLoadingSlow(I,r)},r.loadingTimeout),R[I]=[o(C),z()]),[t,n]=R[I],t=await t,f&&setTimeout(g,r.dedupingInterval),!R[I]||R[I][1]!==n)return f&&d()&&V().onDiscarded(I),!1;m.error=a;let e=S[I];if(!s(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return h(),f&&d()&&V().onDiscarded(I),!1;let u=_().data;m.data=l(u,t)?u:t,f&&d()&&V().onSuccess(t,I,r)}catch(r){g();let e=V(),{shouldRetryOnError:t}=e;!e.isPaused()&&(m.error=r,f&&d()&&(e.onError(r,I,e),(!0===t||c(t)&&t(r))&&(!V().revalidateOnFocus||!V().revalidateOnReconnect||k())&&e.onErrorRetry(r,I,e,e=>{let t=x[I];t&&t[0]&&t[0](H.ERROR_REVALIDATE_EVENT,e)},{retryCount:(u.retryCount||0)+1,dedupe:!0})))}return i=!1,h(),!0},[I,n]),em=(0,o.useCallback)((...e)=>M(n,F.current,...e),[]);if(O(()=>{N.current=t,P.current=r,s(en)||(el.current=en)}),O(()=>{if(!I)return;let e=ed.bind(a,ee),t=0,r=Z(I,x,(r,n={})=>{if(r==H.FOCUS_EVENT){let r=Date.now();V().revalidateOnFocus&&r>t&&k()&&(t=r+V().focusThrottleInterval,e())}else if(r==H.RECONNECT_EVENT)V().revalidateOnReconnect&&k()&&e();else if(r==H.MUTATE_EVENT)return ed();else if(r==H.ERROR_REVALIDATE_EVENT)return ed(n)});return U.current=!1,F.current=I,b.current=!0,Y({_k:C}),eu&&(s(eo)||L?e():D(e)),()=>{U.current=!0,r()}},[I]),O(()=>{let e;function t(){let t=c(g)?g(_().data):g;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!_().error&&(p||V().isVisible())&&(T||V().isOnline())?ed(ee).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[g,p,T,I]),(0,o.useDebugValue)(ea),u&&s(eo)&&I){if(!y&&L)throw Error("Fallback data is required when using suspense in SSR.");N.current=t,P.current=r,U.current=!1;let e=w[I];if(s(e)||j(em(e)),s(ei)){let e=ed(ee);s(ea)||(e.status="fulfilled",e.value=!0),j(e)}else throw ei}return{mutate:em,get data(){return W.data=!0,ea},get error(){return W.error=!0,ei},get isValidating(){return W.isValidating=!0,ec},get isLoading(){return W.isLoading=!0,ef}}},function(...e){let t=q(),[r,o,i]=K(e),l=X(t,i),a=n,{use:u}=l,s=(u||[]).concat(J);for(let e=s.length;e--;)a=s[e](a);return a(r,o||l.fetcher||null,l)})},73371:function(e,t,r){r.d(t,{Z:function(){return s}});var n={SIM_RESOLUTION:128,DYE_RESOLUTION:1024,CAPTURE_RESOLUTION:512,DENSITY_DISSIPATION:1,VELOCITY_DISSIPATION:.2,PRESSURE:.8,PRESSURE_ITERATIONS:20,CURL:30,INITIAL:!0,SPLAT_AMOUNT:5,SPLAT_RADIUS:.25,SPLAT_FORCE:6e3,SPLAT_KEY:"Space",SHADING:!0,COLORFUL:!0,COLOR_UPDATE_SPEED:10,COLOR_PALETTE:[],HOVER:!0,BACK_COLOR:"#000000",TRANSPARENT:!1,BRIGHTNESS:.5,BLOOM:!0,BLOOM_ITERATIONS:8,BLOOM_RESOLUTION:256,BLOOM_INTENSITY:.8,BLOOM_THRESHOLD:.6,BLOOM_SOFT_KNEE:.7,SUNRAYS:!0,SUNRAYS_RESOLUTION:196,SUNRAYS_WEIGHT:1},o=[],i=[],l=!1,a=!1,u=!1,s={splats(){o.push(Math.random()*n.SPLAT_AMOUNT*4+n.SPLAT_AMOUNT)},splat(e,t,r,n,o){i.push([e,t,r,n,o])},screenshot(){u=!0},pause(e=!1){l=!l,a=!!e},config(e){Object.assign(n,e)},simulation(e,t={}){let r,s,c,f;function d(){this.id=-1,this.texcoordX=0,this.texcoordY=0,this.prevTexcoordX=0,this.prevTexcoordY=0,this.deltaX=0,this.deltaY=0,this.down=!1,this.moved=!1,this.color=[30,0,300]}Object.assign(n,t),eI();let m=[],h=[];m.push(new d);let{gl:g,ext:v}=function(e){let t,r,n,o,i;let l={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1},a=e.getContext("webgl2",l),u=!!a;u||(a=e.getContext("webgl",l)||e.getContext("experimental-webgl",l)),u?(a.getExtension("EXT_color_buffer_float"),r=a.getExtension("OES_texture_float_linear")):(t=a.getExtension("OES_texture_half_float"),r=a.getExtension("OES_texture_half_float_linear")),a.clearColor(0,0,0,1);let s=u?a.HALF_FLOAT:t.HALF_FLOAT_OES;return u?(n=p(a,a.RGBA16F,a.RGBA,s),o=p(a,a.RG16F,a.RG,s),i=p(a,a.R16F,a.RED,s)):(n=p(a,a.RGBA,a.RGBA,s),o=p(a,a.RGBA,a.RGBA,s),i=p(a,a.RGBA,a.RGBA,s)),{gl:a,ext:{formatRGBA:n,formatRG:o,formatR:i,halfFloatTexType:s,supportLinearFiltering:r}}}(e);function p(e,t,r,n){let o,i;if(o=e.createTexture(),e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,t,4,4,0,r,n,null),i=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.checkFramebufferStatus(e.FRAMEBUFFER)!=e.FRAMEBUFFER_COMPLETE)switch(t){case e.R16F:return p(e,e.RG16F,e.RG,n);case e.RG16F:return p(e,e.RGBA16F,e.RGBA,n);default:return null}return{internalFormat:t,format:r}}function T(e){return Math.min(Math.max(e,0),1)}v.supportLinearFiltering||(n.DYE_RESOLUTION=512,n.SHADING=!1,n.BLOOM=!1,n.SUNRAYS=!1);class E{constructor(e,t){this.vertexShader=e,this.fragmentShaderSource=t,this.programs=[],this.activeProgram=null,this.uniforms=[]}setKeywords(e){let t=0;for(let r=0;r<e.length;r++)t+=function(e){if(0==e.length)return 0;let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return t}(e[r]);let r=this.programs[t];if(null==r){let n=A(g.FRAGMENT_SHADER,this.fragmentShaderSource,e);r=S(this.vertexShader,n),this.programs[t]=r}r!=this.activeProgram&&(this.uniforms=R(r),this.activeProgram=r)}bind(){g.useProgram(this.activeProgram)}}class x{constructor(e,t){this.uniforms={},this.program=S(e,t),this.uniforms=R(this.program)}bind(){g.useProgram(this.program)}}function S(e,t){let r=g.createProgram();return g.attachShader(r,e),g.attachShader(r,t),g.linkProgram(r),g.getProgramParameter(r,g.LINK_STATUS)||console.trace(g.getProgramInfoLog(r)),r}function R(e){let t=[],r=g.getProgramParameter(e,g.ACTIVE_UNIFORMS);for(let n=0;n<r;n++){let r=g.getActiveUniform(e,n).name;t[r]=g.getUniformLocation(e,r)}return t}function A(e,t,r){t=function(e,t){if(null==t)return e;let r="";return t.forEach(e=>{r+="#define "+e+"\n"}),r+e}(t,r);let n=g.createShader(e);return g.shaderSource(n,t),g.compileShader(n),g.getShaderParameter(n,g.COMPILE_STATUS)||console.trace(g.getShaderInfoLog(n)),n}let w=A(g.VERTEX_SHADER,`
    precision highp float;

    attribute vec2 aPosition;
    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform vec2 texelSize;

    void main () {
        vUv = aPosition * 0.5 + 0.5;
        vL = vUv - vec2(texelSize.x, 0.0);
        vR = vUv + vec2(texelSize.x, 0.0);
        vT = vUv + vec2(0.0, texelSize.y);
        vB = vUv - vec2(0.0, texelSize.y);
        gl_Position = vec4(aPosition, 0.0, 1.0);
    }
`),I=A(g.VERTEX_SHADER,`
    precision highp float;

    attribute vec2 aPosition;
    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    uniform vec2 texelSize;

    void main () {
        vUv = aPosition * 0.5 + 0.5;
        float offset = 1.33333333;
        vL = vUv - texelSize * offset;
        vR = vUv + texelSize * offset;
        gl_Position = vec4(aPosition, 0.0, 1.0);
    }
`),C=A(g.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    uniform sampler2D uTexture;

    void main () {
        vec4 sum = texture2D(uTexture, vUv) * 0.29411764;
        sum += texture2D(uTexture, vL) * 0.35294117;
        sum += texture2D(uTexture, vR) * 0.35294117;
        gl_FragColor = sum;
    }
`),b=A(g.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    uniform sampler2D uTexture;

    void main () {
        gl_FragColor = texture2D(uTexture, vUv);
    }
`),y=A(g.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    uniform sampler2D uTexture;
    uniform float value;

    void main () {
        gl_FragColor = value * texture2D(uTexture, vUv);
    }
`),L=A(g.FRAGMENT_SHADER,`
    precision mediump float;

    uniform vec4 color;

    void main () {
        gl_FragColor = color;
    }
`),D=A(g.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform float aspectRatio;

    #define SCALE 25.0

    void main () {
        vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));
        float v = mod(uv.x + uv.y, 2.0);
        v = v * 0.1 + 0.8;
        gl_FragColor = vec4(vec3(v), 1.0);
    }
`),O=`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uTexture;
    uniform sampler2D uBloom;
    uniform sampler2D uSunrays;
    uniform sampler2D uDithering;
    uniform vec2 ditherScale;
    uniform vec2 texelSize;

    vec3 linearToGamma (vec3 color) {
        color = max(color, vec3(0));
        return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));
    }

    void main () {
        vec3 c = texture2D(uTexture, vUv).rgb;

    #ifdef SHADING
        vec3 lc = texture2D(uTexture, vL).rgb;
        vec3 rc = texture2D(uTexture, vR).rgb;
        vec3 tc = texture2D(uTexture, vT).rgb;
        vec3 bc = texture2D(uTexture, vB).rgb;

        float dx = length(rc) - length(lc);
        float dy = length(tc) - length(bc);

        vec3 n = normalize(vec3(dx, dy, length(texelSize)));
        vec3 l = vec3(0.0, 0.0, 1.0);

        float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);
        c *= diffuse;
    #endif

    #ifdef BLOOM
        vec3 bloom = texture2D(uBloom, vUv).rgb;
    #endif

    #ifdef SUNRAYS
        float sunrays = texture2D(uSunrays, vUv).r;
        c *= sunrays;
    #ifdef BLOOM
        bloom *= sunrays;
    #endif
    #endif

    #ifdef BLOOM
        float noise = texture2D(uDithering, vUv * ditherScale).r;
        noise = noise * 2.0 - 1.0;
        bloom += noise / 255.0;
        bloom = linearToGamma(bloom);
        c += bloom;
    #endif

        float a = max(c.r, max(c.g, c.b));
        gl_FragColor = vec4(c, a);
    }
`,U=A(g.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform vec3 curve;
    uniform float threshold;

    void main () {
        vec3 c = texture2D(uTexture, vUv).rgb;
        float br = max(c.r, max(c.g, c.b));
        float rq = clamp(br - curve.x, 0.0, curve.y);
        rq = curve.z * rq * rq;
        c *= max(rq, br - threshold) / max(br, 0.0001);
        gl_FragColor = vec4(c, 0.0);
    }
`),F=A(g.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uTexture;

    void main () {
        vec4 sum = vec4(0.0);
        sum += texture2D(uTexture, vL);
        sum += texture2D(uTexture, vR);
        sum += texture2D(uTexture, vT);
        sum += texture2D(uTexture, vB);
        sum *= 0.25;
        gl_FragColor = sum;
    }
`),B=A(g.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uTexture;
    uniform float intensity;

    void main () {
        vec4 sum = vec4(0.0);
        sum += texture2D(uTexture, vL);
        sum += texture2D(uTexture, vR);
        sum += texture2D(uTexture, vT);
        sum += texture2D(uTexture, vB);
        sum *= 0.25;
        gl_FragColor = sum * intensity;
    }
`),N=A(g.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;

    void main () {
        vec4 c = texture2D(uTexture, vUv);
        float br = max(c.r, max(c.g, c.b));
        c.a = 1.0 - min(max(br * 20.0, 0.0), 0.8);
        gl_FragColor = c;
    }
`),z=A(g.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform float weight;

    #define ITERATIONS 16

    void main () {
        float Density = 0.3;
        float Decay = 0.95;
        float Exposure = 0.7;

        vec2 coord = vUv;
        vec2 dir = vUv - 0.5;

        dir *= 1.0 / float(ITERATIONS) * Density;
        float illuminationDecay = 1.0;

        float color = texture2D(uTexture, vUv).a;

        for (int i = 0; i < ITERATIONS; i++)
        {
            coord -= dir;
            float col = texture2D(uTexture, coord).a;
            color += col * illuminationDecay * weight;
            illuminationDecay *= Decay;
        }

        gl_FragColor = vec4(color * Exposure, 0.0, 0.0, 1.0);
    }
`),H=A(g.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTarget;
    uniform float aspectRatio;
    uniform vec3 color;
    uniform vec2 point;
    uniform float radius;

    void main () {
        vec2 p = vUv - point.xy;
        p.x *= aspectRatio;
        vec3 splat = exp(-dot(p, p) / radius) * color;
        vec3 base = texture2D(uTarget, vUv).xyz;
        gl_FragColor = vec4(base + splat, 1.0);
    }
`),M=A(g.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uVelocity;
    uniform sampler2D uSource;
    uniform vec2 texelSize;
    uniform vec2 dyeTexelSize;
    uniform float dt;
    uniform float dissipation;

    vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {
        vec2 st = uv / tsize - 0.5;

        vec2 iuv = floor(st);
        vec2 fuv = fract(st);

        vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);
        vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);
        vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);
        vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);

        return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);
    }

    void main () {
    #ifdef MANUAL_FILTERING
        vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;
        vec4 result = bilerp(uSource, coord, dyeTexelSize);
    #else
        vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;
        vec4 result = texture2D(uSource, coord);
    #endif
        float decay = 1.0 + dissipation * dt;
        gl_FragColor = result / decay;
    }`,v.supportLinearFiltering?null:["MANUAL_FILTERING"]),P=A(g.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uVelocity;

    void main () {
        float L = texture2D(uVelocity, vL).x;
        float R = texture2D(uVelocity, vR).x;
        float T = texture2D(uVelocity, vT).y;
        float B = texture2D(uVelocity, vB).y;

        vec2 C = texture2D(uVelocity, vUv).xy;
        if (vL.x < 0.0) { L = -C.x; }
        if (vR.x > 1.0) { R = -C.x; }
        if (vT.y > 1.0) { T = -C.y; }
        if (vB.y < 0.0) { B = -C.y; }

        float div = 0.5 * (R - L + T - B);
        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);
    }
`),V=A(g.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uVelocity;

    void main () {
        float L = texture2D(uVelocity, vL).y;
        float R = texture2D(uVelocity, vR).y;
        float T = texture2D(uVelocity, vT).x;
        float B = texture2D(uVelocity, vB).x;
        float vorticity = R - L - T + B;
        gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);
    }
`),k=A(g.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uVelocity;
    uniform sampler2D uCurl;
    uniform float curl;
    uniform float dt;

    void main () {
        float L = texture2D(uCurl, vL).x;
        float R = texture2D(uCurl, vR).x;
        float T = texture2D(uCurl, vT).x;
        float B = texture2D(uCurl, vB).x;
        float C = texture2D(uCurl, vUv).x;

        vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));
        force /= length(force) + 0.0001;
        force *= curl * C;
        force.y *= -1.0;

        vec2 velocity = texture2D(uVelocity, vUv).xy;
        velocity += force * dt;
        velocity = min(max(velocity, -1000.0), 1000.0);
        gl_FragColor = vec4(velocity, 0.0, 1.0);
    }
`),_=A(g.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uPressure;
    uniform sampler2D uDivergence;

    void main () {
        float L = texture2D(uPressure, vL).x;
        float R = texture2D(uPressure, vR).x;
        float T = texture2D(uPressure, vT).x;
        float B = texture2D(uPressure, vB).x;
        float C = texture2D(uPressure, vUv).x;
        float divergence = texture2D(uDivergence, vUv).x;
        float pressure = (L + R + B + T - divergence) * 0.25;
        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);
    }
`),Y=A(g.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uPressure;
    uniform sampler2D uVelocity;

    void main () {
        float L = texture2D(uPressure, vL).x;
        float R = texture2D(uPressure, vR).x;
        float T = texture2D(uPressure, vT).x;
        float B = texture2D(uPressure, vB).x;
        vec2 velocity = texture2D(uVelocity, vUv).xy;
        velocity.xy -= vec2(R - L, T - B);
        gl_FragColor = vec4(velocity, 0.0, 1.0);
    }
`),X=(g.bindBuffer(g.ARRAY_BUFFER,g.createBuffer()),g.bufferData(g.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),g.STATIC_DRAW),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,g.createBuffer()),g.bufferData(g.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),g.STATIC_DRAW),g.vertexAttribPointer(0,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(0),(e,t=!1)=>{null==e?(g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),g.bindFramebuffer(g.FRAMEBUFFER,null)):(g.viewport(0,0,e.width,e.height),g.bindFramebuffer(g.FRAMEBUFFER,e.fbo)),t&&(g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT)),g.drawElements(g.TRIANGLES,6,g.UNSIGNED_SHORT,0)}),G,W,Q,K,q,J,Z,j,ee=(s=g.createTexture(),g.bindTexture(g.TEXTURE_2D,s),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT),g.texImage2D(g.TEXTURE_2D,0,g.RGB,1,1,0,g.RGB,g.UNSIGNED_BYTE,new Uint8Array([255,255,255])),c={texture:s,width:1,height:1,attach:e=>(g.activeTexture(g.TEXTURE0+e),g.bindTexture(g.TEXTURE_2D,s),e)},(f=new Image).onload=()=>{c.width=f.width,c.height=f.height,g.bindTexture(g.TEXTURE_2D,s),g.texImage2D(g.TEXTURE_2D,0,g.RGB,g.RGB,g.UNSIGNED_BYTE,f)},f.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAABGUUKwAAAeK0lEQVR4AT3aBbRuVdUG4HW5hNLdSHd3CyjdEtLd3Y1wKZHuLgFJRenuBqW7u7tTlu8zx//9ZwwG8J397b3WnG/NtU9bYokl+nfffdf//e9/96uuuqrPN998/ZRTTukbb7xxP/zww/u+++7bf/vb3/YddtihP/roo32SSSbpL7zwQj/99NP7Vltt1X/88ce+8sor13Vvv/12Hzp0aF999dX7Bx980P/617/2WWedtX/55Zd9++237zPMMEP/05/+1DfYYIP+0EMP9amnnrq/9957/ZZbbum//PJLf+yxx/pJJ53URxtttL7WWmv1P//5z/3bb7/t9913X63t9ddf7wsvvHBff/31+6GHHtovu+yyPuecc/YbbrihH3300fXshRZaqF900UW1zv/85z991FFHrfXce++9ffjhh+/nnXdeXe8e7tsuv/zy+vKEE07YDzzwwNpoz4/FPfnkk32VVVbpd911V7/66qv7Mccc0y+99NI+yiij9KWWWqoffPDB/frrr6+HWfjss8/e77jjju6ev/vd72ojNrfiiiv21lo98Pzzz6/fnXjiif0f//hH33rrrWujFr7JJpvU/d5///1+wQUX9N12261PNdVUfbnlluvDDTdc//TTT+vzW2+9tY844oj9q6++6i+++GKffPLJaz3W+fXXX1fx3N/6vv/++3rOG2+8Uc/66KOP+njjjVff22OPPXr7+OOPq4oqftZZZ3VdtLkxxhijX3zxxd0XFGeOOebof/zjH/tee+1VC7nnnnv6uuuuWwt55ZVXqurbbLNNH3fccdWv77333t0innrqqX7QQQf1tddeu3uWh88zzzz9m2++6WONNVZt7txzz61njDTSSP2AAw7oM888c1988cX77bffXgvdaKON+rBhw/oEE0xQKJltttn6Lrvs0k844YS+5ppr9i233LK/8847tTYo23bbbfurr75ahYYQaFUk9/Zd31twwQX7yCOP3JuO6cIzzzxTEJppppmqUzrrc50dMmRIf+211/rPP//cF1lkkeqKToK3ii+66KL98ccf74cddlhfZ511+gMPPNCnnXbavsACC9RGJ5tssv7Pf/6zFrLrrrvWxp5++ulC3DXXXFMFff7557uigjy6TTzxxP3zzz8vNM0999zVHDT6wx/+0H/44Yc+6aST1vXW869//aufccYZfZxxxql1oLIGQp/naQLaLbvssoVkdF9ttdUKTUPcaJZZZmnbbbddW2yxxVoW2rKolg0oTgtn0KTluvbggw+2VVddtWXxLbxvJ598cptuuulaqt/CxxZet2hHW2ONNdr444/fbrrpppYCtUCxhUr1WXShpRMtm2tZaJtxxhlbEFf3iP60LLq+Hzq18Lxlg/X9l156qT3yyCP17JtvvrmFw23eeedtvhO0tf3337+eEU1pKVRbYYUV2hZbbNGuu+46KG/Rl5ZN138HPW333Xdv1tJwRJfxjcDoIjHSAb9bb731+u9///uC0MMPP1y8JnogN+aYY5aYqSYhAm1dG3vssTtagPRRRx3VL7zwwu67BImwTTHFFP1vf/tbJ2r3339/T+H7lFNO+f/d9nkWXx3NQquDUObaaaaZpr/55pt9n332qa6iVZrQ05zSEDq133771f1Qw/OJIo2xt3POOafEkMin+L2BK9VNhfumm25am3rrrbf68ccf36effvp+2223lYh88sknxbtUvT7DJ4W54oor+tlnn103tWgLALt0qzaGYoR0zz337F988UUPKop/xx13XBXYIs8888wqqE0RS4JrU6eeempPt8shUIuKe4Zn0g+/41o777xzv+SSS+q7zz33XLmaooK6vaA1rXj55ZeLvhpMY9wHpDuOuRne/v3vfy9h2nHHHTue//rXv64v4h6r0TkbmWiiiTpx+u9//1uL9eC77767ukjEPJDlsUnCR5zYKx7TC87gc0oNGRBEYzbccMNyH88gnksuuSSKVhe5FEvlNoQN8o499tjSp2WWWaZ0gaYQa41TQAJ+5ZVXlk3TtBtvvLGa9Nlnn5VQN/bA71XYZiyanbAYAsOaQMoiRhhhhE683Cj873PNNVc93Pep/vLLL19dJXooQt0hhig9++yz5QTuwUp15c477ywnIcC+S4/cCxVlCcW3Ps2QP6i3Qi+99NKFsJ9++qlHa6rwHMyawZzS/+pXvypas1CiOfroo1c2WWmllaqAHAXyhqZDw6LmJWpZeEsh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",c),et=new x(I,C),er=new x(w,b),en=new x(w,y),eo=new x(w,L),ei=new x(w,D),el=new x(w,U),ea=new x(w,F),eu=new x(w,B),es=new x(w,N),ec=new x(w,z),ef=new x(w,H),ed=new x(w,M),em=new x(w,P),eh=new x(w,V),eg=new x(w,k),ev=new x(w,_),ep=new x(w,Y),eT=new E(w,O);function eE(){let e=eB(n.SIM_RESOLUTION),t=eB(n.DYE_RESOLUTION),{halfFloatTexType:r,formatRGBA:o,formatRG:i,formatR:l}=v,a=v.supportLinearFiltering?g.LINEAR:g.NEAREST;g.disable(g.BLEND),G=null==G?eS(t.width,t.height,o.internalFormat,o.format,r,a):eR(G,t.width,t.height,o.internalFormat,o.format,r,a),W=null==W?eS(e.width,e.height,i.internalFormat,i.format,r,a):eR(W,e.width,e.height,i.internalFormat,i.format,r,a),Q=ex(e.width,e.height,l.internalFormat,l.format,r,g.NEAREST),K=ex(e.width,e.height,l.internalFormat,l.format,r,g.NEAREST),q=eS(e.width,e.height,l.internalFormat,l.format,r,g.NEAREST),function(){let e=eB(n.BLOOM_RESOLUTION),{halfFloatTexType:t,formatRGBA:r}=v,o=v.supportLinearFiltering?g.LINEAR:g.NEAREST;J=ex(e.width,e.height,r.internalFormat,r.format,t,o),h.length=0;for(let i=0;i<n.BLOOM_ITERATIONS;i++){let n=e.width>>i+1,l=e.height>>i+1;if(n<2||l<2)break;let a=ex(n,l,r.internalFormat,r.format,t,o);h.push(a)}}(),function(){let e=eB(n.SUNRAYS_RESOLUTION),{halfFloatTexType:t,formatR:r}=v,o=v.supportLinearFiltering?g.LINEAR:g.NEAREST;Z=ex(e.width,e.height,r.internalFormat,r.format,t,o),j=ex(e.width,e.height,r.internalFormat,r.format,t,o)}()}function ex(e,t,r,n,o,i){g.activeTexture(g.TEXTURE0);let l=g.createTexture();g.bindTexture(g.TEXTURE_2D,l),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,i),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,i),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),g.texImage2D(g.TEXTURE_2D,0,r,e,t,0,n,o,null);let a=g.createFramebuffer();g.bindFramebuffer(g.FRAMEBUFFER,a),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,l,0),g.viewport(0,0,e,t),g.clear(g.COLOR_BUFFER_BIT);let u=1/e,s=1/t;return{texture:l,fbo:a,width:e,height:t,texelSizeX:u,texelSizeY:s,attach:e=>(g.activeTexture(g.TEXTURE0+e),g.bindTexture(g.TEXTURE_2D,l),e)}}function eS(e,t,r,n,o,i){let l=ex(e,t,r,n,o,i),a=ex(e,t,r,n,o,i);return{width:e,height:t,texelSizeX:l.texelSizeX,texelSizeY:l.texelSizeY,get read(){return l},set read($){l=$},get write(){return a},set write($){a=$},swap(){let e=l;l=a,a=e}}}function eR(e,t,r,n,o,i,l){var a;let u;return e.width==t&&e.height==r||(e.read=(a=e.read,u=ex(t,r,n,o,i,l),er.bind(),g.uniform1i(er.uniforms.uTexture,a.attach(0)),X(u),u),e.write=ex(t,r,n,o,i,l),e.width=t,e.height=r,e.texelSizeX=1/t,e.texelSizeY=1/r),e}r=[],n.SHADING&&r.push("SHADING"),n.BLOOM&&r.push("BLOOM"),n.SUNRAYS&&r.push("SUNRAYS"),eT.setKeywords(r),eE(),n.INITIAL&&eb(parseInt(Math.random()*n.SPLAT_AMOUNT*4+n.SPLAT_AMOUNT));let eA=Date.now(),ew=0;function eI(){let t=eN(e.clientWidth),r=eN(e.clientHeight);return(e.width!=t||e.height!=r)&&(e.width=t,e.height=r,!0)}function eC(t){var r,o,i,l,a,u;n.BLOOM&&function(e,t){if(h.length<2)return;let r=t;g.disable(g.BLEND),el.bind();let o=n.BLOOM_THRESHOLD*n.BLOOM_SOFT_KNEE+1e-4,i=n.BLOOM_THRESHOLD-o;g.uniform3f(el.uniforms.curve,i,2*o,.25/o),g.uniform1f(el.uniforms.threshold,n.BLOOM_THRESHOLD),g.uniform1i(el.uniforms.uTexture,e.attach(0)),X(r),ea.bind();for(let e=0;e<h.length;e++){let t=h[e];g.uniform2f(ea.uniforms.texelSize,r.texelSizeX,r.texelSizeY),g.uniform1i(ea.uniforms.uTexture,r.attach(0)),X(t),r=t}g.blendFunc(g.ONE,g.ONE),g.enable(g.BLEND);for(let e=h.length-2;e>=0;e--){let t=h[e];g.uniform2f(ea.uniforms.texelSize,r.texelSizeX,r.texelSizeY),g.uniform1i(ea.uniforms.uTexture,r.attach(0)),g.viewport(0,0,t.width,t.height),X(t),r=t}g.disable(g.BLEND),eu.bind(),g.uniform2f(eu.uniforms.texelSize,r.texelSizeX,r.texelSizeY),g.uniform1i(eu.uniforms.uTexture,r.attach(0)),g.uniform1f(eu.uniforms.intensity,n.BLOOM_INTENSITY),X(t)}(G.read,J),n.SUNRAYS&&(r=G.read,o=G.write,i=Z,g.disable(g.BLEND),es.bind(),g.uniform1i(es.uniforms.uTexture,r.attach(0)),X(o),ec.bind(),g.uniform1f(ec.uniforms.weight,n.SUNRAYS_WEIGHT),g.uniform1i(ec.uniforms.uTexture,o.attach(0)),X(i),function(e,t,r){et.bind();for(let r=0;r<1;r++)g.uniform2f(et.uniforms.texelSize,e.texelSizeX,0),g.uniform1i(et.uniforms.uTexture,e.attach(0)),X(t),g.uniform2f(et.uniforms.texelSize,0,e.texelSizeY),g.uniform1i(et.uniforms.uTexture,t.attach(0)),X(e)}(Z,j,0)),null!=t&&n.TRANSPARENT?g.disable(g.BLEND):(g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),g.enable(g.BLEND)),n.TRANSPARENT||(a={r:(l={r:parseInt((u=(u=n.BACK_COLOR).replace("#","")).substr(0,2),16),g:parseInt(u.substr(2,2),16),b:parseInt(u.substr(4,2),16)}).r/255,g:l.g/255,b:l.b/255},eo.bind(),g.uniform4f(eo.uniforms.color,a.r,a.g,a.b,1),X(t)),null==t&&n.TRANSPARENT&&(ei.bind(),g.uniform1f(ei.uniforms.aspectRatio,e.width/e.height),X(t)),function(e){let t=null==e?g.drawingBufferWidth:e.width,r=null==e?g.drawingBufferHeight:e.height;if(eT.bind(),n.SHADING&&g.uniform2f(eT.uniforms.texelSize,1/t,1/r),g.uniform1i(eT.uniforms.uTexture,G.read.attach(0)),n.BLOOM){g.uniform1i(eT.uniforms.uBloom,J.attach(1)),g.uniform1i(eT.uniforms.uDithering,ee.attach(2));let e={x:t/ee.width,y:r/ee.height};g.uniform2f(eT.uniforms.ditherScale,e.x,e.y)}n.SUNRAYS&&g.uniform1i(eT.uniforms.uSunrays,Z.attach(3)),X(e)}(t)}function eb(e){for(let t=0;t<e;t++){let e=eO();e.r*=10,e.g*=10,e.b*=10,ey(Math.random(),Math.random(),1e3*(Math.random()-.5),1e3*(Math.random()-.5),e)}}function ey(t,r,o,i,l){var a;let u;ef.bind(),g.uniform1i(ef.uniforms.uTarget,W.read.attach(0)),g.uniform1f(ef.uniforms.aspectRatio,e.width/e.height),g.uniform2f(ef.uniforms.point,t,r),g.uniform3f(ef.uniforms.color,o,i,0),g.uniform1f(ef.uniforms.radius,(a=n.SPLAT_RADIUS/100,(u=e.width/e.height)>1&&(a*=u),a)),X(W.write),W.swap(),g.uniform1i(ef.uniforms.uTarget,G.read.attach(0)),g.uniform3f(ef.uniforms.color,l.r,l.g,l.b),X(G.write),G.swap()}function eL(t,r,n,o){t.id=r,t.down=!0,t.moved=!1,t.texcoordX=n/e.width,t.texcoordY=1-o/e.height,t.prevTexcoordX=t.texcoordX,t.prevTexcoordY=t.texcoordY,t.deltaX=0,t.deltaY=0,t.color=eO()}function eD(t,r,o){var i,l;let a,u;(t.prevTexcoordX=t.texcoordX,t.prevTexcoordY=t.texcoordY,t.texcoordX=r/e.width,t.texcoordY=1-o/e.height,t.deltaX=(i=t.texcoordX-t.prevTexcoordX,(a=e.width/e.height)<1&&(i*=a),i),t.deltaY=(l=t.texcoordY-t.prevTexcoordY,(u=e.width/e.height)>1&&(l/=u),l),n.HOVER)?t.moved=Math.abs(t.deltaX)>0||Math.abs(t.deltaY)>0:t.moved=t.down}function eO(){let e,t;if(0==n.COLOR_PALETTE.length)e=Math.random(),t=1;else{let r=Math.floor(Math.random()*n.COLOR_PALETTE.length),o=eU(n.COLOR_PALETTE[r]);e=o.h,t=o.s}let r=eF(e,t,n.BRIGHTNESS);return r.r*=.15,r.g*=.15,r.b*=.15,r}function eU(e){let t=parseInt((e=e.replace("#","")).substring(0,2),16)/255,r=parseInt(e.substring(2,4),16)/255,n=parseInt(e.substring(4,6),16)/255,o=Math.max(t,r,n),i=Math.min(t,r,n);return{h:(o===i?0:o===t?((r-n)/(o-i)+6)%6:o===r?(n-t)/(o-i)+2:(t-r)/(o-i)+4)/6,s:0===o?0:(o-i)/o,v:o}}function eF(e,t,r){let n,o,i,l,a,u,s,c;switch(l=Math.floor(6*e),a=6*e-l,u=r*(1-t),s=r*(1-a*t),c=r*(1-(1-a)*t),l%6){case 0:n=r,o=c,i=u;break;case 1:n=s,o=r,i=u;break;case 2:n=u,o=r,i=c;break;case 3:n=u,o=s,i=r;break;case 4:n=c,o=u,i=r;break;case 5:n=r,o=u,i=s}return{r:n,g:o,b:i}}function eB(e){let t=g.drawingBufferWidth/g.drawingBufferHeight;t<1&&(t=1/t);let r=Math.round(e),n=Math.round(e*t);return g.drawingBufferWidth>g.drawingBufferHeight?{width:n,height:r}:{width:r,height:n}}function eN(e){return Math.floor(e*(window.devicePixelRatio||1))}!function t(){var r,s,c,f,d,h;let p,E;let x=(E=Math.min(E=((p=Date.now())-eA)/1e3,.016666),eA=p,E);if(eI()&&eE(),n.COLORFUL&&(ew+=x*n.COLOR_UPDATE_SPEED)>=1&&(r=ew,ew=(r-0)%1+0,m.forEach(e=>{e.color=eO()})),function(){if(o.length>0&&eb(o.pop()),i.length>0){let t;let r=i.pop(),o=r[0]/e.clientWidth;console.log(o);let l=1-r[1]/e.clientHeight,a=r[2]/2,u=r[3]/2;if(null!=r[4]){let e=eU(r[4]),o=eF(e.h,e.s,n.BRIGHTNESS);o.r*=.15,o.g*=.15,o.b*=.15,t=o}else t=eO();t.r*=10,t.g*=10,t.b*=10,ey(o,l,a,u,t)}m.forEach(e=>{e.moved&&(e.moved=!1,function(e){if(l&&!a)return;let t=e.deltaX*n.SPLAT_FORCE,r=e.deltaY*n.SPLAT_FORCE;ey(e.texcoordX,e.texcoordY,t,r,e.color)}(e))})}(),u){let e,t,r,o,i,l,a,m;eC(t=ex((e=eB(n.CAPTURE_RESOLUTION)).width,e.height,v.formatRGBA.internalFormat,v.formatRGBA.format,v.halfFloatTexType,g.NEAREST)),d="fluid.png",h=r=(s=function(e,t,r){let n=new Uint8Array(e.length),o=0;for(let i=r-1;i>=0;i--)for(let r=0;r<t;r++){let l=i*t*4+4*r;n[l+0]=255*T(e[o+0]),n[l+1]=255*T(e[o+1]),n[l+2]=255*T(e[o+2]),n[l+3]=255*T(e[o+3]),o+=4}return n}((g.bindFramebuffer(g.FRAMEBUFFER,t.fbo),o=new Float32Array(t.width*t.height*4),g.readPixels(0,0,t.width,t.height,g.RGBA,g.FLOAT,o),o),t.width,t.height),c=t.width,f=t.height,l=(i=document.createElement("canvas")).getContext("2d"),i.width=c,i.height=f,(a=l.createImageData(c,f)).data.set(s),l.putImageData(a,0,0),i).toDataURL(),(m=document.createElement("a")).download=d,m.href=h,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(r),u=!1}l||function(e){g.disable(g.BLEND),eh.bind(),g.uniform2f(eh.uniforms.texelSize,W.texelSizeX,W.texelSizeY),g.uniform1i(eh.uniforms.uVelocity,W.read.attach(0)),X(K),eg.bind(),g.uniform2f(eg.uniforms.texelSize,W.texelSizeX,W.texelSizeY),g.uniform1i(eg.uniforms.uVelocity,W.read.attach(0)),g.uniform1i(eg.uniforms.uCurl,K.attach(1)),g.uniform1f(eg.uniforms.curl,n.CURL),g.uniform1f(eg.uniforms.dt,e),X(W.write),W.swap(),em.bind(),g.uniform2f(em.uniforms.texelSize,W.texelSizeX,W.texelSizeY),g.uniform1i(em.uniforms.uVelocity,W.read.attach(0)),X(Q),en.bind(),g.uniform1i(en.uniforms.uTexture,q.read.attach(0)),g.uniform1f(en.uniforms.value,n.PRESSURE),X(q.write),q.swap(),ev.bind(),g.uniform2f(ev.uniforms.texelSize,W.texelSizeX,W.texelSizeY),g.uniform1i(ev.uniforms.uDivergence,Q.attach(0));for(let e=0;e<n.PRESSURE_ITERATIONS;e++)g.uniform1i(ev.uniforms.uPressure,q.read.attach(1)),X(q.write),q.swap();ep.bind(),g.uniform2f(ep.uniforms.texelSize,W.texelSizeX,W.texelSizeY),g.uniform1i(ep.uniforms.uPressure,q.read.attach(0)),g.uniform1i(ep.uniforms.uVelocity,W.read.attach(1)),X(W.write),W.swap(),ed.bind(),g.uniform2f(ed.uniforms.texelSize,W.texelSizeX,W.texelSizeY),v.supportLinearFiltering||g.uniform2f(ed.uniforms.dyeTexelSize,W.texelSizeX,W.texelSizeY);let t=W.read.attach(0);g.uniform1i(ed.uniforms.uVelocity,t),g.uniform1i(ed.uniforms.uSource,t),g.uniform1f(ed.uniforms.dt,e),g.uniform1f(ed.uniforms.dissipation,n.VELOCITY_DISSIPATION),X(W.write),W.swap(),v.supportLinearFiltering||g.uniform2f(ed.uniforms.dyeTexelSize,G.texelSizeX,G.texelSizeY),g.uniform1i(ed.uniforms.uVelocity,W.read.attach(0)),g.uniform1i(ed.uniforms.uSource,G.read.attach(1)),g.uniform1f(ed.uniforms.dissipation,n.DENSITY_DISSIPATION),X(G.write),G.swap()}(x),eC(null),requestAnimationFrame(t)}(),e.addEventListener("mousedown",e=>{let t=eN(e.offsetX),r=eN(e.offsetY),n=m.find(e=>-1==e.id);null==n&&(n=new d),eL(n,-1,t,r)}),setTimeout(()=>{e.addEventListener("mousemove",e=>{eD(m[0],eN(e.offsetX),eN(e.offsetY))})},500),window.addEventListener("mouseup",()=>{m[0].down=!1}),e.addEventListener("touchstart",e=>{let t=e.targetTouches;for(;t.length>=m.length;)m.push(new d);for(let e=0;e<t.length;e++){let r=eN(t[e].pageX),n=eN(t[e].pageY);eL(m[e+1],t[e].identifier,r,n)}},{passive:!1,capture:!0}),e.addEventListener("touchmove",e=>{let t=e.targetTouches;for(let e=0;e<t.length;e++)eD(m[e+1],eN(t[e].pageX),eN(t[e].pageY))},{passive:!1,capture:!0}),window.addEventListener("touchend",e=>{let t=e.changedTouches;for(let e=0;e<t.length;e++){let r=m.find(r=>r.id==t[e].identifier);null!=r&&(r.down=!1)}}),window.addEventListener("keydown",e=>{e.code===n.SPLAT_KEY&&o.push(parseInt(Math.random()*n.SPLAT_AMOUNT*4+n.SPLAT_AMOUNT))})}}}}]);